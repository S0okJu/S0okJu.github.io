<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on S0okJu.dev</title><link>https://s0okju.github.io/post/</link><description>Recent content in Posts on S0okJu.dev</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Sun, 16 Mar 2025 11:00:00 +0900</lastBuildDate><atom:link href="https://s0okju.github.io/post/index.xml" rel="self" type="application/rss+xml"/><item><title>HexaCTF Awards. 12ê°œì˜ HexaCTF ê¸€ì—ê²Œ ìƒì„ ì¤ì‹œë‹¤.</title><link>https://s0okju.github.io/p/hexactf-awards/</link><pubDate>Sun, 16 Mar 2025 11:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/hexactf-awards/</guid><description>&lt;blockquote>
&lt;p>í•´ë‹¹ ê²Œì‹œê¸€ì€ ì¬ë¯¸ë¥¼ ìœ„í•´ ê°ì¢… ë°ˆì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;h2 id="ì¸ì‚¬ë§">ì¸ì‚¬ë§
&lt;/h2>&lt;p>ì•ˆë…•í•˜ì„¸ìš”.&lt;br>
2024ë…„ 11ì›”ë¶€í„° 2025ë…„ 3ì›”ê¹Œì§€ 5ê°œì›”ì´ë¼ëŠ” ê¸´ ì‹œê°„ ë™ì•ˆ HexaCTF ì‹œë¦¬ì¦ˆ ê¸€ì´ ë§ˆë¬´ë¦¬ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-awards/IMG_0416.gif"
width="480"
height="368"
srcset="https://s0okju.github.io/p/hexactf-awards/IMG_0416_hu_3307d5066aefec83.gif 480w, https://s0okju.github.io/p/hexactf-awards/IMG_0416_hu_fc88ab29be023705.gif 1024w"
loading="lazy"
alt="ì¸ì‚¬"
class="gallery-image"
data-flex-grow="130"
data-flex-basis="313px"
>&lt;/p>
&lt;p>ì·¨ì—…í•˜ê¸° ì „ì— ê¸€ì„ ë§ˆë¬´ë¦¬í•˜ëŠ” ê²ƒì´ ëª©í‘œì˜€ëŠ”ë° ë‹¬ì„±í–ˆë„¤ìš”. ğŸ¥¹
HexaCTF ì‹œë¦¬ì¦ˆëŠ” ì œê°€ í”„ë¡œì íŠ¸ë¥¼ í•˜ë©´ì„œ ì‘ì„±í•œ ê¸€ì…ë‹ˆë‹¤. ê·¸ë˜ì„œ ëŒ€íšŒë¥¼ ë§ˆì¹œ ì‹œì ì—ì„œ ë³´ë©´ ìƒ‰ë‹¤ë¥´ê²Œ ëŠê»´ì§‘ë‹ˆë‹¤. ì œ ê°ìƒì„ ê¸°ë°˜ìœ¼ë¡œ ìƒì„ ì£¼ë ¤ê³  í•©ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ìˆ˜ìƒ-ëª©ë¡">ìˆ˜ìƒ ëª©ë¡
&lt;/h2>&lt;ul>
&lt;li>ì„¤ëª…í•˜ê¸° ë‚œê°í•´ìƒ&lt;/li>
&lt;li>í˜¼ë€ìƒ&lt;/li>
&lt;li>êµ¬ì„±ì´ ì•„ì‰½ìƒ&lt;/li>
&lt;li>ì•„ì´ë””ì–´ ì‹¤ì²œìƒ&lt;/li>
&lt;li>ìµœì„ ì˜ ì„ íƒìƒ&lt;/li>
&lt;/ul>
&lt;h2 id="ìˆ˜ìƒ-ë°œí‘œ">ìˆ˜ìƒ ë°œí‘œ
&lt;/h2>&lt;h3 id="ì„¤ëª…í•˜ê¸°-ë‚œê°í•´ìƒ">ì„¤ëª…í•˜ê¸° ë‚œê°í•´ìƒ
&lt;/h3>&lt;p>ê¸€ë¡œ í’€ì–´ ì“°ê¸° ì–´ë ¤ìš´ ê¸€ì—ê²Œ ì£¼ëŠ” ìƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-awards/image.png"
width="150"
height="150"
srcset="https://s0okju.github.io/p/hexactf-awards/image_hu_c601999445bb2067.png 480w, https://s0okju.github.io/p/hexactf-awards/image_hu_b86e8f5e00828358.png 1024w"
loading="lazy"
alt="ë©”ëª¨ì¥ì„ ì—´ë•Œë§ˆë‹¤ ì·¨í•˜ëŠ” í–‰ë™"
class="gallery-image"
data-flex-grow="100"
data-flex-basis="240px"
>&lt;/p>
&lt;ul>
&lt;li>ğŸ‘‘ Top 1. &lt;a class="link" href="https://s0okju.github.io/p/hexactf-8/" target="_blank" rel="noopener"
>HexaCTF 8. ì»¤ìŠ¤í…€ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í†µí•œ Challenge ìƒì„± ë° ì‚­ì œ êµ¬í˜„&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>ì´ ë¶€ë¶„ì—ì„œ ì ê¹ ê¸€ì“°ê¸°ë¥¼ í¬ê¸°í•  ë»” í–ˆìŠµë‹ˆë‹¤. Operator íŒ¨í„´ì€ í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ í™˜ê²½ì—ì„œ ë§ì´ ì“°ì´ë©´ì„œ ì •ì‘ ë¡œì§ ê´€ë ¨ ê¸€ì´ ë§ì´ ì—†ì—ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì œí•œëœ ì •ë³´ë¥¼ ê°€ì§€ê³  ê¸€ì„ ì¨ì•¼ í–ˆìŠµë‹ˆë‹¤. í™•ì‹ ë„ ë§ì´ ì—†ì—ˆêµ¬ìš”&amp;hellip; ì¼ë‹¨ ì œê°€ ì´í•´í•œ ë‚´ìš© ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±í•˜ê¸´ í–ˆì§€ë§Œ ë‚˜ì¤‘ì— ë” ê¹Šê²Œ ê³µë¶€í•˜ë©´ ìˆ˜ì •í•´ì•¼ í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ì €ì—ê²Œ ì •ë§ í° ì¢Œì ˆê°ì„ ì•ˆê²¨ì¤¬ê¸° ë•Œë¬¸ì— ì„¤ëª…í•˜ê¸° ë‚œê°í•´ìƒ 1ë“± ìë¦¬ë¥¼ ì¤¬ìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-awards/image-1.png"
width="283"
height="262"
srcset="https://s0okju.github.io/p/hexactf-awards/image-1_hu_11142bd9200d6409.png 480w, https://s0okju.github.io/p/hexactf-awards/image-1_hu_ac2b7f94ef5e16b1.png 1024w"
loading="lazy"
alt="ëˆˆë¬¼ì´ ëŠì´ì§€ ì•ŠìŒ"
class="gallery-image"
data-flex-grow="108"
data-flex-basis="259px"
>&lt;/p>
&lt;ul>
&lt;li>Top 2. &lt;a class="link" href="https://s0okju.github.io/p/hexactf-11/" target="_blank" rel="noopener"
>HexaCTF 11. ì˜¤í”ˆ ìŠ¤íƒ ì„œë²„ ë„¤íŠ¸ì›Œí¬ ê°œì„ ê¸° - ì„œë²„ì— NIC 2ê°œ ì‚½ì…í•œ ì´ìœ &lt;/a>&lt;/li>
&lt;/ul>
&lt;p>ë¨¸ë¦¬ ì†ìœ¼ë¡œëŠ” ê·¸ë¦¼ì´ ê·¸ë ¤ì§€ëŠ”ë° ê¸€ë¡œ ì ˆëŒ€ ì•ˆì¨ì§‘ë‹ˆë‹¤. ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì¸ë° NICë¡œ ì—°ê²°í•´ì„œ ìƒì„±ëœ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì™€ ê°€ìƒ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë„ ë¶„ë¦¬í•´ì„œ ì¨ì¤˜ì•¼ í•©ë‹ˆë‹¤.&lt;br>
ì œì¼ ë¨¸ë¦¬ ì•„í”ˆ ê²ƒì€ ê°™ì€ ì‚¬ì„¤ IPì¸ë° ë¼ìš°í„°ì—ì„œ ìŠ¤ìœ„ì¹˜ë¥¼ í†µí•´ í• ë‹¹ë°›ì€ IPì¸ì§€ ì•„ë‹ˆë©´ ê°€ìƒ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì—ì„œ í• ë‹¹ëœ IPì¸ì§€ êµ¬ë¶„í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-awards/image-2.png"
width="600"
height="327"
srcset="https://s0okju.github.io/p/hexactf-awards/image-2_hu_5b2c33093b26f54e.png 480w, https://s0okju.github.io/p/hexactf-awards/image-2_hu_4015f5f913a180cf.png 1024w"
loading="lazy"
alt="ë„ˆë¬´ ë‹¤ì–‘í•˜ê²Œ ìˆëŠ”ê±° ì•„ë‹ˆë‹ˆâ€¦"
class="gallery-image"
data-flex-grow="183"
data-flex-basis="440px"
>&lt;/p>
&lt;p>ê·¸ë˜ì„œ ë„¤íŠ¸ì›Œí¬ ê´€ë ¨ ê¸€ì—ëŠ” ì˜ˆì‹œê°€ ë“¤ì–´ê°€ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ì„ ê°€ì§€ê¸° ìœ„í•´ NICëŠ”Â &lt;strong>ëª¨ë‘ ë™ì¼í•œ ìŠ¤ìœ„ì¹˜ì— ì—°ê²°&lt;/strong>ë©ë‹ˆë‹¤. 192.168.50.1/24 ëŒ€ì—­ì´ë¼ë©´ ì„œë²„ëŠ” 192.168.50.27ë¡œ í• ë‹¹ë°›ê³  Floating IPë¡œë„ 192.168.50.122 ì´ëŸ° ì‹ìœ¼ë¡œ í• ë‹¹ë°›ëŠ” ê²ƒì´ì£ . ì´ì²˜ëŸ¼Â &lt;strong>Provider NetworkëŠ” ì„œë²„ì™€ ë™ì¼í•œ ëŒ€ì—­ì˜ IPë¥¼ ê°€ì§€ê²Œ ë©ë‹ˆë‹¤.&lt;/strong>&lt;/p>&lt;/blockquote>
&lt;p>ì œê°€ ê¸€ì„ ì“°ë©´ì„œ ëŠë¼ëŠ” ê²ƒì€ ë„¤íŠ¸ì›Œí¬ ë¶„ì•¼ëŠ” ê¸€ì´ ì•„ë‹ˆë¼ ê·¸ë¦¼ìœ¼ë¡œ í‘œí˜„í•˜ëŠ”ê²Œ í›¨ì”¬ íš¨ìœ¨ì ì´ë¼ëŠ” ê²ƒì…ë‹ˆë‹¤. ì™œëƒí•˜ë©´ ë¸”ë¡(ë²”ìœ„) ë‹¨ìœ„ë¡œ ì‹œìŠ¤í…œì„ ë°”ë¼ë³´ê¸° ë•Œë¬¸ì´ì£ .&lt;/p>
&lt;blockquote>
&lt;p>ë¨¸ë¦¬ ì† ê·¸ë¦¼ì€ ê·¸ë ¤ì§€ì§€ë§Œ ì ì ˆí•œ ë‹¨ì–´ ì„ ì •ê³¼ ì†ì´ ë”°ë¼ì£¼ì§€ ì•Šì•„ì„œ ì„¤ëª…í•˜ê¸° ë‚œê°í•´ìƒ 2ë“± ìë¦¬ë¥¼ ì¤¬ìŠµë‹ˆë‹¤.(ì´ê²Œ 1ë“±ë³´ë‹¤ ë” ì—´ë°›ëŠ” ë¶€ë¶„ì¼ì§€ë„&amp;hellip;)&lt;/p>&lt;/blockquote>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-awards/image-3.png"
width="2560"
height="1888"
srcset="https://s0okju.github.io/p/hexactf-awards/image-3_hu_3ab63752428c4920.png 480w, https://s0okju.github.io/p/hexactf-awards/image-3_hu_16e77917b3c0eeb1.png 1024w"
loading="lazy"
alt="ë§ˆìŒ ì†ìœ¼ë¡œëŠ” ë¶„ë…¸ê°€ ì°¨ì˜¤ë¦„"
class="gallery-image"
data-flex-grow="135"
data-flex-basis="325px"
>&lt;/p>
&lt;h3 id="í˜¼ë€ìƒ">í˜¼ë€ìƒ
&lt;/h3>&lt;p>ê¸€ ì“°ëŠ” ë‹¹ì‹œì—ë„ ì§€ê¸ˆë„ í˜¼ë€ìŠ¤ëŸ¬ìš´ ê¸€ì—ê²Œ ì£¼ëŠ” ìƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-awards/image-4.png"
width="600"
height="412"
srcset="https://s0okju.github.io/p/hexactf-awards/image-4_hu_180309076887bb79.png 480w, https://s0okju.github.io/p/hexactf-awards/image-4_hu_f2e64749b4039e.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="145"
data-flex-basis="349px"
>&lt;/p>
&lt;ul>
&lt;li>ğŸ‘‘ Top 1. &lt;a class="link" href="https://s0okju.github.io/p/hexactf-8/" target="_blank" rel="noopener"
>HexaCTF 8. ì»¤ìŠ¤í…€ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í†µí•œ Challenge ìƒì„± ë° ì‚­ì œ êµ¬í˜„&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>ì„¤ëª…í•˜ê¸° ë‚œê°í•´ ìƒê³¼ ë˜‘ê°™ì€ ì´ìœ ì…ë‹ˆë‹¤. ì •ë³´ê°€ ë§ì´ ì—†ìŠµë‹ˆë‹¤. Kubebuilder ê³µì‹ ë¬¸ì„œì—ëŠ” &amp;ldquo;ë„ˆ Operator íŒ¨í„´ ì•Œì§€?&amp;rdquo; ì™€ ê°™ì´ êµìˆ˜ë‹˜ ë§ˆì¸ë“œë¡œ ì‘ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.&lt;br>
ê·¸ë˜ì„œ Kubebuilderì—ì„œ ì œì‹œëœ í‚¤ì›Œë“œë¥¼ ì¼ë¦¬ë¦¬ ê²€ìƒ‰í•´ì„œ ê°ê°ì˜ ì»´í¬ë„ŒíŠ¸ê°€ ë¬´ìŠ¨ ì—­í• ì„ í•˜ëŠ”ì§€ ë‹¤ ì°¾ì•„ë´ì•¼ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì •ë³´ë¥¼ ì°¾ê³  ë‚˜ì„œ í•˜ë‚˜ë¡œ ì •ë¦¬í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í•œë°, ì—¬ê¸°ì„œ ë¨¸ë¦¬ê°€ ì–´ì§€ëŸ¬ì› ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>&amp;ldquo;ì›ë˜ëŠ” Builderê°€ ìˆëŠ”ë° Kubebuilder ê³µì‹ ì‚¬ì´íŠ¸ì—ëŠ” ì™œ Builderê°€ ì—†ëŠ”ê±°ì§€?&amp;rdquo;&lt;/li>
&lt;li>&amp;ldquo;ManagerëŠ” ì–´ë–»ê²Œ Controllerë¥¼ ë§Œë“œëŠ”ê±°ì•¼? ì´ê²Œ ì½”ë“œë¡œ êµ¬í˜„ì´ ê°€ëŠ¥í•´?&amp;rdquo;&lt;/li>
&lt;li>&amp;ldquo;ì™œ ëˆ„êµ°ê°€ëŠ” Operatorë¡œ ë§í•˜ê³  ëˆ„êµ°ê°€ëŠ” Controllerë¼ê³  ë¶€ë¥´ëŠ” ê±°ì•¼?&amp;rdquo;&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-awards/image-5.png"
width="637"
height="480"
srcset="https://s0okju.github.io/p/hexactf-awards/image-5_hu_b8f5b703d06583e0.png 480w, https://s0okju.github.io/p/hexactf-awards/image-5_hu_f6c5743565bc062d.png 1024w"
loading="lazy"
alt="ë‡Œì„¸í¬ê°€ í˜¼ë€ìŠ¤ëŸ¬ì›Œ í•˜ëŠ” ì¤‘"
class="gallery-image"
data-flex-grow="132"
data-flex-basis="318px"
>&lt;/p>
&lt;p>ì›ë˜ ì‹œìŠ¤í…œ ê·¸ë¦¼ì„ ë³´ê³  êµ¬í˜„ ë°©ì‹ì„ ì–´ë ´í’‹ì´ íŒŒì•…í•˜ëŠ” í¸ì¸ë°, ì´ë²ˆì—ëŠ” í•˜ë‚˜ë„ íŒŒì•…í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ì‹¤ì œë¡œ KubeBuilder ì†ŒìŠ¤ì½”ë“œ ë¶„ì„ì„ ë„ì „í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ Goë¥¼ ì œëŒ€ë¡œ ì‚¬ìš©í•œ ê²½í—˜ì´ ì—†ì–´ì„œ ì‹¤íŒ¨í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. Go ê³µë¶€ë¥¼ ë‹¤ì‹œ í•´ì•¼ê² êµ°ìš”.&lt;/p>
&lt;blockquote>
&lt;p>ì €ì—ê²Œ ì˜ì›í•œ í˜¼ë€ìŠ¤ëŸ¬ì›€ì„ ì•ˆê²¨ì¤˜ í˜¼ë€ìƒ 1ë“±ì„ ì¤¬ìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-awards/image-6.png"
width="200"
height="200"
srcset="https://s0okju.github.io/p/hexactf-awards/image-6_hu_7153e300deb96637.png 480w, https://s0okju.github.io/p/hexactf-awards/image-6_hu_43e187b49bc013bf.png 1024w"
loading="lazy"
alt="ë²™~~"
class="gallery-image"
data-flex-grow="100"
data-flex-basis="240px"
>&lt;/p>
&lt;h3 id="êµ¬ì„±ì´-ì•„ì‰½ìƒ">êµ¬ì„±ì´ ì•„ì‰½ìƒ
&lt;/h3>&lt;p>êµ¬ì„±ì´ ì•„ì‰¬ìš´ ê¸€ì—ê²Œ ì£¼ëŠ” ìƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-awards/image-7.png"
width="430"
height="357"
srcset="https://s0okju.github.io/p/hexactf-awards/image-7_hu_7368ce7e47bc2039.png 480w, https://s0okju.github.io/p/hexactf-awards/image-7_hu_d9fc037330dae8ad.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="120"
data-flex-basis="289px"
>&lt;/p>
&lt;ul>
&lt;li>ğŸ‘‘ Top 1. &lt;a class="link" href="https://s0okju.github.io/p/hexactf-1/" target="_blank" rel="noopener"
>HexaCTF - 1. ì¸í”„ë¼ í”Œë«í¼ ì„ ì •ê³¼ ì„œë²„ ì´ì „ ì‹œ ë§ˆì£¼í•œ ë¬¸ì œ&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>vlan ë„¤íŠ¸ì›Œí¬ êµ¬ì„±í•œ ì´ìœ ì™€ ì‹¤íŒ¨í–ˆì§€ë§Œ ê·¸ ëŒ€ì‹  ì–´ë–»ê²Œ í–ˆëŠ”ì§€ ì„¤ëª…í–ˆìœ¼ë©´ ê´œì°®ì€ ê¸€ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ê¸€ë§Œ ë³´ë©´ ì„ íƒì˜ ì´ìœ ê°€ ëª…í™•í•´ ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤.&lt;br>
ê¸€ ì‘ì„± ì‹œì ì´ 5ê°œì›” ì „ì´ë¼ ì €ë•Œ ë‹¹ì‹œ ë¬´ìŠ¨ ê¸°ì¤€ì ì„ ê°€ì§€ê³  ì €ëŸ° ì„ íƒì„ í–ˆëŠ”ì§€ ê¸°ì–µì´ ë‚˜ì§€ ì•ŠìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ëŒ€ì²´ ë‚´ê°€ ë¬´ìŠ¨ ìƒê°ìœ¼ë¡œ ì € ê¸€ì„ ì¼ëŠ”ì§€ ì˜ë¬¸ì´ ê°€ì„œ êµ¬ì„±ì´ ì•„ì‰½ìƒ 1ë“±ì„ ë“œë¦½ë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-awards/image-8.png"
width="529"
height="320"
srcset="https://s0okju.github.io/p/hexactf-awards/image-8_hu_c66d84551a2613e3.png 480w, https://s0okju.github.io/p/hexactf-awards/image-8_hu_298408eaad98a39f.png 1024w"
loading="lazy"
alt="ì–´?"
class="gallery-image"
data-flex-grow="165"
data-flex-basis="396px"
>&lt;/p>
&lt;ul>
&lt;li>Top 2. &lt;a class="link" href="https://s0okju.github.io/p/hexactf-3/" target="_blank" rel="noopener"
>HexaCTF - 3. Jenkinsë¥¼ í™œìš©í•œ CI í™˜ê²½ êµ¬ì„±í•˜ê¸°&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>ì €í¬ í”„ë¡œì íŠ¸ì—ì„œëŠ” Jenkinsë¥¼ ë‘ ê°€ì§€ ì´ìœ ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤. í•˜ë‚˜ëŠ” CTFì— ì¶œì œí•  ë¬¸ì œì˜ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ê¸° ìœ„í•´ í•˜ë‚˜ëŠ” CTF ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤. ê¸€ ì‘ì„± ë‹¹ì‹œì—ëŠ” ì €ê²ƒê¹Œì§€ ìƒê°ì„ ì•ˆí•˜ê³  ê¸€ì„ ì“´ ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“­ë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ì  í‚¨ìŠ¤ ì‚¬ìš© ëª©ì ì— ëŒ€í•´ ëª…í™•í•˜ê²Œ ì‘ì„±í•˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ êµ¬ì„±ì´ ì•„ì‰½ìƒ 2ë“±ì„ ë“œë¦½ë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;ul>
&lt;li>Top 3. &lt;a class="link" href="https://s0okju.github.io/p/hexactf-7/" target="_blank" rel="noopener"
>HexaCTF 7. Challenge CR ìƒíƒœ ì •ì˜ì™€ Operator ê°œë… ì •ë¦¬&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Challenge CR ê¸€ì„ ì‘ì„±í•˜ë‹¤ê°€ ê°‘ìê¸° Operatorì˜ ê°œë…ì´ ë‚˜ì˜¨ ê¸€ì…ë‹ˆë‹¤. ì´ë•Œì˜ ê°ì •ì€ ì•„ì§ë„ ìƒìƒí•œë°ìš”. ë³¸ë˜ ê³„íšì´ë¼ë©´ Challenge CRë¥¼ ì„¤ëª…í•˜ê³  HexaCTF 8ì—ì„œ ì„¤ëª…í•œ ë‚´ìš©ì„ ì •ë¦¬í•  ì˜ˆì •ì´ì—ˆìŠµë‹ˆë‹¤.&lt;br>
ê·¸ëŸ¬ë‚˜ ê¸€ë¡œ ì„œìˆ í•˜ëŠ” ê³¼ì •ì—ì„œ &lt;strong>&amp;ldquo;OperatorëŠ” ê·¼ë³¸ì ìœ¼ë¡œ ë¬´ì—‡ì„ ë§Œë“œëŠ”ê±°ì§€?&amp;rdquo;&lt;/strong> ë¼ëŠ” ì˜ë¬¸ì ì„ ê°€ì§€ê²Œ ë˜ì—ˆê³ , ì¿ ë²„ë„¤í‹°ìŠ¤ ì‹œìŠ¤í…œ ê´€ì ì—ì„œ Operatorì˜ ê°œë…ì— ëŒ€í•´ ì‘ì„±í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ê±°ì˜ ì˜ì‹ì˜ íë¦„ìœ¼ë¡œ ê¸€ì„ ì „ê°œí–ˆìœ¼ë¯€ë¡œ êµ¬ì„±ì´ ì•„ì‰½ìƒ 3ë“±ì„ ë“œë¦½ë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-awards/image-9.png"
width="911"
height="720"
srcset="https://s0okju.github.io/p/hexactf-awards/image-9_hu_6afcad397687233.png 480w, https://s0okju.github.io/p/hexactf-awards/image-9_hu_59b93b0c1667e0dd.png 1024w"
loading="lazy"
alt="ë‚œ.ì¥.íŒ"
class="gallery-image"
data-flex-grow="126"
data-flex-basis="303px"
>&lt;/p>
&lt;h3 id="ì•„ì´ë””ì–´-ì‹¤ì²œìƒ">ì•„ì´ë””ì–´ ì‹¤ì²œìƒ
&lt;/h3>&lt;p>ë‚˜ë¦„ ë§Œì¡±í•œ ì•„ì´ë””ì–´ë¥¼ ì‹¤ì²œí•œ ê¸€ì—ê²Œ ì£¼ëŠ” ìƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-awards/image-10.png"
width="800"
height="638"
srcset="https://s0okju.github.io/p/hexactf-awards/image-10_hu_8fd174b6f7b3057b.png 480w, https://s0okju.github.io/p/hexactf-awards/image-10_hu_6f6e7d93482c65c4.png 1024w"
loading="lazy"
alt="í¡ì¡±"
class="gallery-image"
data-flex-grow="125"
data-flex-basis="300px"
>&lt;/p>
&lt;ul>
&lt;li>ğŸ‘‘ Top 1. &lt;a class="link" href="https://s0okju.github.io/p/hexactf-6/" target="_blank" rel="noopener"
>HexaCTF 6. Kubebuilderë¥¼ í™œìš©í•œ ChallengeDefinition&amp;amp;Challenge Type êµ¬í˜„&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Challenge êµ¬ì¡°ë¥¼ ì„¤ê³„í•  ë‹¹ì‹œ AWS SysOps ìê²©ì¦ì„ ì¤€ë¹„í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤. CloudFormation ë²”ìœ„ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ê³µë¶€í•˜ê³  ìˆì—ˆëŠ”ë°, &lt;strong>&amp;ldquo;Templateì´ë¼ëŠ” ê°œë…ì„ í”„ë¡œì íŠ¸ì— ëŒ€ì…í•  ìˆ˜ ìˆì„ê¹Œ?&amp;rdquo;&lt;/strong> ë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆê³  ì§ì ‘ ì ìš©í•˜ê¸°ë¡œ ê²°ì‹¬í–ˆìŠµë‹ˆë‹¤.&lt;br>
ì§€ê¸ˆì€ ChallengeDefinitionì´ì§€ë§Œ ì´ˆê¸° ì´ë¦„ì€ ChallengeTemplateì´ì—ˆìŠµë‹ˆë‹¤. ìì£¼ ì‚¬ìš©í•˜ëŠ” í”Œë«í¼ êµ¬ì„±ì„ ì‘ì€ Templateìœ¼ë¡œ êµ¬ì„±í•˜ì—¬ CloudFormation ì²˜ëŸ¼ ì—¬ëŸ¬ ê°œì˜ Templateë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ ì‚¬ìš©ìëŠ” ì‚¬ìš©í•  í…œí”Œë¦¿ê³¼ í•„ìš”í•œ ì†Œìˆ˜ì˜ ì •ë³´ë§Œìœ¼ë¡œ Challengeë¥¼ ìƒì„±í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-awards/image-11.png"
width="811"
height="521"
srcset="https://s0okju.github.io/p/hexactf-awards/image-11_hu_173218540e9de991.png 480w, https://s0okju.github.io/p/hexactf-awards/image-11_hu_425c4174e0dc03cc.png 1024w"
loading="lazy"
alt="ì´ˆê¸° ChallengeDefinition êµ¬ì„± - ChallengeTemplate"
class="gallery-image"
data-flex-grow="155"
data-flex-basis="373px"
>&lt;/p>
&lt;p>ê·¸ëŸ°ë° ì¤‘ê°„ ì ê²€ì— íŒ€ì›ê³¼ ìƒì˜í•˜ëŠ” ê³¼ì •ì—ì„œ ì´ëŸ¬í•œ ë°©ì‹ì€ ì‚¬ìš©ìì—ê²Œ ì˜¤íˆë ¤ í˜¼ë€ì„ ì•¼ê¸°í•  ìˆ˜ ìˆë‹¤ëŠ” ì˜ê²¬ì„ ë°›ì•˜ìŠµë‹ˆë‹¤. ì˜ê²¬ì„ ì¼ë¶€ ìˆ˜ìš©í•˜ì—¬ êµ¬ì„± íŒŒì¼ì—ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ êµ¬ì„± í˜•ì‹ì„ ë”°ë¥´ê¸°ë¡œ ê²°ì •í–ˆê³  ChallengeTemplate ëŒ€ì‹  ChallengeDefinitionìœ¼ë¡œ ì´ë¦„ì„ ë°”ê¾¸ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ì•„ì´ë””ì–´ë¥¼ ì§ì ‘ êµ¬í˜„í•œ ê²ƒê³¼ ë”ë¶ˆì–´ ì•„ì´ë””ì–´ì— ì„œì‚¬ê°€ ìˆì–´ ì•„ì´ë””ì–´ ì‹¤ì²œìƒ 1ë“±ì„ ë“œë¦½ë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-awards/image-12.png"
width="1024"
height="586"
srcset="https://s0okju.github.io/p/hexactf-awards/image-12_hu_6cbbca9d4fafe287.png 480w, https://s0okju.github.io/p/hexactf-awards/image-12_hu_7eda853a1be3ac09.png 1024w"
loading="lazy"
alt="ì˜¤?!"
class="gallery-image"
data-flex-grow="174"
data-flex-basis="419px"
>&lt;/p>
&lt;ul>
&lt;li>Top 2. &lt;a class="link" href="https://s0okju.github.io/p/hexactf-10/#control-api-operator-%EC%82%AC%EC%9D%B4%EC%97%90-%ED%81%90%EB%A5%BC-%EB%91%94-%EC%9D%B4%EC%9C%A0" target="_blank" rel="noopener"
>HexaCTF 10. ì•„í‚¤í…ì³ ì„¤ê³„ ë° Challenge Control API ì œì‘&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Challenge APIë¥¼ ë³„ë„ë¡œ ìƒì„±í•˜ì—¬ ê¸°ì¡´ì˜ ì¿ ë²„ë„¤í‹°ìŠ¤ ìš”ì²­ ë°©ì‹ì´ ì•„ë‹Œ ë…ìì ì¸ ê·œê²©ìœ¼ë¡œ ìƒì„±ì„ ìš”ì²­í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. ì¦‰ json 3ê°œì˜ í‚¤-ê°’ë§Œìœ¼ë¡œ í•˜ë‚˜ì˜ Challengeë¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ” ê²ƒì´ì£ .&lt;/p>
&lt;blockquote>
&lt;p>Challenge APIì™€ Operatorë¥¼ í™œìš©í•˜ì—¬ Challengeë§Œì˜ ë…ìì ì¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°ë¥¼ ë§Œë“¤ì—ˆìœ¼ë¯€ë¡œ ì•„ì´ë””ì–´ ì‹¤ì²œìƒ 2ë“±ì„ ë“œë¦½ë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;h3 id="ìµœì„ ì˜-ì„ íƒìƒ">ìµœì„ ì˜ ì„ íƒìƒ
&lt;/h3>&lt;ul>
&lt;li>ğŸ‘‘ ê³µë™ Top 1. HexaCTFì˜ ëª¨ë“  ê¸€ë“¤&lt;/li>
&lt;/ul>
&lt;p>ì‹œê°„ ì°¨ë¥¼ ë‘ê³  ê¸€ì„ ì“°ë‹¤ ë³´ë©´ &amp;ldquo;ì™œ ë‚˜ëŠ” ì´ëŸ° ì„ íƒì„ í–ˆì§€?&amp;rdquo; ë¼ëŠ” ìƒê°ì„ í•˜ê³¤ í•©ë‹ˆë‹¤. ëƒ‰ì •í•œ í‰ê°€ëŠ” ë’¤ë¡œ ë¯¸ë£¨ê³  &lt;strong>ê·¸ë•Œì˜ ì„ íƒì´ ìµœì„ ì´ì—ˆìŒì„ ì¸ì •í•˜ëŠ” ê²ƒë„ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>ë¶€ì¡±í•œ ë¶€ë¶„ì´ ìˆìœ¼ë©´ ì•ìœ¼ë¡œ ê³ ì¹˜ë©´ ë˜ë‹ˆê¹Œìš”. ğŸ˜„&lt;/p>
&lt;blockquote>
&lt;p>ìŠ¤ìŠ¤ë¡œì—ê²Œ ê³ ìƒí–ˆë‹¤ëŠ” ì˜ë¯¸ì—ì„œ HexaCTFì˜ ëª¨ë“  ê¸€ì—ê²Œ ìµœì„ ì˜ ì„ íƒìƒì„ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-awards/i-did-best-i-could.gif"
width="220"
height="176"
srcset="https://s0okju.github.io/p/hexactf-awards/i-did-best-i-could_hu_2ea5e7eee55ebb9.gif 480w, https://s0okju.github.io/p/hexactf-awards/i-did-best-i-could_hu_d9c973959770fa10.gif 1024w"
loading="lazy"
alt="ê·¸ë•ŒëŠ” ìµœì„ ì˜ ì„ íƒì´ì—ˆë‹¤."
class="gallery-image"
data-flex-grow="125"
data-flex-basis="300px"
>&lt;/p>
&lt;h2 id="ìˆ˜ìƒ-ì†Œê°">ìˆ˜ìƒ ì†Œê°
&lt;/h2>&lt;p>ëª¨ë“  ê¸€ì´ ì˜ ì¼ë‹¤ëŠ” ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤. ì˜¤íˆë ¤ ì•„ì‰¬ìš´ ì ì„ ë‚˜ì—´í•˜ë¼ê³  í•˜ë©´ ë¸”ë¡œê·¸ë¡œ ëª‡í¸ì„ ë” ì“¸ ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;br>
ë³¸ë˜ ê¸€ì“°ê¸°ë¥¼ ì˜í•˜ëŠ” í¸ì´ ì•„ë‹ˆì§€ë§Œ ì„œíˆ¬ë¥¸ í•„ë ¥ìœ¼ë¡œ 13í¸(12 + í›„ê¸°)ì„ ì‘ì„±í•œ ê±´ ë‚˜ë¦„ ìë‘ìŠ¤ëŸ½ìŠµë‹ˆë‹¤.&lt;br>
ì´ë ‡ê²Œ ê¾¸ì¤€íˆ í•˜ë‹¤ë³´ë©´ ì €ì˜ ì‹¤ë ¥ë„ ê¸€ì“°ê¸° ì‹¤ë ¥ë„ ëŠ˜ì–´ë‚˜ê² ì£ .&lt;/p>
&lt;p>HexaCTF ì‹œë¦¬ì¦ˆ ë.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-awards/image-13.png"
width="563"
height="315"
srcset="https://s0okju.github.io/p/hexactf-awards/image-13_hu_fc563c5879620644.png 480w, https://s0okju.github.io/p/hexactf-awards/image-13_hu_3e29b70515ccc0b5.png 1024w"
loading="lazy"
alt="ë."
class="gallery-image"
data-flex-grow="178"
data-flex-basis="428px"
>&lt;/p></description></item><item><title>HexaCTF 12. ì¿ ë²„ë„¤í‹°ìŠ¤ ë©€í‹° ë…¸ë“œ ì„ ì • ì´ìœ ì™€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ íšŒê³ </title><link>https://s0okju.github.io/p/hexactf-12/</link><pubDate>Sun, 16 Mar 2025 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/hexactf-12/</guid><description>&lt;p>ì´ì œë¶€í„° ì›Œì»¤ ë…¸ë“œë¥¼ 2ê°œ ì„ ì •í•œ ì´ìœ ì™€ ì¿ ë²„ë„¤í‹°ìŠ¤ì— ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•˜ë©´ì„œ ëŠë‚€ì ì„ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ì¿ ë²„ë„¤í‹°ìŠ¤-ì›Œì»¤-ë…¸ë“œ-êµ¬ì„±">ì¿ ë²„ë„¤í‹°ìŠ¤ ì›Œì»¤ ë…¸ë“œ êµ¬ì„±
&lt;/h2>&lt;p>ì´ˆê¸°ì— ì €ëŠ” ì‚¬ìš©ìê°€ ë°°í¬í•œ Challengeë§Œì˜ ë…ë¦½ì ì¸ í™˜ê²½ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì›Œì»¤ ë…¸ë“œë¥¼ 2ê°œ ì„¤ì¹˜í•œ í›„ &lt;code>nodeSelector&lt;/code>ë¥¼ í™œìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ ì—­í• ì— ë”°ë¼ ê° ë…¸ë“œì— ë°°ì¹˜ë  ìˆ˜ ìˆë„ë¡ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.&lt;br>
í•˜ë‚˜ì˜ ì›Œì»¤ ë…¸ë“œì— ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ê¸°íƒ€ ëª¨ë‹ˆí„°ë§ ë„êµ¬ë¥¼ ë°°ì¹˜í•˜ê³  ë‹¤ë¥¸ í•˜ë‚˜ì—ëŠ” Challenge ì„œë²„ë§Œ ë°°ì¹˜í•˜ë„ë¡ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-12/image.png"
width="601"
height="281"
srcset="https://s0okju.github.io/p/hexactf-12/image_hu_138392bc5d04347.png 480w, https://s0okju.github.io/p/hexactf-12/image_hu_a8338b3dd0369a20.png 1024w"
loading="lazy"
alt="ì›Œì»¤ ë…¸ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°ì¹˜ë„"
class="gallery-image"
data-flex-grow="213"
data-flex-basis="513px"
>&lt;/p>
&lt;h3 id="ì§ˆë¬¸-1-ì™œ-ì›Œì»¤-ë…¸ë“œê°€-3ê°œê°€-ì•„ë‹Œê°€ìš”">ì§ˆë¬¸ 1. ì™œ ì›Œì»¤ ë…¸ë“œê°€ 3ê°œê°€ ì•„ë‹Œê°€ìš”?
&lt;/h3>&lt;p>ì•„ë˜ì˜ ì§ˆë¬¸ì„ í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>&amp;ldquo;í”„ë¡œê·¸ë¨ ì—­í• ì— ë”°ë¼ ë…¸ë“œ ë³„ë¡œ ë°°ì¹˜í•œë‹¤ê³  í•˜ì…¨ì–ì•„ìš”. ê·¸ë ‡ë‹¤ë©´ ë…¸ë“œ 3ê°œ ë°°í¬í•´ì•¼ í•˜ëŠ” ê²ƒ ì•„ë‹Œê°€ìš”? &amp;quot;&lt;/p>&lt;/blockquote>
&lt;p>ìœ„ì˜ ì§ˆë¬¸ì€ ì˜³ì€ ë§ì´ì§€ë§Œ &lt;strong>ì„œë²„ ë¦¬ì†ŒìŠ¤ê°€ ë¶€ì¡±&lt;/strong>í•˜ì—¬ ë…¸ë“œ 3ê°œë¥¼ ë°°í¬í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.
ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ë°°í¬í• ë•Œ Kubespray í”Œë«í¼ì„ í™œìš©í•©ë‹ˆë‹¤. Kubesprayì— ì›Œì»¤ ë…¸ë“œë¥¼ ë°°í¬í• ë•ŒëŠ” ëª¨ë‘ ë™ì¼í•œ ì´ë¯¸ì§€ì™€ ë¦¬ì†ŒìŠ¤ íƒ€ì…ì´ ì ìš©ë©ë‹ˆë‹¤. ì›Œì»¤ ë…¸ë“œì— ì´ë¯¸ì§€ë¥¼ ubuntu:20.04ì— ë¦¬ì†ŒìŠ¤ íƒ€ì…ìœ¼ë¡œ 2vCPU, 4GBë¡œ ì„ íƒí–ˆë‹¤ë©´ ì›Œì»¤ ë…¸ë“œ ëª¨ë‘ ë™ì¼í•˜ê²Œ ì ìš©ë˜ëŠ” ê²ƒì´ì£ .&lt;/p>
&lt;h4 id="ì¿ ë²„ë„¤í‹°ìŠ¤-ì¸ìŠ¤í„´ìŠ¤ì—-ë°°ì¹˜ëœ-ë¦¬ì†ŒìŠ¤-ì–‘">ì¿ ë²„ë„¤í‹°ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ì— ë°°ì¹˜ëœ ë¦¬ì†ŒìŠ¤ ì–‘
&lt;/h4>&lt;blockquote>
&lt;p>ì›Œì»¤ ë…¸ë“œëŠ” ë©”ëª¨ë¦¬ ì„ ì • ê¸°ì¤€ì´ í™•ì‹¤íˆ ìˆì—ˆìœ¼ë‚˜ ë‚˜ë¨¸ì§€ëŠ”&lt;a class="link" href="https://docs.kublr.com/installation/hardware-recommendation/" target="_blank" rel="noopener"
> kublrì—ì„œ ì œì‹œí•œ ê¸°ì¤€í‘œ&lt;/a>ì˜ 2ë°°ë¥¼ ì‚°ì •í•´ì„œ ìƒì„±í–ˆìŠµë‹ˆë‹¤. ë„‰ë„‰í•˜ë©´ ì¢‹ì§€ ì•Šì„ê¹Œ í•˜ëŠ” ë§ˆìŒìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ ëŠ˜ë ¸ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;ul>
&lt;li>ë§ˆìŠ¤í„° ë…¸ë“œ : 4vCPU, 8GB&lt;/li>
&lt;li>ì›Œì»¤ ë…¸ë“œ: 8vCPU, 16GB&lt;/li>
&lt;/ul>
&lt;p>ê·¸ëŸ¬ë‚˜ ì‹¤ì œ í•˜ë“œì›¨ì–´ëŠ” 64GBì˜ ë©”ëª¨ë¦¬ë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©° Jenkins, NFS ì„œë²„, OpenStack ì„œë²„ì˜ ë©”ëª¨ë¦¬ ì–‘ì„ ê³ ë ¤í–ˆì„ë•Œ ì›Œì»¤ ë…¸ë“œë¥¼ 3ê°œë¥¼ ë°°ì¹˜í•  ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-12/image-1.png"
width="811"
height="170"
srcset="https://s0okju.github.io/p/hexactf-12/image-1_hu_6ff0a98be6b391d8.png 480w, https://s0okju.github.io/p/hexactf-12/image-1_hu_cca59a81745b2c66.png 1024w"
loading="lazy"
alt="ì˜¤í”ˆ ìŠ¤íƒ ì»´í“¨íŒ… ë¦¬ì†ŒìŠ¤ ì”ì—¬ëŸ‰"
class="gallery-image"
data-flex-grow="477"
data-flex-basis="1144px"
>&lt;/p>
&lt;h3 id="ì§ˆë¬¸-2-ì›Œì»¤-ë…¸ë“œì˜-ë©”ëª¨ë¦¬ë¥¼-16gbë¡œ-ì„ íƒí•œ-ì´ìœ ">ì§ˆë¬¸ 2. ì›Œì»¤ ë…¸ë“œì˜ ë©”ëª¨ë¦¬ë¥¼ 16GBë¡œ ì„ íƒí•œ ì´ìœ 
&lt;/h3>&lt;blockquote>
&lt;p>CPUëŠ” ì—°ì‚°í• ë•Œ ì£¼ë¡œ ë§ì´ ì“°ì´ëŠ” ë¦¬ì†ŒìŠ¤ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ CTF ëŒ€íšŒ ë¬¸ì œ ì¤‘ì—ì„œ ì—°ì‚° ì§‘ì¤‘ì ì¸ ë¬¸ì œê°€ í° ë¹„ì¤‘ì„ ì°¨ì§€í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì „ë°˜ì ìœ¼ë¡œ CPU ì‚¬ìš©ëŸ‰ì´ ë¬´ë‚œí•˜ë‹¤ê³  íŒë‹¨í•´ ì¶”ê°€ì ì¸ CPU ì‚¬ìš© ê¸°ì¤€ì„ ì„¤ì •í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>Challengeì˜ ìµœëŒ€ ì‚¬ìš©ëŸ‰ì„ ê³„ì‚°í–ˆì„ë•Œ 16GB ë©”ëª¨ë¦¬ê°€ ì ë‹¹í•˜ë‹¤ê³  ìƒê°í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì¶œì œí•  ë¬¸ì œì˜ ë² ì´ìŠ¤ ì´ë¯¸ì§€ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ ë°°í¬í•  ë•Œ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë¯¸ë¦¬ ì˜ˆì¸¡í•´ì„œ ë°°í¬í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ìµœëŒ€ ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í“¨íŒ… ìì›ëŸ‰ì„ ê³„ì‚°í•˜ì—¬ ìì› ë¶€ì¡±ìœ¼ë¡œ ì¸í•´ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•Šë„ë¡ ì„¤ê³„í•´ì•¼ í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;strong>Challenge ë¬¸ì œì— ì¿ ë²„ë„¤í‹°ìŠ¤ limit quotaë¥¼ í™œìš©í•´ ë¦¬ì†ŒìŠ¤ì˜ ìµœëŒ€ ì‚¬ìš©ëŸ‰ì„ ì„¤ì •í•  ê²ƒì…ë‹ˆë‹¤. ì´ ì •ë„ë¥¼ í† ëŒ€ë¡œ ì´ ì˜ˆìƒ ì‚¬ìš©ëŸ‰ì„ ê³„ì‚°í•˜ê¸°ë¡œ ê²°ì •í–ˆìŠµë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;h4 id="challenge-ì„œë²„ì˜-íŠ¹ì§•">Challenge ì„œë²„ì˜ íŠ¹ì§•
&lt;/h4>&lt;p>Challenge ì„œë²„ëŠ” &lt;strong>íŠ¹ì • ê¸°ëŠ¥ í•˜ë‚˜ë§Œ êµ¬í˜„ë˜ì–´ ìˆì–´ ë‹¨ìˆœí•˜ë‹¤ëŠ” íŠ¹ì§•&lt;/strong>ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ë˜í•œ í•œëª…ë§Œ ì„œë²„ì— ì ‘ì†í•  ìˆ˜ ìˆì£ .
CPU, ë©”ëª¨ë¦¬ í™œìš© ê´€ì ì—ì„œ ì˜ˆì¸¡í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>CPU - ë¹Œë“œ ì´ˆê¸°ì— ë§ì´ ì“°ì¸ë‹¤. ê·¸ ì´ì™¸ì—ëŠ” ë¬´ë‚œí•  ê²ƒ ê°™ë‹¤.&lt;/li>
&lt;li>ë©”ëª¨ë¦¬ - ë©”ëª¨ë¦¬ ìƒí•œì„ ì´ ì •í•´ì ¸ ìˆì„ ê²ƒ ê°™ë‹¤.&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://s0okju.github.io/p/hexactf2025-review/" target="_blank" rel="noopener"
>ì‹¤ì œ ëŒ€íšŒë¥¼ ìš´ì˜í•˜ë©´ì„œ&lt;/a> ì˜ˆìƒí•œ íŒ¨í„´ì´ ì–´ëŠì •ë„ ë§ê¸´ í–ˆìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;h4 id="ë©”ëª¨ë¦¬-ì‚¬ìš©ëŸ‰ë§Œ-ê³ ë ¤í•œ-ì´ìœ ">ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ë§Œ ê³ ë ¤í•œ ì´ìœ 
&lt;/h4>&lt;p>ìš°ì„  CPUëŠ” ì„ ì • ê¸°ì¤€ì„ ì•„ì§ê¹Œì§€ë„ ê°ì„ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ğŸ¥¹ ì´ê±´ ì‹¤ë¬´ì—ì„œ í•œë²ˆ ë°°ìš°ê³  ì‹¶ë„¤ìš”.&lt;/p>
&lt;p>ë©”ëª¨ë¦¬ëŠ” CPUê³¼ ë‹¤ë¥´ê²Œ ì´ˆê¸°ì— ë°ì´í„°ë¥¼ ì ì¬í•œ í›„ì— ì‹¤í–‰ë˜ëŠ” íŠ¹ì§•ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. CPUê°€ ì‚¬ìš© í›„ ë°”ë¡œ ë°˜ë‚©í•˜ëŠ” ëŠë‚Œì´ë¼ë©´ ë©”ëª¨ë¦¬ëŠ” ëˆ„ì ì˜ ëŠë‚Œì´ ê°•í•©ë‹ˆë‹¤.(ê°œì¸ì ì¸ ìƒê°ì…ë‹ˆë‹¤.)
ë©”ëª¨ë¦¬ëŠ” ê´€ë¦¬ë¥¼ ì œëŒ€ë¡œ í•˜ì§€ ì•Šìœ¼ë©´ ë¹¨ë¦¬ ì†Œëª¨ë˜ëŠ” ìì›ì¸ ì…ˆì´ì£ . ê·¸ëŸ¬ë¯€ë¡œ limit, request quotaë¡œ ì‚¬ìš© ê°€ëŠ¥í•œ ìµœëŒ€ ë©”ëª¨ë¦¬ ìš©ëŸ‰ë¥¼ ì§€ì •í•˜ì—¬ ë¶ˆí•„ìš”í•œ ì‚¬ìš©ëŸ‰ì„ ì¤„ì´ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h4 id="ì˜ˆìƒ-ì‚¬ìš©-ë©”ëª¨ë¦¬-ìš©ëŸ‰-ê³„ì‚°">ì˜ˆìƒ ì‚¬ìš© ë©”ëª¨ë¦¬ ìš©ëŸ‰ ê³„ì‚°
&lt;/h4>&lt;p>Challengeë¥¼ í™œìš©í•˜ëŠ” CTF ë¬¸ì œëŠ” ì£¼ë¡œ Web, Systemì…ë‹ˆë‹¤. Systemì€ ê°€ë²¼ìš´ ë¦¬ëˆ…ìŠ¤ ì´ë¯¸ì§€ë¥¼ í™œìš©í•˜ë©° ìì› ì‚¬ìš©ëŸ‰ì˜ í¸ì°¨ê°€ í¬ì§€ ì•ŠìŠµë‹ˆë‹¤. ë°˜ë©´ Webì˜ ê²½ìš°ì—ëŠ” ì–´ë–¤ ì´ë¯¸ì§€ë¥¼ í™œìš©í–ˆëƒì— ë”°ë¼ í¸ì°¨ê°€ ë§¤ìš° í½ë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ìƒí•œì„ ì„ ì„ íƒí•  ë•ŒëŠ” ìŠ¤í”„ë§ë¶€íŠ¸ í”Œë«í¼ì˜ í‰ê·  ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ 256MBë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚°í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>256MB(ìŠ¤í”„ë§ë¶€íŠ¸ ê¸°ì¤€ ë©”ëª¨ë¦¬ ì–‘) x 3(ì‚¬ìš©ì ë‹¹ ë™ì‹œ ì‹¤í–‰ ì»¨í…Œì´ë„ˆ ìˆ˜) x 20(ì‚¬ìš©ì) = 15GB&lt;/p>&lt;/blockquote>
&lt;p>15GBëŠ” ì œê°€ ìƒê°í•œ ìµœëŒ€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. ì‚¬ìš©ì ìˆ˜ê°€ 2ë°°, 3ë°°ë¡œ í¬ê²Œ ì¦ê°€í•˜ì§€ ì•ŠëŠ” í•œ ì˜ˆìƒ ë²”ìœ„ ë‚´ë¡œ ë©”ëª¨ë¦¬ë¥¼ í™œìš©í•  ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>ì—¬ë‹´&lt;/strong>
System ë¬¸ì œì™€ Web ë¬¸ì œì˜ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì€ 2ë°° ~ 4ë°° ì°¨ì´ë¡œ ìƒë‹¹íˆ í½ë‹ˆë‹¤. ëŒ€íšŒë§ˆë‹¤ ë¬¸ì œ ì–‘ê³¼ ìœ í˜•ì´ í¬ê²Œ ë³€í™”í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ë¹„ìœ¨ë¡œ ê³„ì‚°í• ê¹Œ ê³ ë¯¼í–ˆìŠµë‹ˆë‹¤.
ì‹¤ì œ ëŒ€íšŒì— ì°¸ê°€í•œ ì¹œêµ¬ë“¤ì—ê²Œ ë¬¼ì–´ë³´ë‹ˆ Web ë¬¸ì œì— ê°€ì¥ ë§ì´ ë„ì „í•˜ê³  ì‹œê°„ íˆ¬ìë¥¼ ë§ì´ í•œë‹¤ê³  í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ Web ë¬¸ì œì˜ ìµœëŒ€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ê¸°ì¤€ìœ¼ë¡œ ì„ íƒí–ˆìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;h4 id="challenge-request-limit-quota">Challenge request, limit quota
&lt;/h4>&lt;p>ì €ëŠ” ëª¨ë“  Challengeì˜ Deploymentì— ì•„ë˜ì™€ ê°™ì€ resource quotaë¥¼ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">resources&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">limits&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cpu&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;500m&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">memory&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;512Mi&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">requests&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cpu&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;250m&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">memory&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;256Mi&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì™œ ìµœëŒ€ ì‚¬ìš©ëŸ‰ì„ 256MBìœ¼ë¡œ ì§€ì •í–ˆìœ¼ë©´ì„œ ì‹¤ì œë¡œëŠ” 512MBë¡œ ì„ ì •í–ˆëŠ”ì§€ ê¶ê¸ˆí•˜ì…¨ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ì™œ DevOps, SREê°€ ê°œë°œ ê²½í—˜ì´ ìˆì–´ì•¼ í•˜ëŠ”ì§€ ë¼ˆì €ë¦¬ê²Œ ëŠê¼ˆìŠµë‹ˆë‹¤. ê²½í—˜ì´ ì—†ìœ¼ë‹ˆ ì „ë°˜ì ìœ¼ë¡œ ê°ì„ ì¡ì„ ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>Challenge ì„œë²„ì—ì„œ ê¸°ëŠ¥ì€ í•˜ë‚˜ ë¿ì´ê³  ì‚¬ìš©ìë„ ì‹¤ì§ˆì ìœ¼ë¡œ í•œëª…ì´ê¸° ë•Œë¬¸ì— ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ì´ í¬ê²Œ ë³€í•˜ì§€ ì•Šì„ ê²ƒì´ë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ°ë° ëˆˆìœ¼ë¡œ ì§ì ‘ ë³´ì§€ ì•ŠëŠ” ì´ìƒ ëª¨ë¥´ê² ë‹¤ëŠ” ìƒê°ì„ í–ˆìŠµë‹ˆë‹¤.&lt;br>
ë§ˆì¹¨ ì°¸ì—¬ê°€ í™•ì •ëœ ì‚¬ìš©ìëŠ” ì˜ˆìƒë³´ë‹¤ ì ì–´ì„œ ì‚¬ìš© íŒ¨í„´ì„ í™•ì¸í•  ê²¸ limitë¥¼ 512MBë¡œ ì„ ì •í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ì¿ ë²„ë„¤í‹°ìŠ¤-hexactf-ì„œë¹„ìŠ¤-ì•„í‚¤í…ì²˜-ì„¤ê³„-ë°-íšŒê³ ">ì¿ ë²„ë„¤í‹°ìŠ¤ HexaCTF ì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ ì„¤ê³„ ë° íšŒê³ 
&lt;/h2>&lt;p>ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ hexactfë¼ëŠ” ë„¤ì„ ìŠ¤í˜ì´ìŠ¤ì— ë°°í¬í–ˆìŠµë‹ˆë‹¤.
hexactf ë‚´ì— ìˆëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ëª¨ë‘ í•˜ë‚˜ì˜ Helmìœ¼ë¡œ ë°°í¬í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>Operator ë°°í¬ ë°©ì‹ì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ &lt;a class="link" href="https://s0okju.github.io/p/hexactf-9/" target="_blank" rel="noopener"
>HexaCTF9&lt;/a>ë¥¼ ì°¸ê³ í•˜ì‹œê¸¸ ë°”ëë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>ëˆˆì°ë¯¸ ì¢‹ìœ¼ì‹  ë¶„ë“¤ì€ ì•Œê² ì§€ë§Œ Queue ë˜í•œ ë©”ì„¸ì§€ë¥¼ ì €ì¥í•´ì•¼ í•˜ë¯€ë¡œ Statefulsetìœ¼ë¡œ ë°°í¬í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-12/image-2.png"
width="624"
height="241"
srcset="https://s0okju.github.io/p/hexactf-12/image-2_hu_c3a21299daae4a6d.png 480w, https://s0okju.github.io/p/hexactf-12/image-2_hu_f07ed3800517c945.png 1024w"
loading="lazy"
alt="ì¿ ë²„ë„¤í‹°ìŠ¤ HexaCTF ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì„±ë„"
class="gallery-image"
data-flex-grow="258"
data-flex-basis="621px"
>&lt;/p>
&lt;h3 id="ì•„ì‰¬ìš´-ì ">ì•„ì‰¬ìš´ ì 
&lt;/h3>&lt;p>ê°€ì¥ ì•„ì‰¬ìš´ ì ì€ ëª¨ë“  ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í•˜ë‚˜ì˜ Helmìœ¼ë¡œ ë°°í¬í•œ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>ë°ì´í„°ë² ì´ìŠ¤&lt;/li>
&lt;/ol>
&lt;p>ìš´ì˜í•˜ë©´ì„œ DBì— ì§„ì§œ ì˜¤ë¥˜ê°€ ë§ì•˜ìŠµë‹ˆë‹¤. &lt;code>kubectl logs&lt;/code> ë¡œ ë§¤ì¼ ë¬¸ì œì ì„ íŒŒì•…í–ˆëŠ”ë°ìš”. ë¡œê·¸ë§Œìœ¼ë¡œëŠ” ëª…í™•í•œ ì›ì¸ì€ íŒŒì•…í•  ìˆ˜ ì—†ì—ˆì§€ë§Œ &lt;a class="link" href="https://hiwony.tistory.com/85" target="_blank" rel="noopener"
>InterfaceErrorê°€ ë¹ˆë²ˆí•˜ê²Œ ë‚˜íƒ€ë‚˜ëŠ” ê²ƒì„ ë³´ì•„ Connection leak ë¬¸ì œë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. &lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">pymysql.err.InterfaceError: (0, &amp;#39;&amp;#39;)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ê·¸ë˜ì„œ ë¬¸ì œì˜ ê·¼ê±°ë¥¼ ì°¾ê³ ì Prometheusì˜ ServiceMonitor ì—°ê²°ì„ ì‹œë„í–ˆìœ¼ë‚˜ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì‹œê°„ì´ ì—†ì–´ì„œ ëê¹Œì§€ í•´ë³´ì§€ëŠ” ëª»í–ˆìŠµë‹ˆë‹¤.&lt;br>
ëŒ€íšŒê°€ ëë‚˜ê³  ë‹¤ì‹œ ìƒê°í•´ë³´ë‹ˆ Operatorë¡œ MariaDBë¥¼ ë”°ë¡œ ë°°í¬í•˜ë©´ ì¢‹ì§€ ì•Šì•˜ì„ê¹Œ í•˜ëŠ” ì•„ì‰¬ì›€ì´ ìˆìŠµë‹ˆë‹¤. ë‚´ë¶€ì ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§ ê¸°ëŠ¥ì„ ì‰½ê²Œ ì„¤ì •í•  ìˆ˜ ìˆìœ¼ë©° ìƒí™©ì— ë”°ë¼ì„œ í™•ì¥ê³¼ ê´€ë¦¬ê°€ ìš©ì´í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p>
&lt;ol start="2">
&lt;li>í&lt;/li>
&lt;/ol>
&lt;p>ì‚¬ì§„ì—ëŠ” Queueë¼ê³  ì ì—ˆì§€ë§Œ ì •í™•í•˜ê²Œ Kafkaì…ë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>Kafkaë¥¼ ì„ ì •í•œ ì´ìœ ëŠ” í•œë²ˆì´ë¼ë„ ì¨ë³´ê³  ì‹¶ì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ^-^! ì“°ê³  ë‚˜ì„œ í›„íšŒí–ˆìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ëˆˆì°ë¯¸ê°€ ì¢‹ìœ¼ì‹  ë¶„ë“¤ì€ ì•Œê³  ê³„ì…¨ê² ì§€ë§Œ Queue ë˜í•œ StatefulSetìœ¼ë¡œ ë°°í¬í•´ì•¼ í•©ë‹ˆë‹¤. íì—ëŠ” ë©”ì„¸ì§€ê°€ ì €ì¥ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ìƒíƒœë¥¼ ì €ì¥í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;br>
í”„ë¡œì íŠ¸ì—ì„œëŠ” ìš´ì´ ì¢‹ê²Œë„ íì— ë¬¸ì œê°€ ìƒê¸°ì§€ ì•Šì•„ ë°ì´í„° ìœ ì‹¤ì´ ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‹¤ ëŒ€íšŒë¥¼ ë§ˆë¬´ë¦¬í•˜ê³  ë‚˜ì„œ ë³´ë‹ˆ ë°°í¬ ë¦¬ì†ŒìŠ¤ë¥¼ ì˜ëª» ì„¤ì •í–ˆë‹¤ëŠ” ê²ƒì„ ê¹¨ë‹«ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>Queueë„ í”„ë¡œì íŠ¸ì˜ Helmìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ë¶„ë¦¬í•´ì„œ Operatorë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ì™€ ë™ì¼í•œ ì´ìœ ë¡œ í™•ì¥ê³¼ ê´€ë¦¬ê°€ ìš©ì´í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ë°°í¬-í”„ë¡œì„¸ìŠ¤-íšŒê³ ">ë°°í¬ í”„ë¡œì„¸ìŠ¤ íšŒê³ 
&lt;/h2>&lt;h3 id="ì‘ì€-ì¼ë„-ìˆ˜ì‘ì—…ì€-í˜ë“¤ë‹¤">ì‘ì€ ì¼ë„ ìˆ˜ì‘ì—…ì€ í˜ë“¤ë‹¤.
&lt;/h3>&lt;p>í”„ë¡œì íŠ¸ ë‹¹ì‹œ &lt;strong>ìë™í™”ëŠ” í•˜ë‚˜ë„ í•˜ì§€ ì•Šê³  ìˆ˜ì‘ì—…ìœ¼ë¡œ ë³€ê²½ì‚¬í•­ì„ ì¼ë¦¬ë¦¬ í™•ì¸í•˜ê³  ë¹Œë“œí•˜ê³  ë°°í¬&lt;/strong>í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì  í‚¨ìŠ¤ ì„œë²„ëŠ” ì¡´ì¬í•©ë‹ˆë‹¤. ê·¸ëŸ°ë° ì£¼ìš” ëª©ì ì€ &lt;strong>ìˆ˜ë™&lt;/strong>ìœ¼ë¡œ HexaCTF ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜, Challenge ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ì—¬ ì´ë¯¸ì§€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ì „ì†¡í•˜ëŠ” ìš©ë„ì˜€ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ˆê¸°ì—ëŠ” í”„ë¡œì íŠ¸ê°€ ì†Œê·œëª¨ì´ë¯€ë¡œ CI/CDëŠ” í•„ìš”ì—†ë‹¤ëŠ” ì˜ê²¬ì´ ëŒ€ë‹¤ìˆ˜ì˜€ìŠµë‹ˆë‹¤. ì €ë„ ì–´ëŠ ì •ë„ ë™ì˜í–ˆìœ¼ë©° í•œ ì‚¬ëŒ(ë³¸ì¸)ì´ ëª¨ë“  ë°°í¬ í”„ë¡œì„¸ìŠ¤ë¥¼ ìˆ˜ìš©í•  ìˆ˜ ìˆì„ ê²ƒì´ë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ëŒ€íšŒ ì¼ì£¼ì¼ ì „ì— git pull, helm upgrade ëª…ë ¹ì–´ë§Œ ë¬´í•œ ë°˜ë³µìœ¼ë¡œ ì¹˜ë‹ˆ ë‹¤ì–‘í•œ ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>Helmìœ¼ë¡œ ë™ì‹œì— ë°°í¬í–ˆëŠ”ë° ì• í”Œë¦¬ì¼€ì´ì…˜ í•˜ë‚˜ëŠ” ì´ì „ ë²„ì „ìœ¼ë¡œ ë¡¤ë°±í•˜ê³  ë‹¤ë¥¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì—…ê·¸ë ˆì´ë“œ ë²„ì „ì„ í™œìš©í•´ì•¼ í•˜ëŠ” ê²½ìš° -&amp;gt; í•˜ë‚˜ë¡œ ë°°í¬í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼ íŒ€ ë‹¨ìœ„ë¡œ ìª¼ê°œì„œ CI/CD ì“¸ê±¸&lt;/li>
&lt;li>Helm upgrade í–ˆëŠ”ë° ë¹Œë“œ ê³¼ì •ì„ ìƒëµí•˜ì—¬ ë³€ê²½ ì‚¬í•­ì´ ë°˜ì˜ë˜ì§€ ì•Šì€ ê²½ìš° -&amp;gt; ì  í‚¨ìŠ¤ë¡œ ì´ë¯¸ì§€ë¥¼ ìë™ìœ¼ë¡œ ë¹Œë“œí• ê±¸&lt;/li>
&lt;li>branchë¥¼ ì˜ëª» ì„¤ì •í–ˆìœ¼ë©´ì„œ ìˆ˜ë™ìœ¼ë¡œ ë¹Œë“œí•˜ê¸° ëˆŒëŸ¬ êµ¬ë²„ì „ìœ¼ë¡œ ì´ë¯¸ì§€ ë¹Œë“œí•˜ê¸° -&amp;gt; ì  í‚¨ìŠ¤ë¡œ ì´ë¯¸ì§€ë¥¼ ìë™ìœ¼ë¡œ ë¹Œë“œí–ˆìœ¼ë©´ ë‚´ê°€ ë¸Œëœì¹˜ë¥¼ ì˜ëª» ì¼ë‹¤ëŠ” ê±¸ ì•Œì•˜ì„í…ë°&lt;/li>
&lt;li>helm íŒŒì¼ ìˆ˜ì •ë³¸ì´ ë°˜ì˜ë˜ì§€ ì•ŠëŠ” ê²½ìš° -&amp;gt; ArgoCD ì“¸ê±¸&lt;/li>
&lt;li>ë¬¸ì œ ë°œìƒ ì‹œ íŒ€ì›ì—ê²Œ ì§ì ‘ ì•Œë¦¬ê¸° -&amp;gt; CI/CDì— ìˆëŠ” ì•Œë¦¼ ê¸°ëŠ¥ì„ í™œìš©í• ê±¸&lt;/li>
&lt;li>ê¸°íƒ€ ë“±ë“± &amp;hellip;&lt;/li>
&lt;/ul>
&lt;p>íœ´ë¨¼ ì´ìŠˆë¡œ ì¸í•´ ì˜ˆìƒë³´ë‹¤ ë¬¸ì œëŠ” ë§ì•˜ê³  ìë™í™”ë¥¼ ì•ˆí•œ ê²ƒì„ ë¼ˆì €ë¦¬ê²Œ í›„íšŒí–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-12/image-3.png"
width="400"
height="300"
srcset="https://s0okju.github.io/p/hexactf-12/image-3_hu_76fcfbc179472712.png 480w, https://s0okju.github.io/p/hexactf-12/image-3_hu_49815617fdd2ab21.png 1024w"
loading="lazy"
alt="Challenge Operator, API ë²„ê·¸ ìˆ˜ì •í•˜ê³  ë˜ â€¦ ì‚´ë ¤ì¤˜"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
>&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°
&lt;/h2>&lt;p>ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ì— ëŒ€í•´ ê¸°ìˆ ì ìœ¼ë¡œ ì‘ì„±í• ë§Œí•œ ê²ƒì€ ì—†ì—ˆìŠµë‹ˆë‹¤. ìë™í™”ë¼ëŠ” ì¢‹ì€ ì‹œìŠ¤í…œì„ ë²„ë¦¬ê³  ì„ ì‚¬ ì‹œëŒ€ì˜ ë°©ì‹ìœ¼ë¡œ ìˆ˜í–‰í–ˆìœ¼ë‹ˆê¹Œìš”. ê·¸ë§Œí¼ ëª¸ì†Œ ëŠë‚€ì ì´ ë§ìœ¼ë©° ì œëª©ë„ ë°°í¬ê°€ ì•„ë‹Œ &amp;ldquo;íšŒê³ &amp;quot;ë¡œ ì§€ì€ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ì œ ê¸°ìˆ ì ì¸ ë‚´ìš©ì€ ëì…ë‹ˆë‹¤. 5ê°œì›” ëì— ë“œë””ì–´ ê¸€ì„ ëª¨ë‘ ì‘ì„±í•  ìˆ˜ ìˆì—ˆë„¤ìš”.&lt;br>
ë‹¤ìŒì— &amp;ldquo;HexaCTF ì‹œë¦¬ì¦ˆ ì–´ì›Œë“œ&amp;quot;ë¥¼ ë§ˆì§€ë§‰ìœ¼ë¡œ ì‹œë¦¬ì¦ˆë¥¼ ë§ˆì¹˜ê² ìŠµë‹ˆë‹¤.&lt;/p></description></item><item><title>HexaCTF 11. ì˜¤í”ˆ ìŠ¤íƒ ì„œë²„ ë„¤íŠ¸ì›Œí¬ ê°œì„ ê¸° - ì„œë²„ì— NIC 2ê°œ ì‚½ì…í•œ ì´ìœ </title><link>https://s0okju.github.io/p/hexactf-11/</link><pubDate>Fri, 14 Mar 2025 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/hexactf-11/</guid><description>&lt;ul>
&lt;li>2025-03-15 - ë‚´ìš© ìˆ˜ì •&lt;/li>
&lt;/ul>
&lt;h2 id="ë“¤ì–´ê°€ë©°">ë“¤ì–´ê°€ë©°
&lt;/h2>&lt;p>ê°„ëµí•œ ì¸í”„ë¼ êµ¬ì„±ë„ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ì—¬ê¸°ì„œ ëˆˆì— ë„ëŠ” ì ì´ 2ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>í•œ ì„œë²„(OpenStack)ì— NICê°€ 2ê°œ&lt;/li>
&lt;li>ì¼ë¶€ ì‚¬ìš©ìëŠ” VPN ì‚¬ìš©í•˜ì—¬ ì ‘ì†í•œë‹¤&lt;/li>
&lt;/ol>
&lt;p>ì´ì œë¶€í„° ì™œ ì˜¤í”ˆìŠ¤íƒ ì„œë²„ì— 2ê°œì˜ NICë¥¼ ì‚½ì…í–ˆëŠ”ì§€ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-11/image.png"
width="662"
height="362"
srcset="https://s0okju.github.io/p/hexactf-11/image_hu_21f73670fe72963c.png 480w, https://s0okju.github.io/p/hexactf-11/image_hu_3118b1722d6421d4.png 1024w"
loading="lazy"
alt="ì¸í”„ë¼ êµ¬ì„±ë„"
class="gallery-image"
data-flex-grow="182"
data-flex-basis="438px"
>&lt;/p>
&lt;h2 id="nic-1ê°œ-ì‚½ì…-ì‹œ-ë¬¸ì œì ">NIC 1ê°œ ì‚½ì… ì‹œ ë¬¸ì œì 
&lt;/h2>&lt;p>OpenStackì€ ê¸°ë³¸ì ìœ¼ë¡œ 2ê°œì˜ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ê°€ ìš”êµ¬ë©ë‹ˆë‹¤. ê·¸ë˜ì„œ ì„¤ì¹˜ê°€ ë¹„êµì  ê°„ë‹¨í•œ DevStackì´ë“  kolla-ansibleì´ë“  &lt;strong>í•˜ë‚˜ì˜ ë¬¼ë¦¬ì  NICë¡œë§Œ êµ¬ì„±í•œë‹¤ë©´ ìš´ì˜ì²´ì œì—ì„œ í•˜ë‚˜ì˜ ë…¼ë¦¬ì  ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ì–´ì„œ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/strong>&lt;br>
í•˜ë‚˜ì˜ NICë¡œë§Œ êµ¬ì„±í•˜ë©´ 172.24.4.0/24(ìƒí™©ì— ë”°ë¼ ë‹¤ë¦„)ì™€ ê°™ì€ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ Provider Networkë¥¼ êµ¬ì„±í•˜ê²Œ ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ &lt;strong>Provider Networkë¡œë¶€í„° IPë¥¼ ì‚¬ì„¤ IP(172.24.4.x)ë¡œ í• ë‹¹ë°›ìœ¼ë¯€ë¡œ ì™¸ë¶€ ì»´í“¨í„°(Manager)ì—ì„œ ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-11/image-1.png"
width="735"
height="658"
srcset="https://s0okju.github.io/p/hexactf-11/image-1_hu_25510a72ccace2c7.png 480w, https://s0okju.github.io/p/hexactf-11/image-1_hu_d278d82f08a022b.png 1024w"
loading="lazy"
alt="NIC 1ê°œ êµ¬ì„± ì‹œ ë¬¸ì œì  - Provider Networkì— ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ì—†ìŒ"
class="gallery-image"
data-flex-grow="111"
data-flex-basis="268px"
>&lt;/p>
&lt;p>ê²°êµ­ Floating IPê°€ í• ë‹¹ëœ ê°€ìƒë¨¸ì‹ ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œëŠ” ì„œë²„ ë‚´ì— NAT ì„¤ì •ì„ í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œëŠ” Provider Networkë¥¼ ë¬¼ë¦¬ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì— ì—°ê²°ì‹œí‚¤ê³  Management NetworkëŠ” ë…¼ë¦¬ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¡œ ì—°ê²°í–ˆìŠµë‹ˆë‹¤. ì¦‰ Floating IPë¥¼ &lt;code>192.168.50.x&lt;/code>ë¡œ í• ë‹¹ì„ ë°›ì„ ê²ƒì´ë©° ì•„ë¬´ëŸ° ë¼ìš°íŒ… ì„¤ì • ì—†ì´ ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤. ì™œëƒí•˜ë©´ Management Networkì—ì„œëŠ” í•˜ë‚˜ì˜ IPë§Œ í™œìš©ë˜ì§€ë§Œ, ë§ì€ ê°€ìƒ ë¨¸ì‹ ì„ ë§Œë“¤ë©´ì„œ Provider Networkë¥¼ í†µí•´ 2ê°œ ì´ìƒì˜ IPê°€ í•„ìš”í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-11/image-2.png"
width="575"
height="620"
srcset="https://s0okju.github.io/p/hexactf-11/image-2_hu_fb9fbc23e1f2b3cc.png 480w, https://s0okju.github.io/p/hexactf-11/image-2_hu_804e497bef8f64f4.png 1024w"
loading="lazy"
alt="NIC 1ê°œ êµ¬ì„± - ë¼ìš°íŒ… ì„¤ì •ì´ í•„ìš”í•¨"
class="gallery-image"
data-flex-grow="92"
data-flex-basis="222px"
>&lt;/p>
&lt;p>ëŒ€ì‹  ì„œë²„ì˜ IPë¡œ êµ¬ì„±ëœ Resource APIì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œëŠ” ë³„ë„ì˜ ë¼ìš°íŒ… ì„¤ì •ì´ ìš”êµ¬ë©ë‹ˆë‹¤. ë¼ìš°íŒ… ì„¤ì •í•˜ëŠ” ë°©ë²•ì€ í¬ê²Œ ë‘ ê°€ì§€ì…ë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>ë¼ìš°í„°ì— ë¼ìš°íŒ… ê·œì¹™ ì„¤ì •&lt;/li>
&lt;li>í´ë¼ì´ì–¸íŠ¸(Manager), ì„œë²„ì˜ ë¼ìš°íŒ… í…Œì´ë¸” ìˆ˜ì •&lt;/li>
&lt;/ol>
&lt;h3 id="1-ë¼ìš°í„°ì—-ë¼ìš°íŒ…-ê·œì¹™-ì„¤ì •ì˜-ë¬¸ì œì ">1. ë¼ìš°í„°ì— ë¼ìš°íŒ… ê·œì¹™ ì„¤ì •ì˜ ë¬¸ì œì 
&lt;/h3>&lt;blockquote>
&lt;p>ê·¸ê³³ì—ëŠ” ë§ì€ ì„œë²„ë“¤ì´ ìˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ì„œë²„ê°€ ìˆëŠ” ì¥ì†Œê°€ ì œ ê²ƒë§Œ ìˆìœ¼ë©´ 1ë²ˆì€ ë‹¹ì—°í•œ ì„ íƒì§€ì¼ ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì œ ì„œë²„ ì´ì™¸ì—ë„ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì˜ ì„œë²„ê°€ ìˆìœ¼ë©° ê·¸ê²ƒë“¤ ë˜í•œ ê°€ìƒí™” ì†”ë£¨ì…˜ ì„œë²„ë¡œ ì´ë¤„ì ¸ ìˆìŠµë‹ˆë‹¤.
ê³µìš©ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë¼ìš°í„°ì— ë¼ìš°íŒ… í…Œì´ë¸”ì„ ì„¤ì •í•˜ë©´ ë¬¸ì œê°€ í•˜ë‚˜ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤. &lt;strong>ë‹¤ë¥¸ ì„œë²„ ì´ìš©ìê°€ ì˜ë„ì¹˜ ì•Šê²Œ OpenStackì˜ ì‚¬ì„¤ ë„¤íŠ¸ì›Œí¬ì™€ ë™ì¼í•œ IPì— ì ‘ì†ì„ ìš”ì²­í•˜ë©´ OpenStack ì„œë²„ë¡œ íŒ¨í‚·ì´ ì „ì†¡ë˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>ì‹¤ì œ ê²½í—˜í•´ë³´ì§€ ì•Šì•˜ì§€ë§Œ ì œê°€ ì˜ˆìƒí•œ ë¬¸ì œ ì‹œë‚˜ë¦¬ì˜¤ëŠ” í¬ê²Œ ë‘ ê°€ì§€ ì…ë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>ë‹¤ë¥¸ ì‚¬ìš©ì(User2) ê°€ ìì‹ ì˜ ì„œë²„ì— ì ‘ê·¼ì„ ìš”ì²­í•  ê²½ìš°&lt;/li>
&lt;li>ë‹¤ë¥¸ ì‚¬ìš©ìê°€ User 2ì˜ ì„œë²„ì— ì ‘ì†í•˜ì—¬ ê°€ìƒ ë¨¸ì‹ ì— ì ‘ê·¼ì„ ìš”ì²­í•  ê²½ìš°&lt;/li>
&lt;/ol>
&lt;p>ì‹œë‚˜ë¦¬ì˜¤ì˜ ëª¨ë“  ì „ì œ ì¡°ê±´ì€ ë¼ìš°íŒ… í…Œì´ë¸”ì˜ ìµœê³  ìš°ì„ ìˆœìœ„ê°€ default(0.0.0.0) -&amp;gt; ë¼ìš°í„° ê²Œì´íŠ¸ì›¨ì´ì¸ ê²½ìš° ì…ë‹ˆë‹¤. &lt;strong>ë‹¤ì‹œ ë§í•´ ë¼ìš°íŒ… í…Œì´ë¸”ì˜ ìš°ì„ ìˆœìœ„ë¥¼ ìˆ˜ì •í•˜ë©´ ì•„ë˜ì˜ ë¬¸ì œëŠ” ì–´ëŠ ì •ë„ í•´ì†Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-11/image-3.png"
width="570"
height="762"
srcset="https://s0okju.github.io/p/hexactf-11/image-3_hu_6d087047adf6057f.png 480w, https://s0okju.github.io/p/hexactf-11/image-3_hu_3f38e9d663e1b2a7.png 1024w"
loading="lazy"
alt="IP ì£¼ì†Œ ì¶©ëŒ ì‹œë‚˜ë¦¬ì˜¤ 2ê°€ì§€"
class="gallery-image"
data-flex-grow="74"
data-flex-basis="179px"
>&lt;/p>
&lt;p>ê·¸ëŸ¬ë‚˜ 4~5ëŒ€ì˜ ê° ì„œë²„ ì‚¬ìš©ìì—ê²Œ ì—°ë½ì„ ë“œë ¤ ì¼ë¦¬ë¦¬ ì¡°ì‚¬ë¥¼ í•˜ëŠ” ê²ƒë„ ì—¬ê°„ ë²ˆê±°ë¡œìš´ ì¼ì´ ì•„ë‹™ë‹ˆë‹¤. ê·¸ë˜ì„œ ë‹¤ë¥¸ ë°©ë²•ì„ ìƒê°í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="2-í´ë¼ì´ì–¸íŠ¸-ì„œë²„ì—-ë„¤íŠ¸ì›Œí¬-ê·œì¹™-ì¶”ê°€ì˜-ë¬¸ì œì ">2. í´ë¼ì´ì–¸íŠ¸, ì„œë²„ì— ë„¤íŠ¸ì›Œí¬ ê·œì¹™ ì¶”ê°€ì˜ ë¬¸ì œì 
&lt;/h3>&lt;blockquote>
&lt;p>ë„¤íŠ¸ì›Œí¬ ê·œì¹™ ì •ë³´ëŠ” ìƒíƒœë¥¼ ì˜êµ¬ì ìœ¼ë¡œ ì €ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œëŠ” í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ì— ë¼ìš°íŒ…ì„ ì„¤ì •í•˜ë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>í´ë¼ì´ì–¸íŠ¸&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>192.168.50.27(ì„œë²„ IP)ë¥¼ í†µí•´ 10.0.10.0/24ì— í•´ë‹¹ë˜ëŠ” íŒ¨í‚·ì„ ì „ì†¡í•˜ëŠ” ë¼ìš°íŒ… ë£° ì¶”ê°€í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;ol start="2">
&lt;li>ì„œë²„&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>ë¬¼ë¦¬ ì¸í„°í˜ì´ìŠ¤ì—ì„œ íŒ¨í‚·ì„ ì†¡ì‹ í•˜ì—¬ 10.0.10.0/24 ìˆ˜ì‹ ì„ í—ˆë½í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>ìì„¸í•œ ì‚¬í•­ì€ &lt;a class="link" href="https://s0okju.github.io/p/server-setup-4/" target="_blank" rel="noopener"
>ì„œë²„ êµ¬ì¶•ê¸° - 4. Kolla-ansible ì„¤ì¹˜ ì‹œ ë§ˆì£¼í•œ ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ&lt;/a> ì„ ì°¸ê³ í•˜ì‹œê¸¸ ë°”ëë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ë¬¸ì œëŠ” iptable, route ë£° ëª¨ë‘ ì˜êµ¬ì ìœ¼ë¡œ ìƒíƒœë¥¼ ì €ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. &lt;strong>ì»´í“¨í„°, ì„œë²„ë¥¼ í•œë²ˆ ë„ë©´ route, iptable ê·œì¹™ì´ ì‚¬ë¼ì§‘ë‹ˆë‹¤.&lt;/strong>
ë¬¼ë¡  ì»´í“¨í„° ë¶€íŒ… í›„ ê·œì¹™ì„ ì €ì¥í•˜ëŠ” init scriptë¥¼ ì œì‘í•˜ì—¬ ì˜êµ¬ì ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë©°, iptableì˜ ê²½ìš° ë„êµ¬ë¥¼ í™œìš©í•˜ì—¬ ì˜êµ¬ì ìœ¼ë¡œ ìƒíƒœë¥¼ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì €ëŠ” ë…¸íŠ¸ë¶ì„ í†µí•´ ì„œë²„ì— ìì£¼ ì ‘ì†í•©ë‹ˆë‹¤. ì œ ë…¸íŠ¸ë¶ì—ì„œë„ ë‚´ë¶€ì ìœ¼ë¡œ ê°€ìƒ ë¨¸ì‹ ì„ í™œìš©í•˜ê³¤ í•©ë‹ˆë‹¤.
ì´ëŸ° ìƒí™©ì—ì„œ 2ë²ˆì²˜ëŸ¼ ì˜êµ¬ì ìœ¼ë¡œ ì €ì¥í•˜ê²Œ ëœë‹¤ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”? ì„œë²„ì— ì„¤ì •í•œ ë¼ìš°íŒ… ê·œì¹™ì„ ìŠì–´ ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ì˜ ê°€ìƒë¨¸ì‹ ì— ì ‘ê·¼ì„ ìš”ì²­í•˜ê²Œ ëœë‹¤ë©´? ê²°êµ­ &lt;strong>ìœ ì—°ì„±ì´ ë–¨ì–´ì§„ë‹¤ëŠ” ë¬¸ì œ&lt;/strong>ê°€ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="nic-2ê°œ-ì‚½ì…í•œ-ì´ìœ ">NIC 2ê°œ ì‚½ì…í•œ ì´ìœ 
&lt;/h2>&lt;p>ìœ„ì˜ ë¬¸ì œë¥¼ ì¢…í•©í•˜ë©´ &lt;strong>ë˜ë‹¤ë¥¸ ì„œë²„ë¥¼ ê³µìœ í•˜ê³  ìˆëŠ” í™˜ê²½ì—ì„œ ê°€ìƒ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì— ì§ì ‘ ì ‘ê·¼í•˜ê¸° ìœ„í•œ ì ì ˆí•œ ë¼ìš°íŒ… ì„¤ì •ì´ ì–´ë µë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.&lt;/strong>
ê²°êµ­ ìœ„ì˜ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” OpenStack ê´€ë ¨ ëª¨ë“  ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ì„ ë¬¼ë¦¬ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¡œë§Œ êµ¬ì„±í•˜ë©´ ë©ë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ ì¶”ê°€ì ì¸ ë¼ìš°íŒ… ê·œì¹™ì„ ì„¤ì •í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="nic-ìŠ¤ìœ„ì¹˜ë“¤ì€-ëª¨ë‘-ì–´ë””ì—-ì—°ê²°ë ê¹Œ">NIC ìŠ¤ìœ„ì¹˜ë“¤ì€ ëª¨ë‘ ì–´ë””ì— ì—°ê²°ë ê¹Œ?
&lt;/h3>&lt;p>ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ì„ ê°€ì§€ê¸° ìœ„í•´ NICëŠ” &lt;strong>ëª¨ë‘ ë™ì¼í•œ ìŠ¤ìœ„ì¹˜ì— ì—°ê²°&lt;/strong>ë©ë‹ˆë‹¤. ì¦‰ 192.168.50.1/24 ëŒ€ì—­ì´ë¼ë©´ ì„œë²„ëŠ” 192.168.50.27ë¡œ í• ë‹¹ë°›ê³  Floating IPë¡œë„ 192.168.50.122 ì´ëŸ° ì‹ìœ¼ë¡œ í• ë‹¹ë°›ëŠ” ê²ƒì´ì£ . &lt;strong>Provider NetworkëŠ” ì„œë²„ì™€ ë™ì¼í•œ ëŒ€ì—­ì˜ IPë¥¼ ê°€ì§€ê²Œ ë©ë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;h3 id="ì´ìœ -1-resource-api-floating-ip-ì§ì ‘-ì ‘ê·¼í• -ìˆ˜-ìˆë‹¤">ì´ìœ  1. Resource API, Floating IP ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.
&lt;/h3>&lt;p>ëŒ€ë¶€ë¶„ì˜ ì¸í”„ë¼ ë¦¬ì†ŒìŠ¤ëŠ” Terraformì„ í™œìš©í•´ ë°°í¬í•©ë‹ˆë‹¤. Kubernetesì˜ ê²½ìš° Kubesprayë¥¼ í™œìš©í•´ì„œ ë°°í¬í•˜ê¸° ë•Œë¬¸ì— ë³„ë‹¤ë¥¸ ì„ íƒì§€ëŠ” ì—†ì—ˆê³ , ê·¸ ì´ì™¸ì—ëŠ” ê´€ë¦¬ê°€ í¸ë¦¬í•˜ì—¬ Terraformì„ í™œìš©í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë§Œì•½ì— NICê°€ 2ê°œë¼ë©´ ìœ„ì—ì„œ ì„¤ëª…í•œ ë¼ìš°íŒ… ì„¤ì •ì„ í•  í•„ìš”ê°€ ì—†ì–´ì§‘ë‹ˆë‹¤. ì™œëƒí•˜ë©´ Resource APIëŠ” ì„œë²„ì˜ IP(&lt;code>192.168.50.27&lt;/code>)ì´ê³ , Provider NetworkëŠ” ë™ì¼í•œ ëŒ€ì—­ì¸ &lt;code>192.168.50.x&lt;/code>ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆìœ¼ë‹ˆê¹Œìš”.&lt;/p>
&lt;h3 id="ì´ìœ -2-í¬íŠ¸-ì¶©ëŒì„-í•´ì†Œí• -ìˆ˜-ìˆë‹¤">ì´ìœ  2. í¬íŠ¸ ì¶©ëŒì„ í•´ì†Œí•  ìˆ˜ ìˆë‹¤.
&lt;/h3>&lt;p>&lt;strong>ì´ê±´ NIC 2ê°œë¥¼ ì„ íƒí•œ ì´ì „ì— ì˜¤í”ˆ ìŠ¤íƒì„ ì„ íƒí•œ ì´ìœ ì´ê¸°ë„ í•©ë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>HexaCTF í”Œë«í¼ ìì²´ëŠ” 2ê°œì˜ ì›Œì»¤ ë…¸ë“œë¥¼ ê°€ì§„ ì¿ ë²„ë„¤í‹°ìŠ¤ ë‚´ì—ì„œ ì‘ë™ë©ë‹ˆë‹¤.
ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ì‚¬ëŒ(ì´ìš©ì)ê°€ ì ‘ê·¼í•´ì•¼ í•˜ëŠ” ì‚¬ì´íŠ¸ëŠ” í¬ê²Œ ë‘ ê°€ì§€ ì´ë©° ë°°í¬ëœ ì¥ì†Œê°€ ë‹¤ë¦…ë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>HexaCTF ì›¹ì‚¬ì´íŠ¸ - Worker Node 1&lt;/li>
&lt;li>Challenge ì„œë²„ - Worker Node 2&lt;/li>
&lt;/ol>
&lt;h4 id="ì˜¤í”ˆ-ìŠ¤íƒì´-ì•„ë‹Œ-ê²½ìš°--ë‹¨ì¼-ipë¡œë§Œ-êµ¬ì„±ëœ-ê²½ìš°">ì˜¤í”ˆ ìŠ¤íƒì´ ì•„ë‹Œ ê²½ìš° = ë‹¨ì¼ IPë¡œë§Œ êµ¬ì„±ëœ ê²½ìš°
&lt;/h4>&lt;p>HexaCTF ê´€ë ¨ ì„œë¹„ìŠ¤ë“¤ì€ ëª¨ë‘ NodePortë¥¼ í†µí•´ ì™¸ë¶€ì™€ í†µì‹ í•©ë‹ˆë‹¤. ì›¹ì‚¬ì´íŠ¸ëŠ” ê³ ì • NodePort í¬íŠ¸ ë²ˆí˜¸ë¥¼ ì§€ì •í•´ë„ Challenge ì„œë²„ëŠ” NodePort ë²”ìœ„(30000~32767)ë‚´ì— ëœë¤ìœ¼ë¡œ í¬íŠ¸ ë²ˆí˜¸ê°€ ì •í•´ì§€ê¸° ë•Œë¬¸ì— &lt;strong>í¬íŠ¸ ë²ˆí˜¸ ì¶©ëŒ ê°€ëŠ¥ì„±ì´ ì¡´ì¬&lt;/strong>í•©ë‹ˆë‹¤. ì˜ˆë¡œ ì›¹ ì‚¬ì´íŠ¸ë¥¼ 30000ìœ¼ë¡œ ì—´ì–´ë„ Challenge ì„œë²„ê°€ 30000 í¬íŠ¸ ë²ˆí˜¸ë¡œ ìƒì„±ë˜ë©´ ì¶©ëŒì´ ë°œìƒí•˜ê²Œ ë˜ëŠ” ê²ƒì´ì£ .&lt;/p>
&lt;blockquote>
&lt;p>ChallengeëŠ” ì‚¬ìš©ìê°€ ë™ì ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ ì»¤ìŠ¤í…€ ë¦¬ì†ŒìŠ¤ì…ë‹ˆë‹¤. ì‚¬ìš©ìëŠ” Challenge ìš”ì²­í•˜ì—¬ NodePortì˜ í¬íŠ¸ ë²ˆí˜¸ë¥¼ ì–»ìœ¼ë©´ http í˜¹ì€ ncì„ í†µí•´ ì‹œìŠ¤í…œì— ì ‘ì†í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ê·¸ëŸ¼ ëˆ„êµ°ê°€ëŠ” ì´ë ‡ê²Œ ìƒê°í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>Q. Worker Node 1ì— ë°°í¬ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ NodePortê°€ ê³ ì •ë˜ì–´ ìˆìœ¼ë‹ˆ ë‹¤ë¥¸ í¬íŠ¸ ë²ˆí˜¸ë¡œ í¬íŠ¸ í¬ì›Œë”© ì‹œí‚¤ë©´ ë˜ì§€ ì•Šì„ê¹Œìš”? ì˜ˆë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ ì›Œì»¤ ë…¸ë“œì—ì„œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ 30010ë¡œ ì—´ì§€ë§Œ ì‹¤ì œ ì„œë²„ì—ëŠ” 5010ë²ˆìœ¼ë¡œ iptable ê·œì¹™ì„ ìˆ˜ì •í•˜ë©´ ë˜ì–ì•„ìš”?&lt;/p>
&lt;p>A. ê·¸ê²ƒë„ ì¢‹ì€ ë°©ë²•ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. ì‹¤ì œë¡œ ì„œë²„ëŠ” ì •ì „ì´ ë§ì´ ë°œìƒë˜ëŠ” í™˜ê²½ì´ê¸°ì— iptable ê·œì¹™ì´ ì˜ì†ì ìœ¼ë¡œ ìœ ì§€ë  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤. iptable ê·œì¹™ì´ í¬í•¨ëœ ë³„ë„ì˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•˜ë©´ í¬íŠ¸ ì¶©ëŒ ë¬¸ì œëŠ” í•´ì†Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•˜ì—¬ ë¶€íŒ… ì‹œ ì ìš©ì‹œí‚¤ëŠ” ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ê²ƒì €ê²ƒ ì¶”ê°€í•˜ê³  ì‚­ì œí•˜ë©´ì„œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì—…ë°ì´íŠ¸ í•˜ì§€ ì•Šì•„ í¬íŠ¸ ì¶©ëŒ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;br>
ê´€ë¦¬ë¥¼ ì˜í•˜ë©´ ë³„ë‹¤ë¥¸ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ &lt;strong>ìœ ë™ì ìœ¼ë¡œ ì¶”ê°€ë˜ê³  ì‚­ì œë˜ëŠ” ê²ƒë“¤ì„ ì¼ë¦¬ë¦¬ ê´€ë¦¬í•˜ëŠ” ê²ƒì€ ì‹¤ìˆ˜ê°€ ë§ì´ ë°œìƒí•œë‹¤ê³  ìƒê°í•˜ì—¬ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±ì€ ì¢‹ì€ ì„ íƒì§€ë¡œ ë³´ê³  ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;h4 id="ì˜¤í”ˆ-ìŠ¤íƒì„-í™œìš©í• -ê²½ìš°--ê°œë³„-ip-ì†Œìœ ">ì˜¤í”ˆ ìŠ¤íƒì„ í™œìš©í•  ê²½ìš° = ê°œë³„ IP ì†Œìœ 
&lt;/h4>&lt;p>ê°œë³„ì ìœ¼ë¡œ IPë¥¼ ê°€ì§€ê²Œ ë˜ë©´ í¬íŠ¸ ì¶©ëŒ ë¬¸ì œë¥¼ ì™„ì „íˆ í•´ì†Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
Worker Node 1, 2ëŠ” ì„œë¡œ ë‹¤ë¥¸ IPë¥¼ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— í¬íŠ¸ ë²ˆí˜¸ê°€ ê²¹ì¹˜ë”ë¼ë„ ì„œë¡œ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ë¡œ ì¸ì‹ë˜ë‹ˆê¹Œìš”.&lt;/p>
&lt;h3 id="ì´ìœ -3-ì—­í• -ë³„-ì ‘ê·¼-ì œì–´ê°€-ê°€ëŠ¥í•˜ë‹¤">ì´ìœ  3. ì—­í•  ë³„ ì ‘ê·¼ ì œì–´ê°€ ê°€ëŠ¥í•˜ë‹¤.
&lt;/h3>&lt;p>HexaCTFëŠ” í¬ê²Œ 3ê°€ì§€ ì‚¬ìš©ìê°€ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>ì‹œìŠ¤í…œ ìš´ì˜ì( or ë¬¸ì œ ë“±ë¡ì)&lt;/li>
&lt;li>ê°œë°œì&lt;/li>
&lt;li>ì‚¬ìš©ì&lt;/li>
&lt;/ol>
&lt;h4 id="ì˜¤í”ˆ-ìŠ¤íƒì´-ì•„ë‹Œ-ê²½ìš°--ë‹¨ì¼-ipë¡œë§Œ-êµ¬ì„±ëœ-ê²½ìš°-1">ì˜¤í”ˆ ìŠ¤íƒì´ ì•„ë‹Œ ê²½ìš° = ë‹¨ì¼ IPë¡œë§Œ êµ¬ì„±ëœ ê²½ìš°
&lt;/h4>&lt;p>ë‹¨ì¼ IPì¸ ê²½ìš°ë¥¼ ìƒê°í•´ ë´…ì‹œë‹¤.
ëª¨ë“  ì• í”Œë¦¬ì¼€ì´ì…˜ì„ NodePortë¡œ ì—´ì—ˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ë‚˜ì„œ ë¼ìš°í„°ì— í¬íŠ¸ í¬ì›Œë”©ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
ë¬¸ì œëŠ” ì €í¬ê°€ ì‚¬ìš©í•˜ê³  ìˆëŠ” ë¼ìš°í„°ëŠ” í¬íŠ¸ ë²”ìœ„ ê¸°ë°˜ìœ¼ë¡œ í¬íŠ¸í¬ì›Œë”©ì€ ëª»í•˜ê³  DMZë¡œ ì—´ì–´ì•¼ í•©ë‹ˆë‹¤. ëª¨ë“  í¬íŠ¸ë¥¼ ì—´ì–´ì•¼ í•˜ëŠ” ìƒí™©ì¸ê±°ì£ .&lt;/p>
&lt;p>DMZë€ ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ì— ì¡´ì¬í•˜ì§€ë§Œ ì™¸ë¶€ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” íŠ¹ìˆ˜í•œ ì˜ì—­ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì£¼ë¡œ ì™¸ë¶€ì— ë§ì´ ë…¸ì¶œë˜ëŠ” FTP, Web Serverì— DMZë¥¼ êµ¬ì„±í•˜ë©° ë¶ˆí•„ìš”í•œ ì„œë¹„ìŠ¤ ë…¸ì¶œì„ ìµœì†Œí™”í•˜ê¸° ìœ„í•´ ì£¼ë¡œ í™œìš©ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-11/image-4.png"
width="1920"
height="1080"
srcset="https://s0okju.github.io/p/hexactf-11/image-4_hu_79a63deaced69902.png 480w, https://s0okju.github.io/p/hexactf-11/image-4_hu_87e943dcf443f1ab.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://www.zenarmor.com/docs/network-security-tutorials/what-is-dmz"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;/p>
&lt;p>ë§Œì•½ì— ë‹¨ì¼ IPë¡œ í• ê²½ìš° í¬íŠ¸ í¬ì›Œë”©ì„ í• ë•Œ ë‹¨ì¼ IPì— ì „ì²´ì˜ í¬íŠ¸ë¥¼ ì™¸ë¶€ì— ì˜¤í”ˆí•˜ê²Œ ë©ë‹ˆë‹¤. ì´ëŸ¬í•œ í™˜ê²½ì—ì„œ ì•…ì˜ì ì¸ ì‚¬ìš©ìê°€ ì˜¤í”ˆí•œ í¬íŠ¸ë¥¼ ìŠ¤ìº”í•œ í›„ ê´€ë¦¬ì ì„œë¹„ìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ”&lt;strong>ì—­í• ì„ ëª…í™•í•˜ê²Œ ë¶„ë¦¬í•˜ì§€ ì•Šì•„ ë°œìƒí•œ ë¶ˆí•„ìš”í•œ ë…¸ì¶œ ë¬¸ì œì´ë©°, ëª…ë°±í•˜ê²Œ ë³´ì•ˆ ë¬¸ì œë¡œ ì´ì–´ì§€ê²Œ ë©ë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;blockquote>
&lt;p>Q. ë°©í™”ë²½ì„ ì„¤ì¹˜í•˜ë©´ ë˜ì–ì•„ìš”!&lt;br>
A. ì´ëŸ´ ê²½ìš°ì—ëŠ” í•˜ë“œì›¨ì–´ ë°©í™”ë²½ì´ í•„ìš”í•©ë‹ˆë‹¤.. ëˆì´ ì—†ì–´ìš”.. ğŸ¥¹&lt;/p>&lt;/blockquote>
&lt;h4 id="ì˜¤í”ˆ-ìŠ¤íƒì„-í™œìš©í• -ê²½ìš°--ê°œë³„-ip-ì†Œìœ -1">ì˜¤í”ˆ ìŠ¤íƒì„ í™œìš©í•  ê²½ìš° = ê°œë³„ IP ì†Œìœ 
&lt;/h4>&lt;p>ì˜¤í”ˆìŠ¤íƒì„ í™œìš©í•˜ì—¬ ëª¨ë“  ë¦¬ì†ŒìŠ¤ì— IPë¥¼ í• ë‹¹í•˜ë©´ ìœ„ì™€ ê°™ì€ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìš°ì„  ì¸í„°ë„·ì„ ì—°ê²°í•  ìˆ˜ ìˆëŠ” ì„œë¹„ìŠ¤ì™€ ê·¸ë ‡ì§€ ì•ŠëŠ” ì„œë¹„ìŠ¤ë¥¼ IPë¥¼ í†µí•´ ëª…í™•í•˜ê²Œ ë‚˜ëˆŒ ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤. ì¦‰ ì„œë¹„ìŠ¤ë¥¼ ë¶„ë¥˜í•˜ëŠ” ê¸°ì¤€ì´ í¬íŠ¸ ë²ˆí˜¸ê°€ ì•„ë‹Œ IPë¡œ í™•ì¥ëœ ê²ƒì´ì£ .&lt;/p>
&lt;h5 id="ì‚¬ìš©ì">ì‚¬ìš©ì
&lt;/h5>&lt;p>Worker Node1, 2ì— ê°ê° ì‚¬ì„¤ IPë¥¼ í• ë‹¹í•˜ì—¬ ë‹¨ì¼ í¬íŠ¸ë§Œ ì˜¤í”ˆí•´ì•¼ í•˜ëŠ” ì„œë¹„ìŠ¤ëŠ” í¬íŠ¸ í¬ì›Œë”©ì„ í†µí•´ ì¸í„°ë„·ê³¼ ì—°ê²°í•´ì£¼ê³ , ë²”ìœ„ë¡œ ì§€ì •í•´ì•¼ í•  ê²½ìš°ì—ëŠ” DMZë¡œ ì¸í„°ë„·ê³¼ ì—°ê²°í•´ì£¼ë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ëŸ° ì‹ìœ¼ë¡œ êµ¬ì„±í•˜ë©´ ì‚¬ìš©ìëŠ” Worker Node 1 ë‚´ì— ë°°í¬ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ Worker Node 2ì— ë°°í¬ëœ Challenge ì„œë¹„ìŠ¤ë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ ë˜ì–´ ë¶ˆí•„ìš”í•œ ë…¸ì¶œì„ ìµœì†Œí™”í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-11/image-5.png"
width="602"
height="498"
srcset="https://s0okju.github.io/p/hexactf-11/image-5_hu_475fc17c32d26117.png 480w, https://s0okju.github.io/p/hexactf-11/image-5_hu_57905927e19bcdec.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="120"
data-flex-basis="290px"
>&lt;/p>
&lt;h5 id="ìš´ì˜ì-í˜¹ì€-ê°œë°œì">ìš´ì˜ì í˜¹ì€ ê°œë°œì
&lt;/h5>&lt;p>í•˜ì§€ë§Œ ìš´ì˜ìì™€ ê°œë°œìë„ ì¿ ë²„ë„¤í‹°ìŠ¤ ë‚´ì— ë°°í¬ëœ ê°ì¢… ë„êµ¬ í˜¹ì€ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì— ì ‘ê·¼í•´ì•¼ í•©ë‹ˆë‹¤.&lt;br>
ê·¸ë ‡ë‹¤ë©´ ì–´ë–»ê²Œ ì ‘ê·¼í• ê¹Œìš”? ë°”ë¡œ &lt;strong>VPN&lt;/strong>ì„ í™œìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì¦‰ ë³„ë„ì˜ ì¸í„°ë„· ì—°ê²° ì—†ì´ ì‚¬ì„¤ IPì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>ê°€ìƒì‚¬ì„¤ë§&lt;/strong>(å‡æƒ³ç§è¨­ç¶²) ë˜ëŠ”Â &lt;strong>VPN&lt;/strong>(&lt;a class="link" href="https://ko.wikipedia.org/wiki/%EC%98%81%EC%96%B4" title="ì˜ì–´"
target="_blank" rel="noopener"
>ì˜ì–´&lt;/a>:Â virtual private network)ì€ ê³µì¤‘Â &lt;a class="link" href="https://ko.wikipedia.org/wiki/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC" target="_blank" rel="noopener"
>ë„¤íŠ¸ì›Œí¬&lt;/a>ë¥¼ í†µí•´ í•œ íšŒì‚¬ë‚˜ ëª‡ëª‡ ë‹¨ì²´ê°€ ë‚´ìš©ì„ ë°”ê¹¥ ì‚¬ëŒì—ê²Œ ë“œëŸ¬ë‚´ì§€ ì•Šê³  í†µì‹ í•  ëª©ì ìœ¼ë¡œ ì“°ì´ëŠ” ì‚¬ì„¤ í†µì‹ ë§ì´ë‹¤.&lt;/p>
&lt;ul>
&lt;li>ì¶œì²˜: &lt;a class="link" href="https://ko.wikipedia.org/wiki/%EA%B0%80%EC%83%81%EC%82%AC%EC%84%A4%EB%A7%9D" target="_blank" rel="noopener"
>ìœ„í‚¤ë°±ê³¼&lt;/a>&lt;/li>
&lt;/ul>&lt;/blockquote>
&lt;p>ì´ëŸ°ì‹ìœ¼ë¡œ êµ¬ì„±í•˜ë©´ ê°œë°œìì™€ ê´€ë¦¬ìëŠ” ì•ˆì „í•˜ê²Œ ê´€ë ¨ ì„œë¹„ìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆìœ¼ë©°, ê·¸ ì´ì™¸ì˜ ì‚¬ìš©ìëŠ” í•´ë‹¹ ì„œë¹„ìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ì—†ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ì •ë¦¬">ì •ë¦¬
&lt;/h2>&lt;p>NICë¥¼ 2ê°œë¡œ ì‚½ì…í•œ ì´ìœ , ì˜¤í”ˆ ìŠ¤íƒì„ í™œìš©í•œ ì´ìœ  ë“± ì„ íƒì˜ ì´ìœ ëŠ” ë³µí•©ì ì…ë‹ˆë‹¤. ê·¸ë˜ì„œ ìˆœì°¨ì ìœ¼ë¡œ ì›ì¸ê³¼ ê²°ê³¼ë¥¼ ëª…í™•í•˜ê²Œ ë§í•˜ê¸° ì–´ë ¤ìš´ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>í•µì‹¬ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ì™¸ë¶€ì™€ í†µì‹ í•´ì•¼ í•˜ëŠ” ëª¨ë“  ì‹œìŠ¤í…œì€ ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ì—ì„œ ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì‚¬ì„¤ IPë¥¼ ê°€ì ¸ì•¼ í•˜ë©°, í•„ìš”ì— ë”°ë¼ ì¸í„°ë„·ì— ë…¸ì¶œì‹œí‚¬ ìˆ˜ ìˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°
&lt;/h2>&lt;p>ì´ë²ˆ ê¸€ì€ ì—¬ëŸ¬ê°€ì§€ ì˜ë¯¸ë¡œ ì‘ì„±í•˜ê¸° ì–´ë ¤ì› ìŠµë‹ˆë‹¤. ì‚¬ì„¤ IPì¸ë° ìš´ì˜ì²´ì œì—ì„œ ë§Œë“  ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ í• ë‹¹ë°›ì€ IPëŠ” ë˜‘ê°™ì´ ì‚¬ì„¤ IPë¼ê³  ì„¤ëª…í•´ì•¼ í•˜ë‚˜? ì—¬ëŸ¬ê°€ì§€ ê³ ë¯¼ì´ ë§ì•˜ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë‹¤ìŒ ê¸€ì—ì„œëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì–´ë–»ê²Œ êµ¬ì„±í•˜ê³  ë°°í¬í–ˆëŠ”ì§€ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ì°¸ê³ ">ì°¸ê³ 
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://tech.osci.kr/ovs_network_flow/" target="_blank" rel="noopener"
>OpenStack í™˜ê²½ì—ì„œì˜ OVS ë„¤íŠ¸ì›Œí¬ íë¦„ ì‹¬ì¸µ ë¶„ì„ - ì˜¤í”ˆì†ŒìŠ¤ì»¨ì„¤íŒ… í…Œí¬ë¸”ë¡œê·¸&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://aws-hyoh.tistory.com/161" target="_blank" rel="noopener"
>VPN ì‰½ê²Œ ì´í•´í•˜ê¸°&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.zenarmor.com/docs/network-security-tutorials/what-is-dmz" target="_blank" rel="noopener"
>What is a DMZ (Demilitarized Zone) Network? - zenarmor.com&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>HexaCTF 10. ì•„í‚¤í…ì³ ì„¤ê³„ ë° Challenge Control API ì œì‘</title><link>https://s0okju.github.io/p/hexactf-10/</link><pubDate>Wed, 12 Mar 2025 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/hexactf-10/</guid><description>&lt;ul>
&lt;li>2025-03-13 ì¼ë¶€ ë‚´ìš© ìˆ˜ì •&lt;/li>
&lt;/ul>
&lt;p>ì´ì „ê¹Œì§€ Challenge Operator ê´€ë ¨ëœ ê¸€ë§Œ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. Challengeì˜ ë¼ì´í”„ ì‚¬ì´í´ì„ ì „ë°˜ì ìœ¼ë¡œ ì„¤ëª…í•´ì•¼ í•˜ëŠ” ë§Œí¼ ë§ì€ ë¶„ëŸ‰ì„ í• ì• í–ˆìŠµë‹ˆë‹¤. ì´ë²ˆ Challenge Control API ë¶€ë¶„ì€ ì´ë²ˆ ê¸€ë¡œ ëª¨ë‘ ì •ë¦¬í•˜ê³ ì í•©ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ì•„í‚¤í…ì³-ì„¤ê³„">ì•„í‚¤í…ì³ ì„¤ê³„
&lt;/h2>&lt;h3 id="ì•„ì¼€í…ì³">ì•„ì¼€í…ì³
&lt;/h3>&lt;p>ì „ë°˜ì ì¸ ì•„í‚¤í…ì³ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h4 id="ctf-web">CTF-WEB
&lt;/h4>&lt;p>ê·¸ë¦¼ì— í´ë¼ì´ì–¸íŠ¸ ë¶€ë¶„ì´ ì—†ë‹¤ê³  ìƒê°í•  ìˆ˜ ìˆëŠ”ë° CTF-WEBì˜ ê²½ìš° Flask Serverë¡œ ì´ë¤„ì ¸ ìˆìœ¼ë‚˜ htmlì„ ë¦¬ë‹¤ì´ë ‰íŠ¸ í•˜ëŠ” êµ¬ì¡°ì´ê¸° ë•Œë¬¸ì— í•˜ë‚˜ë¡œ í‘œí˜„í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h4 id="container-control-api">Container Control API
&lt;/h4>&lt;p>ë³¸ë˜ CTF-WEB í•˜ë‚˜ë¡œ ë³‘í•©í•˜ì—¬ ì‚¬ìš©í•  ì˜ˆì •ì´ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ &lt;strong>Control APIê°€ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ” ë‹¤ë¥¸ í”Œë«í¼(Queue, Kubernetes)ê°€ ë§ë‹¤ëŠ” ì ê³¼ ë¹„êµì  ì—ëŸ¬ ì‚¬í•­ì´ ë§ë‹¤ëŠ” ì &lt;/strong>ì„ ê°ì•ˆí•˜ì—¬ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ í˜•íƒœë¡œ ë¶„ë¦¬í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤. ì¦‰, &lt;strong>ë¶ˆí•„ìš”í•œ ì˜¤ë¥˜ í™•ì‚°ì„ ë§‰ê¸° ìœ„í•´ ë¶„ë¦¬&lt;/strong>í–ˆë‹¤ê³  ë³´ì‹œë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-10/image.png"
width="591"
height="201"
srcset="https://s0okju.github.io/p/hexactf-10/image_hu_a22f182b0acfb63c.png 480w, https://s0okju.github.io/p/hexactf-10/image_hu_1c6c3563af715315.png 1024w"
loading="lazy"
alt="ì‹œìŠ¤í…œ êµ¬ì„±ë„"
class="gallery-image"
data-flex-grow="294"
data-flex-basis="705px"
>&lt;/p>
&lt;h3 id="ì™œ-control-apiëŠ”-í•„ìš”í•œê°€">ì™œ Control APIëŠ” í•„ìš”í•œê°€?
&lt;/h3>&lt;p>ìš°ì„  &lt;strong>ì‚¬ìš©ìì™€ ìƒí˜¸ì‘ìš©&lt;/strong>ì„ í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ëª…ë ¹ì–´ë¥¼ ë°›ëŠ” ì„œë¹„ìŠ¤ê°€ í•„ìš”í•©ë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ëŠ” &lt;code>kubectl apply &lt;/code> ì— í•´ë‹¹ë˜ëŠ” ëª…ë ¹ì–´ë¥¼ ì¿ ë²„ë„¤í‹°ìŠ¤ ì„œë²„ì— ì „ì†¡í•´ì•¼ í•©ë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì¿ ë²„ë„¤í‹°ìŠ¤ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰ì‹œí‚¨ë‹¤ëŠ” ê²ƒì€ ì¿ ë²„ë„¤í‹°ìŠ¤ ë§ˆìŠ¤í„° ë…¸ë“œì— ëŒ€í•œ ì—”ë“œ í¬ì¸íŠ¸ê°€ ê·¸ëŒ€ë¡œ ë…¸ì¶œëœë‹¤ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤. ì¦‰, ì¹˜ëª…ì ì¸ ë³´ì•ˆ ë¬¸ì œë¡œ ì´ë¤„ì§€ì§€ ì•Šì„ê¹Œìš”?&lt;/p>
&lt;blockquote>
&lt;p>ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” &lt;code>.kube&lt;/code> ë¼ëŠ” config íŒŒì¼ì„ í†µí•´ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ ê´€ë¦¬í•˜ê²Œ ë©ë‹ˆë‹¤. ì—¬ê¸°ì— ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì˜ ì—”ë“œí¬ì¸íŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;h3 id="control-api-operator-ì‚¬ì´ì—-íë¥¼-ë‘”-ì´ìœ ">Control API-Operator ì‚¬ì´ì— íë¥¼ ë‘” ì´ìœ 
&lt;/h3>&lt;blockquote>
&lt;p>ì´ë²ˆ ê¸€ì—ì„œëŠ” ì§€ì†í•´ì„œ Control API ì…ì¥ì—ì„œ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>Control API ì…ì¥ì—ì„œëŠ” &lt;strong>ì–´ë– í•œ ì ˆì°¨ë¥¼ í†µí•´ Challengeì˜ ìƒíƒœ ë³€í™”ë¥¼ ì–»ì–´ì„œ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥&lt;/strong>í•´ì•¼ í•©ë‹ˆë‹¤. Control APIê°€ í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ í¬ê²Œ ë‘ ê°€ì§€ì…ë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>Control APIê°€ ì§€ì†í•´ì„œ ì¿ ë²„ë„¤í‹°ìŠ¤ì—ê²Œ Challenge ìƒíƒœ ì—¬ë¶€ë¥¼ ë¬¼ì–´ë³¸ë‹¤.&lt;/li>
&lt;li>ì¿ ë²„ë„¤í‹°ìŠ¤ê°€ ìƒíƒœê°€ ë³€í• ë•Œë§ˆë‹¤ Control APIì—ê²Œ ë¬¼ì–´ë³¸ë‹¤.&lt;/li>
&lt;/ol>
&lt;p>ê²°êµ­ ëˆ„ê°€ ë¨¼ì € ë¬¼ì–´ë³¼ ê²ƒì¸ê°€ë¥¼ ì„ ì •í•´ì•¼ í•©ë‹ˆë‹¤. ì„ ì • ê¸°ì¤€ì´ í”„ë¡œì íŠ¸ë§ˆë‹¤ ë‹¤ë¥´ê² ìœ¼ë‚˜ ì €ëŠ” &lt;strong>êµ¬í˜„ ë‚œì´ë„&lt;/strong>ë¥¼ ê³ ë ¤í–ˆì„ë•Œ 2ë²ˆì¸ &amp;ldquo;ì¿ ë²„ë„¤í‹°ìŠ¤ê°€ ìƒíƒœê°€ ë³€í• ë•Œë§ˆë‹¤ Control APIì—ê²Œ ë¬¼ì–´ë³¸ë‹¤.&amp;ldquo;ë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ì „ í¸ì—ì„œë„ ì œê°€ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì„ íƒí•œ ì´ìœ ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ë¹„ë™ê¸°ì ìœ¼ë¡œ íƒìƒ‰í•˜ì—¬ ì‹¤ì‹œê°„ìœ¼ë¡œ ìƒíƒœ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê¸° ì–´ë ¤ì›€ì„ ê²ªì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ì™€ ìœ ì‚¬í•œ ë¬¸ì œì˜ ëŠªì— ë¹ ì§€ê²Œ ë©ë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ëŠ” Challengeê°€ ë¬´ìŠ¨ ìƒíƒœì¸ì§€ ëª¨ë¥´ê¸° ë•Œë¬¸ì— ì§€ì†ì ìœ¼ë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ì—ê²Œ ë¬¼ì–´ë³¼ ê²ƒì´ê³ , ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ë©´ ì†ë„ê°€ ëŠë ¤ì§ˆ ê²ƒì´ë‹ˆ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•´ì•¼ í•  ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>OperatorëŠ” ë‚´ë¶€ì ìœ¼ë¡œ Challengeì˜ ìƒíƒœ ì •ë³´ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ Challengeì˜ ìƒíƒœê°€ ë³€ê²½ë ë•Œë§ˆë‹¤ Control APIì—ê²Œ ë³´ë‚´ëŠ” ë°©ë²•ì€ ì–´ë–¨ê¹Œìš”? ì´ëŸ¬í•œ ë°©ì‹ì€ í•˜ë‚˜ì˜ ë¬¸ì œì ì„ ê°€ì§€ê²Œ ë©ë‹ˆë‹¤. ë™ê¸°ë¡œ ì²˜ë¦¬ë¥¼ í•˜ë©´ ì‘ë‹µê°’ì´ ì˜¬ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼ í•˜ê¸° ë•Œë¬¸ì— Operatorì˜ ì†ë„ê°€ ëŠë ¤ì§ˆ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤. ë˜í•œ Opeator ë‚´ë¶€ì—ëŠ” ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬ë˜ê¸° ë•Œë¬¸ì— ë¬´ìŠ¨ ë¬¸ì œê°€ ë°œìƒí• ì§€ ì˜ˆìƒì´ ê°€ì§€ ì•ŠìŠµë‹ˆë‹¤.&lt;br>
ê·¸ëŸ¬ë‚˜ í•´ê²° ë°©ë²•ì€ ìˆìŠµë‹ˆë‹¤. Operatorì™€ Control API ì‚¬ì´ì— íë¥¼ ë‘ ìœ¼ë¡œì¨ ë°ì´í„° ëˆ„ë½ ë¬¸ì œë„ í•´ê²°í•˜ê³  ì†ë„ë„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¡œ Operatorê°€ None -&amp;gt; Running ìƒíƒœë¡œ ë³€ê²½ì‹œì¼°ì„ë•Œ Queueì— Runningìœ¼ë¡œ ë³€ê²½í–ˆë‹¤ëŠ” ë©”ì„¸ì§€ë§Œ ì „ì†¡í•œ í›„ Operatorì˜ ë‚˜ë¨¸ì§€ ë¡œì§ì„ ì²˜ë¦¬í•˜ê²Œ ë©ë‹ˆë‹¤. ì¦‰, ì‘ë‹µì´ ì˜¬ë•Œê¹Œì§€ ê¸°ë‹¤ë¦´ í•„ìš”ê°€ ì—†ê² ì£ ?&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-10/image.png"
width="591"
height="201"
srcset="https://s0okju.github.io/p/hexactf-10/image_hu_a22f182b0acfb63c.png 480w, https://s0okju.github.io/p/hexactf-10/image_hu_1c6c3563af715315.png 1024w"
loading="lazy"
alt="ì‹œìŠ¤í…œ êµ¬ì„±ë„"
class="gallery-image"
data-flex-grow="294"
data-flex-basis="705px"
>&lt;/p>
&lt;h4 id="challenge-controllerì˜-ìŠ¤í„°ë””-ì¼€ì´ìŠ¤-nova-architecture">Challenge Controllerì˜ ìŠ¤í„°ë”” ì¼€ì´ìŠ¤: Nova Architecture
&lt;/h4>&lt;p>Challenge Controller ì‹œìŠ¤í…œì˜ ì „ë°˜ì ì¸ ì»¨ì…‰ì€ OpenStackì˜ Novaì˜ ì•„í‚¤í…ì³ë¥¼ ë§ì´ í™œìš©í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>NovaëŠ” AWSì˜ EC2ë¼ê³  ìƒê°í•˜ì‹œë©´ ë©ë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ì €í¬ í”„ë¡œì íŠ¸ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ ë¦¬ì†ŒìŠ¤ë¥¼ í™œìš©í•œë‹¤ëŠ” ì ì—ì„œ Novaì™€ í™•ì‹¤íˆ ë‹¤ë¥´ê² ìœ¼ë‚˜ &lt;strong>APIë¥¼ í†µí•´ ì»´í“¨íŒ… ë¦¬ì†ŒìŠ¤ë¥¼ ì œì–´í•œë‹¤ëŠ” ì»¨ì…‰ì€ ë™ì¼í•˜ë‹ˆê¹Œìš”.&lt;/strong>&lt;/p>
&lt;p>ì œê°€ í™œìš©í•œ ì»¨ì…‰ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>ì œì–´ë¶€(api)ì™€ ë¦¬ì†ŒìŠ¤ ì²˜ë¦¬ë¶€(nova-compute, nova-volume &amp;hellip;) ë¶„ë¦¬&lt;/li>
&lt;li>ì œì–´ë¶€ì™€ ë¦¬ì†ŒìŠ¤ ì²˜ë¦¬ë¶€ ì‚¬ì´ ì´ë²¤íŠ¸ ê¸°ë°˜ ì²˜ë¦¬ - Queue ë°°ì¹˜&lt;/li>
&lt;/ol>
&lt;p>ì €í¬ í”„ë¡œì íŠ¸ì—ì„œëŠ” Control APIê°€ nova-apiì— í•´ë‹¹ë˜ëŠ” ê²ƒì´ê³ , Operatorê°€ nova-computeë¼ê³  ìƒê°í•˜ì‹œë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-10/image-1.png"
width="582"
height="656"
srcset="https://s0okju.github.io/p/hexactf-10/image-1_hu_ab243a49b712ac62.png 480w, https://s0okju.github.io/p/hexactf-10/image-1_hu_6c9e5f7672b5874f.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://www.oreilly.com/library/view/deploying-openstack/9781449311223/ch04.html"
class="gallery-image"
data-flex-grow="88"
data-flex-basis="212px"
>&lt;/p>
&lt;blockquote>
&lt;p>&amp;ldquo;ì œì–´ë¶€ì™€ ë¦¬ì†ŒìŠ¤ ì²˜ë¦¬ë¶€ ë¶„ë¦¬&amp;rdquo; ê´€ë ¨ ê°„ë‹¨í•œ ì´ì•¼ê¸°&lt;br>
ë¬´ì¡°ê±´ Nova Architectureë¥¼ ì°¨ìš©í–ˆë‹¤ê³  í•´ì„œ Operatorë¥¼ ë³„ë„ë¡œ ì œì‘í•œ ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤. ê·¸ì € ë¶„ë¦¬í•˜ì—¬ ì´ë²¤íŠ¸ ì²˜ë¦¬ ê¸°ë°˜ìœ¼ë¡œ ì‹œìŠ¤í…œì„ ì œì–´í•˜ëŠ” ê²ƒì´ ë§ì´ í™œìš©ë˜ëŠ” ë°©ì‹ì´ë¼ê³ ë§Œ ì¸ì‹í–ˆìŠµë‹ˆë‹¤. ì¦‰, Operatorë¥¼ ë³„ë„ë¡œ ì œì‘í•˜ëŠ” ê²ƒì´ ê¸°ìˆ ì ì¸ ê³ ë‚œë„ ë„ì „ì´ ì•„ë‹Œ ì„ íƒì§€ ì¤‘ ì¼ë¶€ë¡œ ë°›ì•„ë“¤ì¸ ê²ƒì…ë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;h2 id="control-api-ì œì‘">Control API ì œì‘
&lt;/h2>&lt;blockquote>
&lt;p>ìì„¸í•œ ì‚¬í•­ì€ HexaCTF 6. Kubebuilderë¥¼ í™œìš©í•œ ChallengeDefinition&amp;amp;Challenge Type êµ¬í˜„ë¥¼ ì°¸ê³ í•˜ì‹œê¸¸ ë°”ëë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ì»¤ìŠ¤í…€ ë¦¬ì†ŒìŠ¤ì¸ ChallengeDefinitionê³¼ Challengeë¥¼ í™•ì¸í•´ë³¼ê¹Œìš”?&lt;/p>
&lt;ul>
&lt;li>ChallengeDefinition : ë¬¸ì œ ìƒì„¸ ì •ë³´ë¥¼ ë‚˜íƒ€ë‚´ë©° ì±Œë¦°ì§€ ì •ë³´, êµ¬ì„± ë¦¬ì†ŒìŠ¤ë¥¼ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ì •ì˜í•œë‹¤.&lt;/li>
&lt;li>Challenge : ì‚¬ìš©ì(ë¬¸ì œ í’€ì´ì)ê°€ ìƒì„±í•˜ëŠ” ë¬¸ì œì˜ ë‹¨ìœ„ë¡œ ì°¸ì¡°ëœ ChallengeDefinitionì„ ê¸°ë°˜ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•˜ê³  ì‚­ì œí•œë‹¤.&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-10/image-2.png"
width="862"
height="492"
srcset="https://s0okju.github.io/p/hexactf-10/image-2_hu_8aa7f99b6fd840b5.png 480w, https://s0okju.github.io/p/hexactf-10/image-2_hu_dc443c05dda744a.png 1024w"
loading="lazy"
alt="ChallengeDefinition-Challenge êµ¬ì¡°"
class="gallery-image"
data-flex-grow="175"
data-flex-basis="420px"
>&lt;/p>
&lt;p>ì‚¬ìš©ìê°€ ìƒì„±í•˜ëŠ” ë¬¸ì œë¥¼ Challenge ë‹¨ìœ„ë¡œ ì •ì˜í•¨ìœ¼ë¡œì¨ &lt;strong>ì‚¬ìš©ì ìš”ì²­ì— ëŒ€í•œ í˜•ì‹ì´ ê°„ì†Œí™”ë˜ê³ , ì‚¬ìš©ì ëª…ë ¹ì„ ì œì–´í•œë‹¤ëŠ” ì—­í• ì— ì¶©ì‹¤í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.&lt;/strong>&lt;br>
ì‚¬ìš©ìëŠ” ìš”ì²­ ì‹œ ì‚¬ìš©ì ì •ë³´ì™€ ë¬¸ì œë¥¼ ì „ì†¡í•˜ê²Œ ë©ë‹ˆë‹¤. ì´ëŸ¬í•œ ê³ ìœ í•œ ì •ë³´ë¥¼ ì¡°í•©í•˜ì—¬ Challenge ì´ë¦„ì„ ìƒì„±(&lt;code>challenge-{challenge_id}-{username}&lt;/code>)í–ˆìœ¼ë©° ì¿ ë²„ë„¤í‹°ìŠ¤ python sdkë¥¼ í†µí•´ ì‰½ê²Œ ì¶”ê°€í•˜ê³  ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl"> &lt;span class="n">user_challenge_repo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">UserChallengesRepository&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># Challenge definition ì¡°íšŒ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">challenge_definition&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ChallengeRepository&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_challenge_name&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">challenge_id&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">challenge_definition&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">raise&lt;/span> &lt;span class="n">ChallengeNotFound&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">error_msg&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;Challenge definition not found for ID: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">challenge_id&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># Challenge name ìƒì„± ë° ê²€ì¦&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">challenge_name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;challenge-&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">challenge_id&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">-&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_is_valid_k8s_name&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">challenge_name&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">raise&lt;/span> &lt;span class="n">UserChallengeCreationError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">error_msg&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;Invalid challenge name: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">challenge_name&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># Challenge manifest ìƒì„±&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">challenge_manifest&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;apiVersion&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;apps.hexactf.io/v1alpha1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;kind&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Challenge&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;metadata&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">challenge_name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;labels&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;apps.hexactf.io/challengeId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">challenge_id&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;apps.hexactf.io/user&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">username&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;spec&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;namespace&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">namespace&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;definition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">challenge_definition&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">challenge&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">custom_api&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">create_namespaced_custom_object&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">group&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;apps.hexactf.io&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">version&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;v1alpha1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">namespace&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">namespace&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">plural&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;challenges&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">body&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">challenge_manifest&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="í¬íŠ¸-ë²ˆí˜¸ëŠ”-challenge-ìƒíƒœ-ì •ë³´ì—-ìˆë‹¤">í¬íŠ¸ ë²ˆí˜¸ëŠ” Challenge ìƒíƒœ ì •ë³´ì— ìˆë‹¤.
&lt;/h3>&lt;p>Challenge APIëŠ” ìƒì„±ì„ ìš”ì²­í•˜ë©´ ì»¤ìŠ¤í…€ ë¦¬ì†ŒìŠ¤ì¸ Challengeì˜ í¬íŠ¸ ë²ˆí˜¸ë¥¼ ê°€ì ¸ì™€ì•¼ í•©ë‹ˆë‹¤. ì´ ê³¼ì •ì„ ì–´ë–»ê²Œ í•´ê²°í–ˆëŠ”ì§€ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>Operator ë¶€ë¶„ìœ¼ë¡œ ëŒì•„ì™€ ChallengeëŠ” Deployment, Serviceë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©° ServiceëŠ” NodePortë¥¼ í†µí•´ ì™¸ë¶€ë¡œ ë…¸ì¶œí•©ë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ &lt;strong>Control APIê°€ ìš”êµ¬í•˜ëŠ” í¬íŠ¸ ë²ˆí˜¸ëŠ” Serviceì—ì„œ ë…¸ì¶œí•œ NodePortì¼ ê²ƒì…ë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;blockquote>
&lt;p>ChallengeëŠ” ì™¸ë¶€ì— ë…¸ì¶œë˜ëŠ” ì—”ë“œ í¬ì¸íŠ¸ëŠ” ë‹¨ í•˜ë‚˜ ë¿ì…ë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ì—¬ê¸°ì„œ Control APIëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ Serviceë¥¼ ì¡°íšŒí•˜ë„ë¡ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ì¢‹ì„ê¹Œìš”? ì•„ë‹ˆë©´ Challengeì— ì •ë³´ê°€ í¬í•¨ë˜ëŠ” ê²ƒì´ ì¢‹ì„ê¹Œìš”? ë‹¹ì—°íˆ &lt;strong>Challenge ì •ë³´ì— í¬íŠ¸ ì •ë³´ê°€ í¬í•¨ë˜ëŠ” ê²ƒì´ Control APIì˜ ì—­í• ì— ì¶©ì‹¤í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì¼ ê²ƒì…ë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>Operatorì—ì„œëŠ” Serviceê°€ ìƒì„±ì´ ì™„ë£Œë˜ë©´ Challenge ìƒíƒœê°’ì— ì €ì¥í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Serviceê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">types&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NamespacedName&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">identifier&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">GetServicePrefix&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Namespace&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Namespace&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="nx">service&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">IsNotFound&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Creating new service&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">identifier&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">GetServicePrefix&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;namespace&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Namespace&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">service&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Failed to create Service&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Successfully created service&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">identifier&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">GetServicePrefix&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">service&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Spec&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Type&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="nx">corev1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ServiceTypeNodePort&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Status&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Endpoint&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">service&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Spec&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Ports&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">NodePort&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;NodePort created&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;port&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">service&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Spec&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Ports&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">NodePort&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Status&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nf">Update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Failed to update Challenge status with NodePort information&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Failed to get Service&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Control APIì—ì„œëŠ” Challenge ìƒì„± ìš”ì²­ì„ í•˜ë©´ Challengeì˜ ìƒíƒœê°’ì—ì„œ í¬íŠ¸ ë²ˆí˜¸ë¥¼ ê°€ì ¸ì˜¤ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl"> &lt;span class="n">challenge&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">custom_api&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">create_namespaced_custom_object&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">group&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;apps.hexactf.io&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">version&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;v1alpha1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">namespace&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">namespace&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">plural&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;challenges&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">body&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">challenge_manifest&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ì–¸ì œ-ì»¨í…Œì´ë„ˆ-ë¹Œë“œê°€-ëë‚ -ê²ƒì¸ê°€--ì–¸ì œ-í¬íŠ¸-ë²ˆí˜¸ê°€-ì„¤ì •ë -ê²ƒì¸ê°€">&amp;ldquo;ì–¸ì œ&amp;rdquo; ì»¨í…Œì´ë„ˆ ë¹Œë“œê°€ ëë‚  ê²ƒì¸ê°€? = &amp;ldquo;ì–¸ì œ&amp;rdquo; í¬íŠ¸ ë²ˆí˜¸ê°€ ì„¤ì •ë  ê²ƒì¸ê°€?
&lt;/h3>&lt;p>Control APIê°€ Serviceë¥¼ ì¡°íšŒë¥¼ í•˜ë“ , Operatorê°€ í¬íŠ¸ ë²ˆí˜¸ë¥¼ ìƒíƒœê°’ìœ¼ë¡œ ì €ì¥ì„ í•˜ë“  ë˜‘ê°™ì€ ë¬¸ì œì ì´ ìˆìŠµë‹ˆë‹¤. ë°”ë¡œ &lt;strong>í¬íŠ¸ ë²ˆí˜¸ê°€ ìƒì„±ë˜ëŠ” ì‹œì ì´ ì»¨í…Œì´ë„ˆ ë¹Œë“œ ì‹œê°„ì— ì˜í–¥ì„ í¬ê²Œ ë°›ëŠ”ë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.&lt;/strong> í¬íŠ¸ë²ˆí˜¸ ìƒì„± ì‹œê°„ì´ ì»¨í…Œì´ë„ˆ ë¹Œë“œ ì‹œê°„ê³¼ ê°™ë‹¤ê³  ë´ë„ ë¬´ë°©í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>í”„ë¡œì íŠ¸ì— ëŒ€í•´ ê°„ë‹¨í•˜ê²Œ ì„¤ëª…í•˜ìë©´ í•´í‚¹ ë¬¸ì œëŠ” ì¶œì œì, ë¬¸ì œ ìœ í˜•ì— ë”°ë¼ ë‹¤ë¥¸ í”Œë«í¼ì„ í™œìš©í•©ë‹ˆë‹¤.&lt;br>
ì‹œìŠ¤í…œ ë¬¸ì œëŠ” ëŒ€ë¶€ë¶„ ë¦¬ëˆ…ìŠ¤ ê¸°ë°˜ ë² ì´ìŠ¤ ì´ë¯¸ì§€ë¥¼ í™œìš©í•©ë‹ˆë‹¤. ì–´ë–¤ ë¦¬ëˆ…ìŠ¤ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ë”ë¼ë„ ë¹Œë“œ ì‹œê°„ì´ ë¹„ìŠ·í•˜ë‹¤ëŠ” íŠ¹ì§•ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.&lt;br>
ê·¸ëŸ¬ë‚˜ ì›¹ì€ ìƒí™©ì´ ë‹¤ë¦…ë‹ˆë‹¤. ì¶œì œìì— ë”°ë¼ì„œ SpringBoot, Flask ë“± ë‹¤ì–‘í•œ ë¹Œë“œ ì‹œê°„ì„ ê°€ì§„ í”Œë«í¼ì„ ì‚¬ìš©í•˜ê¸°ë„ í•©ë‹ˆë‹¤.&lt;br>
ìœ„ì˜ ë‚´ìš©ì„ í•˜ë‚˜ë¡œ ì •ë¦¬í•˜ìë©´ &lt;strong>&amp;ldquo;ë¬¸ì œì— ë”°ë¼ì„œ ë¹Œë“œ ì‹œê°„ì´ ë‹¤ë¥´ë‹¤.&amp;ldquo;ëŠ” ì˜ë¯¸ì´ë©° ì´ëŠ” &amp;ldquo;ë¬¸ì œë§ˆë‹¤ í¬íŠ¸ë²ˆí˜¸ë¥¼ ë°˜í™˜í•˜ëŠ” ì‹œê°„ì´ ë‹¤ë¥´ë‹¤&amp;quot;ë¼ê³  í•´ì„í•˜ì…”ë„ ë©ë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;h4 id="í•´ê²°-ë°©ì•ˆ---5ì´ˆ-sleep">í•´ê²° ë°©ì•ˆ - 5ì´ˆ sleep
&lt;/h4>&lt;p>Control APIì—ì„œ Challenge ìš”ì²­ ì´í›„ì— 5ì´ˆ sleepí•˜ëŠ” ë°©ì‹ì„ ì±„íƒí–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-10/image-3.png"
width="741"
height="342"
srcset="https://s0okju.github.io/p/hexactf-10/image-3_hu_3f80406606f1e488.png 480w, https://s0okju.github.io/p/hexactf-10/image-3_hu_8d2bb29ce87516c1.png 1024w"
loading="lazy"
alt="Challenge ìš”ì²­ì— ë”°ë¥¸ í¬íŠ¸ ë²ˆí˜¸ ë°˜í™˜ ìˆœì„œ ë‹¤ì´ì–´ê·¸ë¨"
class="gallery-image"
data-flex-grow="216"
data-flex-basis="520px"
>&lt;/p>
&lt;p>ì±„íƒ ì´ìœ ëŠ” &lt;strong>êµ¬í˜„í•˜ê¸° ì‰¬ì› ê³ , 5ì´ˆë¼ëŠ” ê¸°ê°„ì€ ëŒ€ë¶€ë¶„ì˜ ë¬¸ì œì˜ í¬íŠ¸ë²ˆí˜¸ë¥¼ ë°˜í™˜í•˜ê¸° ì¶©ë¶„í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/strong> ë‹¤ë§Œ ë¶€ì¡±í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì¬ì‹œë„ ë¡œì§ì„ ë„£ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">challenge&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">custom_api&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">create_namespaced_custom_object&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">group&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;apps.hexactf.io&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">version&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;v1alpha1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">namespace&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">namespace&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">plural&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;challenges&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">body&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">challenge_manifest&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># status ê°’ ê°€ì ¸ì˜¤ê¸°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">status&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">challenge&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;status&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">endpoint&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">status&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;endpoint&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># statusê°€ ì•„ì§ ì„¤ì •ë˜ì§€ ì•Šì•˜ì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, í•„ìš”í•œ ê²½ìš° ë‹¤ì‹œ ì¡°íšŒ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">status&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">challenge&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">custom_api&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_namespaced_custom_object&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">group&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;apps.hexactf.io&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">version&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;v1alpha1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">namespace&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">namespace&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">plural&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;challenges&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">challenge&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;metadata&amp;#39;&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="s1">&amp;#39;name&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">status&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">challenge&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;status&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">endpoint&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">status&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;endpoint&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ìœ„ì˜-í•´ê²°-ë°©ì•ˆì€-ìµœì„ ì´-ì•„ë‹ˆë‹¤">ìœ„ì˜ í•´ê²° ë°©ì•ˆì€ ìµœì„ ì´ ì•„ë‹ˆë‹¤.
&lt;/h4>&lt;blockquote>
&lt;p>5ì´ˆë¼ëŠ” ê¸°ê°„ì€ &lt;strong>ëŒ€ë¶€ë¶„&lt;/strong>ì˜ ë¬¸ì œì˜ í¬íŠ¸ë²ˆí˜¸ë¥¼ ë°˜í™˜í•˜ê¸° ì¶©ë¶„í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ìœ„ì˜ ëŒ€ë¶€ë¶„ì´ë¼ëŠ” ì˜ë¯¸ëŠ” 5ì´ˆ + ì¬ì‹œë„ë¥¼ í•˜ë”ë¼ë„ í¬íŠ¸ë²ˆí˜¸ê°€ ë°˜í™˜ë˜ì§€ ì•Šì€ ë¬¸ì œê°€ ìˆì„ ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. ì‹¤ì œ ì €í¬ í”„ë¡œì íŠ¸ì—ì„œ 9ê°œì˜ ë¬¸ì œ ì¤‘ ë‹¨ í•œ í•´í‚¹ ë¬¸ì œê°€ ë¹Œë“œ ì‹œê°„ì´ sleep+ì¬ì‹œë„ ê¸°ê°„ë³´ë‹¤ ê¸¸ì–´ì„œ í¬íŠ¸ë²ˆí˜¸ê°€ ë°”ë¡œ ë°˜í™˜ë˜ì§€ ì•ŠëŠ” ë¬¸ì œê°€ ë°œìƒí•˜ê¸°ë„ í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ë¹Œë“œ ì‹œê°„ì´ ê¸´ ì»¨í…Œì´ë„ˆëŠ” ëŒ€ë¶€ë¶„ ìŠ¤í”„ë§ ë¶€íŠ¸ì…ë‹ˆë‹¤. ^ã…‡^&lt;/p>&lt;/blockquote>
&lt;p>&lt;strong>ê²°êµ­ í¬íŠ¸ë²ˆí˜¸ ì œë•Œ ì–»ê¸° ìœ„í•´ì„œëŠ” ì‹¤ì‹œê°„ ì²˜ë¦¬ê°€ í•„ìš”í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;blockquote>
&lt;p>ë‹¤ë§Œ ì´ ë¬¸ì œëŠ” CTF-WEB íŒ€ê³¼ ìƒì˜í•´ì•¼ í•˜ëŠ” ë¶€ë¶„ì´ ë§ê¸° ë•Œë¬¸ì— ë³´ë¥˜í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°
&lt;/h2>&lt;p>Control APIëŠ” ë‹¨ìˆœíˆ í´ë¼ì´ì–¸íŠ¸ ëª…ë ¹ì–´ë§Œ ì œì–´í•˜ê¸° ìœ„í•´ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì‹¤ì‹œê°„ìœ¼ë¡œ ì‚¬ìš©ìì—ê²Œ í¬íŠ¸ë²ˆí˜¸ë¥¼ ì „ì†¡í•˜ì§€ ëª»í•œ ì ì´ ì•„ì‰½ê¸°ë„ í–ˆìŠµë‹ˆë‹¤. ì´ëŠ” í˜‘ì˜ í›„ ìˆ˜ì •ë  ì˜ˆì •ì´ë©°, ë¬¸ì œê°€ í•´ê²°ë˜ë©´ ë‹¤ë¥¸ ê¸€ë¡œ ì°¾ì•„ ëµ™ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ë‹¤ìŒ-ê¸€ì€">ë‹¤ìŒ ê¸€ì€&amp;hellip;
&lt;/h2>&lt;p>ë‹¤ìŒ ê¸€ì€ ì „ì²´ì ì¸ ì¸í”„ë¼ë¥¼ ì–´ë–»ê²Œ êµ¬ì„±í–ˆìœ¼ë©°, ì¿ ë²„ë„¤í‹°ìŠ¤ì— ì–´ë–»ê²Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°ì¹˜í–ˆëŠ”ì§€ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p></description></item><item><title>HexaCTF 9. Challenge Operator ì»¤ìŠ¤í…€ ë©”íŠ¸ë¦­ ì„¤ì • ë° Prometheus Operatorì™€ ì—°ê²°í•˜ê¸°</title><link>https://s0okju.github.io/p/hexactf-9/</link><pubDate>Fri, 07 Mar 2025 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/hexactf-9/</guid><description>&lt;h2 id="prometheus">Prometheus
&lt;/h2>&lt;h3 id="ì™œ-promethues-operatorë¥¼-ì‚¬ìš©í–ˆì„ê¹Œ">ì™œ promethues Operatorë¥¼ ì‚¬ìš©í–ˆì„ê¹Œ?
&lt;/h3>&lt;p>PrometheusëŠ” ë‹¤ì–‘í•œ ëŒ€ìƒ(target)ì—ì„œ ì‹œê°„ ê²½ê³¼ì— ë”°ë¥¸ ì§€í‘œë¥¼ ìˆ˜ì§‘í•˜ì—¬ ì €ì¥í•˜ëŠ” ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ì…ë‹ˆë‹¤. ì´ëŸ¬í•œ ë°ì´í„°ë¥¼ ìš°ë¦¬ ëˆˆì— ì‰½ê²Œ ë³´ì—¬ì£¼ëŠ” ê²ƒì´ Grafanaì…ë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>í”„ë¡œë©”í…Œìš°ìŠ¤ ì‹¤í–‰ ì ˆì°¨ëŠ” &lt;a class="link" href="https://wlsdn3004.tistory.com/35" target="_blank" rel="noopener"
>wlsdn3004ë‹˜ì˜ Prometheus ë€?&lt;/a>ë¥¼ ì°¸ê³ í•˜ì‹œê¸¸ ë°”ëë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ì—¬ê¸°ì„œ ë‹¨ìˆœí•œ ì¿ ë²„ë„¤í‹°ìŠ¤ê°€ ì•„ë‹Œ ì¿ ë²„ë„¤í‹°ìŠ¤ ì˜¤í¼ë ˆì´í„°ë¥¼ í™œìš©í•œ ì´ìœ ëŠ” ì„œë¹„ìŠ¤ ëª¨ë‹ˆí„°ë¥¼ í†µí•´ ë©€í‹° í´ëŸ¬ìŠ¤í„° í˜¹ì€ ë‹¤ë¥¸ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ í™˜ê²½ì— ëŒ€ì‘í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;br>
ì—¬ê¸°ì„œ ì„œë¹„ìŠ¤ ëª¨ë‹ˆí„°ê°€ ë¬´ì—‡ì¸ì§€ ì•Œì•„ì•¼ê² ì£ ? ì„œë¹„ìŠ¤ ëª¨ë‹ˆí„°(ServiceMonitor)ëŠ” ë™ì ìœ¼ë¡œ ë‹¤ìˆ˜ ì„œë¹„ìŠ¤ë¥¼ ëª¨ë‹ˆí„°ë§í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì„ ì–¸ì ìœ¼ë¡œ ì •ì˜í•œ ê²ƒì…ë‹ˆë‹¤. ì›í•˜ëŠ” êµ¬ì„±ìœ¼ë¡œ ServiceMonitorë¥¼ ì ìš©ì‹œí‚¤ë©´ Prometheus OperatorëŠ” ìë™ìœ¼ë¡œ ìƒˆë¡œìš´ ì„œë¹„ìŠ¤ë¥¼ ì°¾ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-9/image.png"
width="798"
height="355"
srcset="https://s0okju.github.io/p/hexactf-9/image_hu_fdd2ca4f2b5427d9.png 480w, https://s0okju.github.io/p/hexactf-9/image_hu_326563f517b9604c.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - Prometheus Operator Architecture. Source:Â  www.nicktriller.com"
class="gallery-image"
data-flex-grow="224"
data-flex-basis="539px"
>&lt;/p>
&lt;p>ì œê°€ Prometheus Operatorë¥¼ ì“°ëŠ” ì´ìœ ëŠ” &lt;strong>ë‹¤ë¥¸ Namespaceì— ìˆëŠ” Challenge Operatorì˜ ë©”íŠ¸ë¦­ ì •ë³´ë¥¼ ì–»ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤.&lt;/strong> êµ¬ì²´ì ìœ¼ë¡œ ì–´ë–»ê²Œ ì„¤ì •í• ì§€ëŠ” ì•„ë˜ì—ì„œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-9/image-1.png"
width="972"
height="677"
srcset="https://s0okju.github.io/p/hexactf-9/image-1_hu_35953a980b95830c.png 480w, https://s0okju.github.io/p/hexactf-9/image-1_hu_973d19064e74c360.png 1024w"
loading="lazy"
alt="ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì— ë”°ë¥¸ í”„ë¡œì íŠ¸ êµ¬ì„±ë„"
class="gallery-image"
data-flex-grow="143"
data-flex-basis="344px"
>&lt;/p>
&lt;h2 id="challenge-ìƒíƒœë¥¼-ë‚˜íƒ€ë‚´ëŠ”-ì»¤ìŠ¤í…€-ë©”íŠ¸ë¦­-ì œì‘í•˜ê¸°">Challenge ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì»¤ìŠ¤í…€ ë©”íŠ¸ë¦­ ì œì‘í•˜ê¸°
&lt;/h2>&lt;h3 id="challenge-ìƒíƒœ-ì •ë³´-ë©”íŠ¸ë¦­ì˜-íŠ¹ì§•">Challenge ìƒíƒœ ì •ë³´ ë©”íŠ¸ë¦­ì˜ íŠ¹ì§•
&lt;/h3>&lt;h5 id="ë¹ ë¥¸-ë¬¸ì œ-í•´ê²°">ë¹ ë¥¸ ë¬¸ì œ í•´ê²°
&lt;/h5>&lt;p>í˜„ì¬ ì €í¬ ëŒ€íšŒì—ì„œ í•„ìš”í•œ ê²ƒì€ Challenge ì„±ëŠ¥ ì •ë³´ë³´ë‹¤ &lt;strong>ìƒíƒœ ì •ë³´&lt;/strong>ì…ë‹ˆë‹¤. ì™œëƒí•˜ë©´ ë¬¸ì œ ë°œìƒ ì‹œ ë¹ ë¥´ê²Œ ëŒ€ì²˜í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ì—¬ê¸°ì„œ Challenge ë‚´ì— ìˆëŠ” Deploymentì— ëŒ€í•´ ì´í•´í•´ì•¼ í•©ë‹ˆë‹¤. í•´í‚¹ ë¬¸ì œì˜ ê²½ìš° ì·¨ì•½í•œ í•˜ë‚˜ì˜ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì—¬ ë°°í¬í•˜ê²Œ ë©ë‹ˆë‹¤. ì¦‰, ëª¨ë“  í”„ë¡œê·¸ë¨ ìì²´ê°€ ë‹¨ìˆœí•©ë‹ˆë‹¤. ë˜í•œ í•œ ì‚¬ëŒë‹¹ í•˜ë‚˜ì˜ Challengeë§Œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— íŠ¸ë˜í”½ ë¬¸ì œê°€ ë°œìƒí•  í™•ë¥ ì€ ë†’ìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>íŠ¸ë˜í”½ í•­ìƒ ë‚®ê²Œ ì¸¡ì •ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê°„í˜¹ Brute Force íŠ¹ì§•ì„ ê°€ì§„ í•´í‚¹ ë„êµ¬ë¥¼ í™œìš©í•˜ëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ëŸ¬í•œ í–‰ë™ì€ ë¶€ì • í–‰ìœ„ë¡œ ê°„ì£¼ë©ë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ì—¬ê¸°ì„œ ë§í•˜ëŠ” ë¬¸ì œëŠ” &lt;strong>ì„œë²„ ìƒì„± ì‹¤íŒ¨, ì„œë²„ ì‚­ì œ ì‹¤íŒ¨ ë“± ì˜¤í¼ë ˆì´í„°ì— ë°œìƒí•˜ëŠ” ë¬¸ì œ&lt;/strong>ë¥¼ ë§í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ë¹ˆë²ˆí•˜ëŠ” ì•„ë‹ˆì§€ë§Œ ë“œë¬¼ê²Œ ì‚­ì œê°€ ì‹¤íŒ¨ë˜ëŠ” ê²½ìš°ê°€ ìˆì–´ì„œ Challenge ìƒíƒœ ì •ë³´ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì‹œê°í™”ë¥¼ í–ˆìŠµë‹ˆë‹¤. ë§Œì•½ì— ì‚­ì œê°€ ì‹¤íŒ¨ë˜ì—ˆëŠ”ë° ì‹¤í–‰ ì¤‘ì´ë¼ë©´ ë‚¨ì•„ ìˆëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ì‚­ì œí•˜ëŠ” ê²ƒì´ ìš°ì„ ì´ê² ì£ ?&lt;/p>
&lt;p>ì¢€ ë” ìì„¸í•˜ê²Œ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œëŠ” ìƒíƒœ ë©”íŠ¸ë¦­ë¿ë§Œ ì•„ë‹ˆë¼ ë¡œê¹…ê³¼ ë‹¤ë¥¸ ë©”íŠ¸ë¦­ì„ ì¡°í•©í•´ì„œ êµ¬í˜„í•´ì•¼ í•  ê²ƒ ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì‹œê°„ ê´€ê³„ ìƒ êµ¬í˜„í•˜ì§€ ëª»í–ˆìœ¼ë©° ì¶”í›„ êµ¬í˜„í•  ì˜ˆì •ì…ë‹ˆë‹¤.&lt;/p>
&lt;h4 id="challenge-ì‚¬ìš©-íŒ¨í„´-í™•ì¸">Challenge ì‚¬ìš© íŒ¨í„´ í™•ì¸
&lt;/h4>&lt;p>ì œê°€ ìƒíƒœ ì •ë³´ë¥¼ ìš°ì„  ì œì‘í•œ ì´ìœ ì´ê¸°ë„ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ëŒ€íšŒ ì´ì „ì—ëŠ” 2ê°€ì§€ ê¶ê¸ˆì¦ì„ ê°€ì§€ê³  ìˆì—ˆìŠµë‹ˆë‹¤. ì•„ë˜ì˜ ì§ˆë¬¸ë“¤ì€ ì„œë²„ ë©”ëª¨ë¦¬ ìš©ëŸ‰ì„ ì‚°ì •í• ë•Œ í•„ìš”í•©ë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>ì‚¬ëŒë“¤ì€ í•œë²ˆì— ëª‡ê°œì˜ ì„œë²„ë¥¼ ë§Œë“¤ê³  ë°©ì¹˜í• ê¹Œ? -&amp;gt; í•œ ì‚¬ëŒë‹¹ ìµœëŒ€ ëª‡ê°œì˜ ì„œë²„&lt;/li>
&lt;li>ë¬¸ì œ ë¶„ì•¼ë§ˆë‹¤ í‘¸ëŠ” íŒ¨í„´ì´ ìˆì„ê¹Œ? -&amp;gt; Challenge ë¦¬ì†ŒìŠ¤ ì–‘ê³¼ ë¶„ì•¼ ë³„ ë¹„ìœ¨&lt;/li>
&lt;/ol>
&lt;p>ì‚¬ìš© íŒ¨í„´ì€ í˜„ì¬ë³´ë‹¤ëŠ” ë¯¸ë˜ë¥¼ ìœ„í•œ ë©”íŠ¸ë¦­ ì§€í‘œë¼ê³  ë³´ë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>ì—¬ë‹´&lt;/strong>
ê¸€ ì‘ì„± ì‹œì ìœ¼ë¡œ ëŒ€íšŒë¥¼ ì„±ê³µì ìœ¼ë¡œ ë§ˆë¬´ë¦¬í–ˆìŠµë‹ˆë‹¤. ì‚¬ìš©ì íŒ¨í„´ì— ëŒ€í•´ì„œëŠ” ë‹¤ë¥¸ ê¸€ì—ì„œ ëµ™ê² ìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;h3 id="ì–´ë–¤-ë©”íŠ¸ë¦­ì„-í™œìš©í• ê¹Œ">ì–´ë–¤ ë©”íŠ¸ë¦­ì„ í™œìš©í• ê¹Œ
&lt;/h3>&lt;p>&lt;a class="link" href="https://prometheus.io/docs/concepts/metric_types/" target="_blank" rel="noopener"
>Prometheus ê³µì‹ ë¬¸ì„œ&lt;/a>ì— ì˜í•˜ë©´ ë©”íŠ¸ë¦­ì€ 4ê°œê°€ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>Guage: ì„ì˜ë¡œ ì˜¬ë¼ê°€ê±°ë‚˜ ë‚´ë ¤ê°ˆ ìˆ˜ ìˆëŠ” ë‹¨ì¼ ìˆ«ìê°’ì„ ë‚˜íƒ€ë‚´ëŠ ë©”íŠ¸ë¦­&lt;/li>
&lt;li>Counter : ëˆ„ì ë˜ëŠ” ë©”íŠ¸ë¦­ ê°’. ê°ì†Œê°€ ì—†ìŒ&lt;/li>
&lt;li>Histogram :ì§€ì—° ì‹œê°„, ì²˜ë¦¬ì‹œê°„ê³¼ ê°™ì´ ì—°ì†í˜• ê°’ì„ ë‹¤ë£°ë•Œ ì‚¬ìš©&lt;/li>
&lt;li>Summary : ì—°ì†ì ì¸ ë°ì´í„° ê°’ì˜ ë¶„í¬ë¥¼ ì¸¡ì •&lt;/li>
&lt;/ul>
&lt;h4 id="ì„ íƒ-ê¸°ì¤€ì€">ì„ íƒ ê¸°ì¤€ì€?
&lt;/h4>&lt;p>ì €ëŠ” ìµœì¢…ì ìœ¼ë¡œ &lt;strong>Gauge&lt;/strong>ë¥¼ ì„ íƒí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>nì‹œê°„ ë§ˆë‹¤ ìˆ˜ì§‘ë˜ì–´ì•¼ í•¨&lt;/li>
&lt;li>Running, Deleted, Error ê°œìˆ˜ì˜ ì¦ê°ì„ í‘œí˜„í•  ìˆ˜ ìˆì–´ì•¼ í•¨&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">crStatusMetric&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">prometheus&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewGaugeVec&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">prometheus&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">GaugeOpts&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;challenge_resource_status&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Help&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;Tracks the status of the custom resource&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;challeng_id&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;challenge_name&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;namespace&amp;#34;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">init&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">metrics&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Registry&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">MustRegister&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">crStatusMetric&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="labelì€-ì–´ë–»ê²Œ-ì„¤ì •í• ê¹Œ">Labelì€ ì–´ë–»ê²Œ ì„¤ì •í• ê¹Œ?
&lt;/h3>&lt;p>Prometheusì˜ Labelì€ í‚¤-ê°’ ìŒìœ¼ë¡œ ì´ë¤„ì ¸ ìˆìœ¼ë©°, Proemtheusê°€ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ ì‹ë³„í•˜ëŠ”ë° ë©”íŠ¸ë¦­ ì´ë¦„ê³¼ ë”ë¶ˆì–´ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì œê°€ ì›í•˜ëŠ” ìƒíƒœ ì •ë³´ëŠ” í¬ê²Œ ì„¸ ê°€ì§€ ì…ë‹ˆë‹¤. ì œê°€ ìœ„í•´ì„œ ë§í•œ 2ê°€ì§€ ëª©ì ì— ëŒ€ì…í•˜ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>ìƒíƒœë³„ Challenge ê°œìˆ˜
&lt;ul>
&lt;li>ì „ì²´ Challenge í˜„í™©ì„ íŒŒì•…í•˜ê¸° ìœ„í•´&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>ì‚¬ìš©ì, ë¬¸ì œ ë³„&lt;/strong> Challenge ìƒíƒœ
&lt;ul>
&lt;li>ì‚¬ìš©ì íŒ¨í„´ íŒŒì•…&lt;/li>
&lt;li>Error ë¬¸ì œ ë°œìƒ ì‹œ ë¹ ë¥´ê²Œ ë¬¸ì œë¥¼ ëŒ€ì²˜í•˜ê¸° ìœ„í•´&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ë¬¸ì œë³„ ì‹¤í–‰ ì¤‘/ì—ëŸ¬ ì»¤ìŠ¤í…€ ë¦¬ì†ŒìŠ¤ ìˆ˜
&lt;ul>
&lt;li>ì‚¬ìš©ì íŒ¨í„´ íŒŒì•…&lt;/li>
&lt;li>ì˜¤ë¥˜ ì‚¬í•­ì´ ìˆëŠ” Challengeë¥¼ ì°¾ê¸° ìœ„í•´&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>ê·¸ë ‡ë‹¤ë©´ Labelë¡œ ë¬´ì¡°ê±´ ì§€ì •í•  ê²ƒì€ &lt;strong>ì‚¬ìš©ì ì‹ë³„ì, ë¬¸ì œ ì‹ë³„ì&lt;/strong>ì…ë‹ˆë‹¤. ì´ ë‘ê°€ì§€ë¥¼ í¬í•¨í•˜ì—¬ Challenge ì´ë¦„ê³¼ Namespaceë„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ë³¸ë˜ ì¢…ë¥˜ì— ë”°ë¼ Namespaceë¥¼ ë¶„ë¦¬í•  ì˜ˆì •ì´ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì‹œê°„ ê´€ê³„ ìƒ ëª»í•˜ê²Œ ë˜ì–´ ì½”ë“œì— ë‚¨ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ê·¸ë¦¬ê³  ìƒíƒœ ì •ë³´ë¥¼ ê°’ìœ¼ë¡œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤. Gaugeì˜ íŠ¹ì§• ì¤‘ì— í•˜ë‚˜ëŠ” ê°’ì„ ì¦ê°í•  ìˆ˜ ìˆë‹¤ê³  í–ˆì£ ? ì´ ê¸°ëŠ¥ì„ í™œìš©í•  ì˜ˆì •ì…ë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>Running: 1&lt;/li>
&lt;li>Deleted: 2&lt;/li>
&lt;li>Error: 3&lt;/li>
&lt;/ul>
&lt;p>ì‹¤ì œ ì½”ë“œë¡œ ì‘ì„±í•˜ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">crStatusMetric&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">prometheus&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewGaugeVec&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">prometheus&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">GaugeOpts&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;challenge_resource_status&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Help&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;Tracks the status of the custom resource&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;challeng_id&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;challenge_name&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;namespace&amp;#34;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">init&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">metrics&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Registry&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">MustRegister&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">crStatusMetric&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">crStatusMetric&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">WithLabelValues&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Labels&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s">&amp;#34;apps.hexactf.io/challengeId&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Labels&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s">&amp;#34;apps.hexactf.io/user&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Namespace&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nf">Set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ì¶”ê°€-deleted-ìƒíƒœ-ì •ë³´ëŠ”-ì–¸ì œê¹Œì§€-ê°€ì§€ê³ -ìˆì–´ì•¼-í• ê¹Œ">ì¶”ê°€: Deleted ìƒíƒœ ì •ë³´ëŠ” ì–¸ì œê¹Œì§€ ê°€ì§€ê³  ìˆì–´ì•¼ í• ê¹Œ?
&lt;/h3>&lt;p>ë©”íŠ¸ë¦­ êµ¬í˜„ ë¶€ë¶„ì—ì„œ &amp;ldquo;Deleted ìƒíƒœ ì •ë³´ëŠ” ì–¸ì œê¹Œì§€ ê°€ì§€ê³  ìˆì–´ì•¼ í• ê¹Œ?&amp;ldquo;ê°€ ë‚œì œì´ì§€ ì•Šì„ê¹Œ ì‹¶ìŠµë‹ˆë‹¤.&lt;br>
PromethuesëŠ” ê¸°ë³¸ì ìœ¼ë¡œ 30ì´ˆ ê°„ê²©ìœ¼ë¡œ &lt;code>/metrics&lt;/code> ë‚´ìš©ì„ ìŠ¤í¬ë©í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì €ì—ê²ŒëŠ” ë‘ ê°€ì§€ ê³ ë¯¼ì´ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>ì‚­ì œ ìš”ì²­ ì‹œ ë©”íŠ¸ë¦­ì„ Deleted(3)ë¡œ ì„¤ì • -&amp;gt; &lt;code>/metrics&lt;/code>ì— ë¶ˆí•„ìš”í•œ ë°ì´í„°ê°€ ìŒ“ì„. ëŒ€íšŒê°€ ëë‚ ë•Œë§ˆë‹¤ ì£¼ê¸°ì ìœ¼ë¡œ ì‚­ì œí•˜ëŠ” ì‘ì—…ì´ í•„ìš”&lt;/li>
&lt;li>ì‚­ì œ ìš”ì²­ ì‹œ ë©”íŠ¸ë¦­ì„ Deleted ìƒíƒœë¡œ ë³€ê²½ í›„ &lt;strong>ì¦‰ì‹œ ì‚­ì œ&lt;/strong> -&amp;gt; Prometheusê°€ Deleted ìƒíƒœë¥¼ ìŠ¤í¬ë©í•  ìˆ˜ ìˆë„ë¡ ì‹œê°„ ì¡°ì •ì´ í•„ìš”&lt;/li>
&lt;/ol>
&lt;p>ëŒ€íšŒ ì‹œê¸°ì—ëŠ” Running, Errorë¥¼ ì¤‘ì ì ìœ¼ë¡œ ë³¼ ì˜ˆì •ì´ê¸° ë•Œë¬¸ì— &lt;strong>ë‘ ë²ˆì§¸ ë°©ë²•&lt;/strong>ì„ ì„ íƒí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;br>
ë‹¤ë§Œ Prometheusê°€ Deleted ìƒíƒœë¥¼ í•œë²ˆ ìŠ¤í¬ë©í•˜ê³  ì‚­ì œë˜ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— &lt;strong>ê³ ë£¨í‹´ì„ í™œìš©í•˜ì—¬ 1ë¶„ í›„ì— ë©”íŠ¸ë¦­ì´ ì‚­ì œë  ìˆ˜ ìˆë„ë¡ êµ¬í˜„&lt;/strong>í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">r&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ChallengeReconciler&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">handleDeletion&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="nx">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">challenge&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">hexactfproj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Challenge&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">ctrl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Result&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Processing deletion&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;challenge&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">crStatusMetric&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">WithLabelValues&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Labels&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s">&amp;#34;apps.hexactf.io/challengeId&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Labels&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s">&amp;#34;apps.hexactf.io/user&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Namespace&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nf">Set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">go&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Minute&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// scrape_intervalì´ 30ì´ˆë¼ë©´ 1ë¶„ ì •ë„ ê¸°ë‹¤ë¦¬ë©´ ì•ˆì „&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">crStatusMetric&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">DeleteLabelValues&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Labels&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s">&amp;#34;apps.hexactf.io/challengeId&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Labels&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s">&amp;#34;apps.hexactf.io/user&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Namespace&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Successfully completed deletion process&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ì´ ì‹œì ì—ì„œ finalizersê°€ ë¹„ì–´ ìˆìœ¼ë¯€ë¡œ, K8sê°€ ì˜¤ë¸Œì íŠ¸ë¥¼ ì‹¤ì œ ì‚­ì œí•¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">ctrl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Result&lt;/span>&lt;span class="p">{},&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="challenge-operator-ì¿ ë²„ë„¤í‹°ìŠ¤ì—-ë°°í¬í•˜ê¸°">Challenge Operator ì¿ ë²„ë„¤í‹°ìŠ¤ì— ë°°í¬í•˜ê¸°
&lt;/h2>&lt;h3 id="metrics-endpoint-ì„¤ì •">metrics endpoint ì„¤ì •
&lt;/h3>&lt;p>kubebuilderëŠ” CNCF í”„ë¡œì íŠ¸ì¸ë§Œí¼ &lt;a class="link" href="https://book.kubebuilder.io/reference/metrics" target="_blank" rel="noopener"
>í”„ë¡œë©”í…Œìš°ìŠ¤ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ê°œë°©í•  ìˆ˜ ìˆëŠ” ServiceMonitorë¥¼ ìë™ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/a> ë‹¨, &lt;strong>kubebuilderì— ë‚´ì¥ë˜ì–´ ìˆëŠ” kustomizeë¥¼ í™œìš©í•´ì•¼ ê°„ë‹¨í•œ ì„¤ì •ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.&lt;/strong> ê·¸ëŸ¬ë‚˜ ì €ëŠ” kustomizeë¥¼ í™œìš©í•˜ì§€ ì•Šì„ ì˜ˆì •ì´ë¯€ë¡œ ë‹¤ë¥¸ ë°©ë²•ì„ ì°¾ì•„ë´ì•¼ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>kustomizeëŠ” ë°°í¬ ë„êµ¬ì¼ë¿ ê·¼ë³¸ì ìœ¼ë¡œ kubebuilderì—ëŠ” ë©”íŠ¸ë¦­ì„ export í•´ì¤„ ìˆ˜ ìˆëŠ” í•¨ìˆ˜ê°€ ìˆë‹¤ê³  ìƒê°í•´ë„ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;br>
&lt;code>main.go&lt;/code> ì— ê°€ë³´ì‹œë©´ metricServerì˜ ì†ì„±ì„ í”„ë¡œê·¸ë¨ ì†ì„± ê°’ìœ¼ë¡œ ë°›ì•„ì„œ ì„¤ì •í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì¦‰ í”„ë¡œê·¸ë¨ ì‹¤í–‰ì‹œí‚¬ë•Œ ì ì ˆí•œ ì†ì„±ê°’ì„ ë„£ì–´ì£¼ë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">metricsAddr&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">enableLeaderElection&lt;/span> &lt;span class="kt">bool&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">probeAddr&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">secureMetrics&lt;/span> &lt;span class="kt">bool&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">enableHTTP2&lt;/span> &lt;span class="kt">bool&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">tlsOpts&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">tls&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Config&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">flag&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">StringVar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">metricsAddr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;metrics-bind-address&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;:8080&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;The address the metrics endpoint binds to. &amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;Use :8443 for HTTPS or :8080 for HTTP, or leave as 0 to disable the metrics service.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">flag&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">StringVar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">probeAddr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;health-probe-bind-address&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;:8081&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;The address the probe endpoint binds to.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">flag&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">BoolVar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">enableLeaderElection&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;leader-elect&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;Enable leader election for controller manager. &amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;Enabling this will ensure there is only one active controller manager.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Prometheus metrics http ì‚¬ìš©&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">flag&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">BoolVar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">secureMetrics&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;metrics-secure&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;If set, the metrics endpoint is served securely via HTTPS. Use --metrics-secure=false to use HTTP instead.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">flag&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">BoolVar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">enableHTTP2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;enable-http2&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;If set, HTTP/2 will be enabled for the metrics and webhook servers&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">opts&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">zap&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Options&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Development&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">opts&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">BindFlags&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">flag&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">CommandLine&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">flag&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Parse&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">metricsServerOptions&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">metricsserver&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Options&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">BindAddress&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">metricsAddr&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">SecureServing&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="helm-ìœ¼ë¡œ-ë°°í¬í•˜ê¸°">Helm ìœ¼ë¡œ ë°°í¬í•˜ê¸°
&lt;/h3>&lt;p>ìœ„ì˜ ê¸€ì—ì„œ Kustomizeë¥¼ í™œìš©í•˜ì§€ ì•Šì„ ê²ƒì´ë¼ê³  ë§ì”€ ë“œë ¸ìŠµë‹ˆë‹¤. ì´ìœ ëŠ” ë‹¨ìˆœí•˜ê²Œ &lt;strong>Helmì´ ê°€ì¥ ìµìˆ™&lt;/strong>í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;br>
ê·¸ë˜ë„ ì°¨ì´ì ì€ í™•ì¸í•´ë´ì•¼ê² ì£ ? &lt;a class="link" href="https://www.gomgomshrimp.com/posts/k8s/helm-and-kustomize" target="_blank" rel="noopener"
>SEOWOOë‹˜ì˜ ë¸”ë¡œê·¸ - Helmê³¼ Kustomize, ë¬´ì—‡ì„ ì“¸ê¹Œ?&lt;/a> ì¼ë¶€ ì°¸ê³ í•´ì„œ í•µì‹¬ì ì¸ ì°¨ì´ì ì„ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>Helm
&lt;ul>
&lt;li>ì—¬ëŸ¬ í…œí”Œë¦¿ì˜ ëª¨ìŒìœ¼ë¡œ êµ¬ì„±í•  ìˆ˜ ìˆìœ¼ë©° values.yamlì„ ë§¤ê°œë³€ìˆ˜í™”í•˜ì—¬ ê°’ì„ ì „ë‹¬&lt;/li>
&lt;li>ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ íŒ¨í‚¤ì§€ ê´€ë¦¬ ë° ë°°í¬ì— ë” ì¤‘ì‹¬&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Kustomize
&lt;ul>
&lt;li>ìƒì†ì˜ ê°œë…ì„ í™œìš©í•´ì„œ í•„ìš”í•œ ë¶€ë¶„ë§Œ ì‘ì„±í•  ìˆ˜ ìˆìŒ&lt;/li>
&lt;li>í™˜ê²½ë³„ ë°°í¬ êµ¬ì„± ê´€ë¦¬ì— ì í•©&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>Challenge Operatorë¥¼ ë°°í¬í• ë•Œ Deploymentë¥¼ í™œìš©í–ˆìŠµë‹ˆë‹¤. Operatorì˜ ì² í•™ì—ì„œë„ OperatorëŠ” ë‹¨ì¼ Deploymentë¡œ ë°°í¬ë˜ì–´ì•¼ í•œë‹¤ê³  ì„¤ëª…í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;ol>
&lt;li>Operators should install as a single deployment e.g.Â &lt;code>kubectl create -f https://coreos.com/operators/etcd/latest/deployment.yaml&lt;/code>Â and take no additional action once installed.&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>ì¶œì²˜: &lt;a class="link" href="https://www.redhat.com/en/blog/introducing-operators-putting-operational-knowledge-into-software" target="_blank" rel="noopener"
>Introducing Operators: Putting Operational Knowledge into Software&lt;/a>&lt;/li>
&lt;/ul>&lt;/blockquote>
&lt;p>ì—¬ê¸°ì„œ ì£¼ëª©í•´ì•¼ í•  ë¶€ë¶„ì€ &lt;code>--metrics-bind-address=:8080&lt;/code> ë¶€ë¶„ì…ë‹ˆë‹¤.
ì•ì„œ ë§í–ˆë“¯ì´ kubebuilderëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ë©”íŠ¸ë¦­ ì„œë²„ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì´ë¥¼ ì™¸ë¶€ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ &lt;code>:8080(http)&lt;/code> ë¥¼ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">apps/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deployment&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>{{&lt;span class="w"> &lt;/span>&lt;span class="l">.Release.Name }}-operator&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">annotations&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">&amp;#34;helm.sh/hook-weight&amp;#34;: &lt;/span>&lt;span class="s2">&amp;#34;0&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">replicas&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">matchLabels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">challenge-operator&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">challenge-operator&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nodeSelector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hexactf/env&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mgmt&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">serviceAccountName&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>{{&lt;span class="w"> &lt;/span>&lt;span class="l">.Release.Name }}-operator&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">operator&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>{{&lt;span class="w"> &lt;/span>&lt;span class="l">.Values.operator.image.repository }}:{{ .Values.operator.image.tag }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">imagePullPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>{{&lt;span class="w"> &lt;/span>&lt;span class="l">.Values.operator.image.pullPolicy }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">containerPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Add the args section here&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Use --metrics-bind-address and substitute the environment variable METRICS_ADDR&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;--metrics-bind-address=:8080&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="servicemonitor-ì„¤ì •í•˜ê¸°">ServiceMonitor ì„¤ì •í•˜ê¸°
&lt;/h3>&lt;p>Prometheus ServiceMonitorëŠ” ì°¨ë¡€ë¡œ í•´ë‹¹ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ê²€ìƒ‰í•˜ê³  íŒŒë“œë¥¼ ëª¨ë‹ˆí„°ë§í•˜ë„ë¡ í”„ë¡œë©”í…Œìš°ìŠ¤ë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤. ì–´ë–¤ ì—”ë“œí¬ì¸íŠ¸ì˜ ì–´ë–¤ í¬íŠ¸ë¥¼ í†µí•´ ë©”íŠ¸ë¦­ì„ ìŠ¤í¬ë˜í•‘í•˜ê³  ì–´ë–¤ ë§¤ê°œë³€ìˆ˜ë¥¼ í™œìš©í• ì§€ êµ¬ì„±í•˜ê²Œ ë©ë‹ˆë‹¤. ì‰½ê²Œ ë§í•´ &lt;strong>ê²€ìƒ‰ ëŒ€ìƒì„ Prometheus Operatorê°€ ì¼ê´„ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ServiceMonitorë¼ëŠ” ë¦¬ì†ŒìŠ¤ì— ì •ì˜í•œ ê²ƒì…ë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>Operatorì— ë©”íŠ¸ë¦­ ì„œë²„ì˜ í¬íŠ¸ë¥¼ ì—´ì—ˆë‹¤ë©´ Helmì—ì„œ Portë¥¼ ì—´ì–´ì£¼ê³ , Portë¥¼ ì—°ê²°í•´ì¤€ ServiceMonitorê°€ í•„ìš”í•˜ê² ì£ ?&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>{{&lt;span class="w"> &lt;/span>&lt;span class="l">.Release.Name }}-operator-metrics&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">hexactf&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app.kubernetes.io/name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">challenge-operator&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app.kubernetes.io/instance&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">challenge-operator&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app.kubernetes.io/component&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">metrics&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">challenge-operator&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">operator-metrics&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">protocol&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TCP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">monitoring.coreos.com/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ServiceMonitor&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>{{&lt;span class="w"> &lt;/span>&lt;span class="l">.Release.Name }}-operator-monitor&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">monitoring &lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Prometheus Operatorê°€ ì„¤ì¹˜ëœ ns&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">release&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">prometheus &lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Prometheus Operatorì˜ label select&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">matchLabels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Challenge Operator service matchlabel&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app.kubernetes.io/name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">challenge-operator&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app.kubernetes.io/component&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">metrics&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespaceSelector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ìŠ¤í¬ë©í•  ns&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">matchNames&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">hexactf&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Challenge Operatorê°€ ë°°í¬ë˜ëŠ” ns&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">endpoints&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">operator-metrics&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">interval&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">30s&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">scrapeTimeout&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">10s&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/metrics&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">scheme&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>í”„ë¡œë©”í…Œìš°ìŠ¤ë¥¼ í™•ì¸í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ì„œë¹„ìŠ¤ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-9/image-2.png"
width="1007"
height="292"
srcset="https://s0okju.github.io/p/hexactf-9/image-2_hu_fc9af273d105a8c.png 480w, https://s0okju.github.io/p/hexactf-9/image-2_hu_141a1be2abc2d49b.png 1024w"
loading="lazy"
alt="í”„ë¡œë©”í…Œìš°ìŠ¤ ëŒ€ì‹œë³´ë“œì—ì„œ í™•ì¸í•œ Challenge Operator metrics endpoint"
class="gallery-image"
data-flex-grow="344"
data-flex-basis="827px"
>&lt;/p>
&lt;h2 id="ì‹œê°í™”">ì‹œê°í™”
&lt;/h2>&lt;p>ì €í¬ê°€ ì‹œê°í™” í•  ëª©ë¡ì€ í¬ê²Œ 3ê°€ì§€ì…ë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>ìƒíƒœë³„ Challenge ê°œìˆ˜&lt;/li>
&lt;li>&lt;strong>ì‚¬ìš©ì, ë¬¸ì œ ë³„&lt;/strong> Challenge ìƒíƒœ&lt;/li>
&lt;li>ë¬¸ì œë³„ ì‹¤í–‰ ì¤‘/ì—ëŸ¬ ì»¤ìŠ¤í…€ ë¦¬ì†ŒìŠ¤ ìˆ˜&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-9/image-3.png"
width="1584"
height="711"
srcset="https://s0okju.github.io/p/hexactf-9/image-3_hu_424f59dbe6f2d08c.png 480w, https://s0okju.github.io/p/hexactf-9/image-3_hu_77e8732e558b4689.png 1024w"
loading="lazy"
alt="ì‹¤ì œ ëŒ€íšŒì—ì„œ ì‚¬ìš©í•œ ëŒ€ì‹œë³´ë“œ"
class="gallery-image"
data-flex-grow="222"
data-flex-basis="534px"
>&lt;/p>
&lt;p>ì €ëŠ” ê·¸ ì¤‘ ìƒíƒœë³„ Challenge ê°œìˆ˜ì™€ ì‚¬ìš©ì, ë¬¸ì œ ë³„ Challenge ìƒíƒœë¥¼ ë³´ì—¬ë“œë¦¬ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ìì„¸í•œ ì‚¬í•­ì€ &lt;a class="link" href="https://grafana.com/docs/grafana/latest/panels-visualizations/query-transform-data/transform-data/" target="_blank" rel="noopener"
>Grafana ê³µì‹ ë¬¸ì„œ&lt;/a>ë¥¼ ì°¸ê³ í•˜ì‹œê¸¸ ë°”ëë‹ˆë‹¤.
ì°¸ê³ ë¡œ ì €ëŠ” í•˜ë‚˜í•˜ë‚˜ì”© ë‹¤ í•´ë´¤ìŠµë‹ˆë‹¤. ğŸ¥¹&lt;/p>&lt;/blockquote>
&lt;h3 id="ìƒíƒœë³„-challenge-ê°œìˆ˜">ìƒíƒœë³„ Challenge ê°œìˆ˜
&lt;/h3>&lt;p>2ì‹œê°„ ë™ì•ˆ ê°€ì¥ ë§ˆì§€ë§‰ ê°’ì´ 1(Running)ì¸ ê²½ìš°ë¥¼ count í•´ì£¼ëŠ” ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>2ì‹œê°„ì€ ì„ì˜ì˜ ìˆ«ìë¡œ ì‹¤ì œ ëŒ€íšŒì—ì„œëŠ” 6ì‹œê°„ì„ ê¸°ì¤€ìœ¼ë¡œ ì§‘ê³„í–ˆìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-9/image-4.png"
width="762"
height="380"
srcset="https://s0okju.github.io/p/hexactf-9/image-4_hu_cd8ed660c3f187e7.png 480w, https://s0okju.github.io/p/hexactf-9/image-4_hu_fe37b1a78922e555.png 1024w"
loading="lazy"
alt="ìƒíƒœë³„ Challenge ê°œìˆ˜ PromQL"
class="gallery-image"
data-flex-grow="200"
data-flex-basis="481px"
>&lt;/p>
&lt;p>í•˜ë‚˜ì˜ íŒ¨ë„ì— 2ê°œ ì´ìƒ ë©”íŠ¸ë¦­ì„ ì„¤ì •í•˜ê²Œ ë˜ë©´ Valueì— ì•ŒíŒŒë²³ì´ ë¶™ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ë§¨ ì•„ë˜ Overrideë¥¼ í™œìš©í•˜ì—¬ ì„ì˜ë¡œ ì •í•´ì§„ ê°’ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.
ë” ë‚˜ì€ ì‹œê°í™”ë¥¼ ìœ„í•´ Color schemeì„ í†µí•´ ìƒ‰ë„ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-9/image-5.png"
width="354"
height="586"
srcset="https://s0okju.github.io/p/hexactf-9/image-5_hu_2586051c7b8f12f3.png 480w, https://s0okju.github.io/p/hexactf-9/image-5_hu_ca6eeda7c0e80c03.png 1024w"
loading="lazy"
alt="Overrideë¥¼ í™œìš©í•˜ì—¬ field nameê³¼ ìƒ‰ ì„¤ì •"
class="gallery-image"
data-flex-grow="60"
data-flex-basis="144px"
>&lt;/p>
&lt;p>ê·¸ë¦¬ê³  ì„¤ì •í•œ ìƒ‰ì„ Backgroundì— ë³´ì¼ ìˆ˜ ìˆë„ë¡ Stat stylesì— ì„¤ì •í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-9/image-6.png"
width="353"
height="530"
srcset="https://s0okju.github.io/p/hexactf-9/image-6_hu_e21a7d6750258aab.png 480w, https://s0okju.github.io/p/hexactf-9/image-6_hu_dc53968c972a7bc.png 1024w"
loading="lazy"
alt="Stat styles ì„¤ì •"
class="gallery-image"
data-flex-grow="66"
data-flex-basis="159px"
>&lt;/p>
&lt;p>ì•„ë˜ì™€ ê°™ì´ ì‹œê°í™”ë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-9/image-7.png"
width="1129"
height="249"
srcset="https://s0okju.github.io/p/hexactf-9/image-7_hu_219bfae10535345.png 480w, https://s0okju.github.io/p/hexactf-9/image-7_hu_923395d241e9dc6f.png 1024w"
loading="lazy"
alt="ìƒíƒœë³„ Challenge ê°œìˆ˜ ìµœì¢…"
class="gallery-image"
data-flex-grow="453"
data-flex-basis="1088px"
>&lt;/p>
&lt;h3 id="ì‚¬ìš©ì-ë¬¸ì œ-ë³„-challenge-ìƒíƒœ">ì‚¬ìš©ì, ë¬¸ì œ ë³„ Challenge ìƒíƒœ
&lt;/h3>&lt;p>ìœ„ì™€ ë™ì¼í•˜ê²Œ ìµœê·¼ ìƒíƒœ ì •ë³´ë§Œ ê°€ì ¸ì˜¤ë©´ ë˜ê¸° ë•Œë¬¸ì— ì§‘ê³„ ì‹œê°„ ì¤‘ ê°€ì¥ ìµœì‹ ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">last_over_time(challenge_resource_status[2h])
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>GaugeëŠ” ìˆ«ìë¡œ ê°’ì„ ì„¤ì •í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ Value mappingsë¥¼ í™œìš©í•˜ì—¬ ë¬¸ìë¡œ ë³€í™˜í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-9/image-8.png"
width="349"
height="200"
srcset="https://s0okju.github.io/p/hexactf-9/image-8_hu_764c9c7424de2d57.png 480w, https://s0okju.github.io/p/hexactf-9/image-8_hu_ef63f2cb567cfd98.png 1024w"
loading="lazy"
alt="value mapping"
class="gallery-image"
data-flex-grow="174"
data-flex-basis="418px"
>&lt;/p>
&lt;p>PromQLì€ ì‰¬ìš´ ëŒ€ì‹  Transformì„ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>Oragnaize field by name : challenge_id, username, status ê°’ì„ ì œì™¸í•˜ê³  ì „ë¶€ ì œê±°í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>Group by: Challenge_id, usernameì„ ê·¸ë£¹í•‘í•˜ì—¬ ì¤‘ë³µì„ ì—†ì• ê³  StatusëŠ” ê°€ì¥ ìµœì‹  ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.&lt;/li>
&lt;li>Grouping to Matrix: Groupingí•œ ê°’ì„ ê°€ì§€ê³  ìƒˆë¡œìš´ Matrixë¥¼ í™œìš©í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-9/image-9.png"
width="927"
height="304"
srcset="https://s0okju.github.io/p/hexactf-9/image-9_hu_b4556438ba351c9e.png 480w, https://s0okju.github.io/p/hexactf-9/image-9_hu_6d345ca5c16779c1.png 1024w"
loading="lazy"
alt="ì‚¬ìš©ì, ë¬¸ì œ ë³„ Challenge ìƒíƒœ-Transform"
class="gallery-image"
data-flex-grow="304"
data-flex-basis="731px"
>&lt;/p>
&lt;p>í…Œì´ë¸” í˜•íƒœë¡œ ì‹œê°í™” í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-9/image-10.png"
width="1106"
height="115"
srcset="https://s0okju.github.io/p/hexactf-9/image-10_hu_663245b90d615f75.png 480w, https://s0okju.github.io/p/hexactf-9/image-10_hu_923ae2d9817a3952.png 1024w"
loading="lazy"
alt="ì‚¬ìš©ì, ë¬¸ì œ ë³„ Challenge ìƒíƒœ-ìµœì¢…"
class="gallery-image"
data-flex-grow="961"
data-flex-basis="2308px"
>&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°
&lt;/h2>&lt;p>Challenge Operatorì™€ ê´€ë ¨ëœ ê¸€ì„ ëª¨ë‘ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë‹¤ìŒ ê¸€ì—ì„œëŠ” ì‹¤ì§ˆì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­ì„ ë³´ë‚´ëŠ” Challenge Control APIì— ëŒ€í•´ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="references">References
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://wlsdn3004.tistory.com/35" target="_blank" rel="noopener"
>Prometheus ë€?&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://prometheus.io/docs/concepts/metric_types/" target="_blank" rel="noopener"
>Metric types | Prometheus&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.gomgomshrimp.com/posts/k8s/helm-and-kustomize" target="_blank" rel="noopener"
>Helmê³¼ Kustomize, ë¬´ì—‡ì„ ì“¸ê¹Œ?&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://grafana.com/docs/grafana/latest/panels-visualizations/query-transform-data/transform-data/" target="_blank" rel="noopener"
>Transform data | Grafana documentation&lt;/a>&lt;/li>
&lt;li>ì •í˜„ì„, ì§„ë¯¸ë€ . (2023). ëª¨ë‹ˆí„°ë§ì˜ ìƒˆë¡œìš´ ë¯¸ë˜ ê´€ì¸¡ ê°€ëŠ¥ì„±. ì œì´í.&lt;/li>
&lt;/ul></description></item><item><title>HexaCTF 8. ì»¤ìŠ¤í…€ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í†µí•œ Challenge ìƒì„± ë° ì‚­ì œ êµ¬í˜„</title><link>https://s0okju.github.io/p/hexactf-8/</link><pubDate>Tue, 04 Mar 2025 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/hexactf-8/</guid><description>&lt;ul>
&lt;li>2025-03-07 - ë‚´ìš© ìˆ˜ì •&lt;/li>
&lt;/ul>
&lt;p>ì´ì „ ê¸€ì—ëŠ” ìƒíƒœë¥¼ ì–´ë–»ê²Œ ì •ì˜í–ˆëŠ”ì§€ ì„¤ëª…í–ˆìŠµë‹ˆë‹¤. ì§€ê¸ˆë¶€í„° ì–´ë–»ê²Œ Challengeë¥¼ ìƒì„±, ì‚­ì œí•  ìˆ˜ ìˆëŠ”ì§€ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ì¡°ê±´-ìƒê°í•˜ê¸°">ì¡°ê±´ ìƒê°í•˜ê¸°
&lt;/h2>&lt;p>ìš°ì„  ìƒì„±ê³¼ ì‚­ì œ ë¡œì§ì„ ì„¤ëª…í•˜ê¸° ì´ì „ì— ìƒì„±ê³¼ ì‚­ì œ ì‹œ ë¬´ì¡°ê±´ ìˆ˜í–‰ë˜ì–´ì•¼ í•˜ëŠ” ì¡°ê±´ì„ ì •ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>ìƒì„±
&lt;ul>
&lt;li>Deployment, Service ìƒì„±&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ì‚­ì œ
&lt;ul>
&lt;li>ì¡°ê±´ì— ë”°ë¼ 30ë¶„ í›„ ì‚­ì œ -&amp;gt; ìƒì„±ì¼ ê¸°ì¤€ìœ¼ë¡œ ì¢…ë£Œì¼ ì§€ì •&lt;/li>
&lt;li>Challenge ì‚­ì œ ì‹œ ê´€ë ¨ Deployment, Service ì‚­ì œ -&amp;gt; ë¬´ì–¸ê°€ë¥¼ í†µí•´ ì—°ê²°ë˜ì–´ì•¼ í•¨&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>ì£¼ë¡œ &lt;strong>ì‚­ì œ ë¡œì§ì„ ì¤‘ì‹¬&lt;/strong>ìœ¼ë¡œ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. ì‚­ì œë¥¼ ì œëŒ€ë¡œ ì œì–´í•˜ì§€ ì•Šìœ¼ë©´ ê³ ì•„ ë¦¬ì†ŒìŠ¤ê°€ ìƒê¸°ëŠ” ë¬¸ì œê°€ ë°œìƒí•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="builderë¥¼-í†µí•´-controllerë¥¼-ì„¤ì •í•œë‹¤">Builderë¥¼ í†µí•´ Controllerë¥¼ ì„¤ì •í•œë‹¤.
&lt;/h2>&lt;p>ê³µì‹ ë¬¸ì„œì— ì˜í•˜ë©´ BuilderëŠ” controller-runtimeì„ ê°ì‹¸ë©°, ì¼ë°˜ì ì¸ controllerë¥¼ êµ¬ì¶•í•˜ê¸° ìœ„í•œ íŒ¨í„´ì„ ì œê³µí•œë‹¤ê³  í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ì „ ê¸€ì—ì„œ ì œê°€ í–ˆë˜ ì´ì•¼ê¸° ìƒê° ë‚˜ì‹œë‚˜ìš”? &lt;strong>ì˜¤í¼ë ˆì´í„°ë¥¼ ë§Œë“ ë‹¤ëŠ” ê²ƒì€ ëŒ€ìƒ ë¦¬ì†ŒìŠ¤ë¥¼ ì œì–´í•˜ëŠ” controllerì™€ Controllerë¥¼ ê´€ë¦¬í•˜ëŠ” Manangerë¥¼ ë§Œë“ ë‹¤&lt;/strong>ëŠ” ê²ƒì´ê³ , &lt;strong>KubebuilderëŠ” controllerë¥¼ ë¹Œë“œí•˜ëŠ” í”„ë¡œê·¸ë¨&lt;/strong>ì´ë¼ê³  ë§í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Manager&lt;/strong>
controllerë¥¼ ì œì‘í•˜ëŠ”ë° í•„ìš”í•˜ë©° client, caches, schemesë“± ì˜ ê³µìœ  ë””íœë˜ì‹œë¥¼ ì œê³µí•œë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” Manager.Startë¥¼ í˜¸ì¶œí•˜ì—¬ ì‹œì‘ë˜ì–´ì•¼ í•œë‹¤.
&lt;a class="link" href="https://pkg.go.dev/sigs.k8s.io/controller-runtime/pkg/manager" target="_blank" rel="noopener"
>ê³µì‹ ë¬¸ì„œ &lt;/a>&lt;/p>&lt;/blockquote>
&lt;p>ì‹¤ì œ ì½”ë“œ ìƒì—ì„œëŠ” kubebuilderê°€ Managerë¼ëŠ” ê°ì²´ ìƒì„±í•´ì¤ë‹ˆë‹¤.(&lt;code>cmd/main.go&lt;/code>)&lt;/p>
&lt;blockquote>
&lt;p>ManagerëŠ” ê³ ê°€ìš©ì„±ì„ ìœ„í•´ Controllerë“¤ì˜ leader electionë„ ìˆ˜í–‰í•©ë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mgr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ctrl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewManager&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctrl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">GetConfigOrDie&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="nx">ctrl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Options&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Scheme&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">scheme&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Metrics&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">metricsServerOptions&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">WebhookServer&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">webhookServer&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">HealthProbeBindAddress&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">probeAddr&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">LeaderElection&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">enableLeaderElection&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">LeaderElectionID&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;958dbbf6.hexactf.io&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// LeaderElectionReleaseOnCancel defines if the leader should step down voluntarily&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// when the Manager ends. This requires the binary to immediately end when the&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Manager is stopped, otherwise, this setting is unsafe. Setting this significantly&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// speeds up voluntary leader transitions as the new leader don&amp;#39;t have to wait&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// LeaseDuration time first.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// In the default scaffold provided, the program ends immediately after&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// the manager stops, so would be fine to enable this option. However,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// if you are doing or is intended to do any operation such as perform cleanups&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// after the manager stops then its usage might be unsafe.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// LeaderElectionReleaseOnCancel: true,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setupLog&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;unable to start manager&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">os&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Exit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ì„œ í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ì— 2ê°œ ì´ìƒì˜ controllerë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í˜„ì¬ ì €í¬ ëŒ€íšŒì—ì„œëŠ” Challenge Controller í•˜ë‚˜ë§Œ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— í•˜ë‚˜ë§Œ ë§Œë“  ê²ƒ ë¿ì…ë‹ˆë‹¤.
ManagerëŠ” Controllerë¥¼ ì œì–´í•˜ëŠ” ì—­í• ì„ ê°€ì§„ë‹¤ê³  ì„¤ëª…í–ˆì£ ? &lt;strong>ì²˜ìŒ Manangerê°€ ì—¬ëŸ¬ê°œì˜ controllerë¥¼ ì œì–´í•˜ê¸° ìœ„í•´ì„œëŠ” Managerì— Controller ë“±ë¡ ì‘ì—…ì´ í•„ìš”í•©ë‹ˆë‹¤.&lt;/strong> ê·¸ë¦¬ê³  ì´ ë¶€ë¶„ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ controller íŒŒì¼ ìƒì„± ì‹œ ìë™ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ë‹¤ì‹œ ëŒì•„ì™€ì„œ BuilderëŠ” Challenge Controllerë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ ì–´ë–¤ ì •ë³´ê°€ í•„ìš”í• ê¹Œìš”?&lt;/p>
&lt;ul>
&lt;li>Controllerë¥¼ ì œì–´í•  Manager&lt;/li>
&lt;li>Controller ëŒ€ìƒ ë¦¬ì†ŒìŠ¤&lt;/li>
&lt;li>Controllerì— ì‚½ì…í•  Reconcile í•¨ìˆ˜&lt;/li>
&lt;/ul>
&lt;p>kubebuilderë¥¼ í†µí•´ ìë™ìœ¼ë¡œ controllerë¥¼ ìƒì„±í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ë¹Œë“œ ë¡œì§ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// SetupWithManager sets up the controller with the Manager.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">r&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ChallengeReconciler&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">SetupWithManager&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">mgr&lt;/span> &lt;span class="nx">ctrl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Manager&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">error&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Builder ì´ˆê¸°í™”&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">ctrl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewControllerManagedBy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">mgr&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Challengeë¼ëŠ” ëŒ€ìƒ ë¦¬ì†ŒìŠ¤&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">For&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">hexactfproj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Challenge&lt;/span>&lt;span class="p">{}).&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">Owns&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">appsv1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Deployment&lt;/span>&lt;span class="p">{}).&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">Owns&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">corev1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Service&lt;/span>&lt;span class="p">{}).&lt;/span>&lt;span class="o">/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">Named&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;challenge&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Controllerì— ChallengeReconcilerë¥¼ ì‚½ì…&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">Complete&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">r&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="controllerëŠ”-reconcilerë¥¼-í†µí•´-reconcileë¥¼-ì‹¤í–‰í•œë‹¤">ControllerëŠ” Reconcilerë¥¼ í†µí•´ Reconcile()ë¥¼ ì‹¤í–‰í•œë‹¤.
&lt;/h2>&lt;p>ControllerëŠ” íƒ€ê²Ÿ ë¦¬ì†ŒìŠ¤(Challenge)ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ê³  ë³€ê²½ ì‹œ &lt;code>Reconciler&lt;/code> í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚µë‹ˆë‹¤. Reconciler í•¨ìˆ˜ëŠ” kube-apiserverë¥¼ í†µí•´ ëŒ€ìƒ ë¦¬ì†ŒìŠ¤ì˜ ë³€ê²½ ì‚¬í•­ì„ í™•ì¸í•©ë‹ˆë‹¤. ë§Œì•½ì— ë³€ê²½ ì‚¬í•­ì´ ê°ì§€ê°€ ë˜ì—ˆë‹¤ë©´ &lt;code>Reconcile&lt;/code> í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚µë‹ˆë‹¤.&lt;/p>
&lt;p>ë§¨ ì²«ë¶€ë¶„ì— ë§í•œ ì¡°ê±´ì€ ëª¨ë‘ &lt;code>Reconcile&lt;/code> í•¨ìˆ˜ ë‚´ì— êµ¬í˜„í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>êµ¬ì²´ì ì¸ ë‚´ìš©ì€ &lt;a class="link" href="https://nakamasato.medium.com/kubernetes-operator-series-6-controller-runtime-component-controller-604c8905a1e1" target="_blank" rel="noopener"
>Kubernetes Operator series 6 â€” controller-runtime component â€” Controller | by Masato Naka | Medium&lt;/a> ì½ëŠ” ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;h2 id="challenge-ë¦¬ì†ŒìŠ¤-ìƒì„±">Challenge ë¦¬ì†ŒìŠ¤ ìƒì„±
&lt;/h2>&lt;h3 id="ì‰½ê²Œ-ì‚­ì œí• -ìˆ˜-ìˆë„ë¡-challengeë¥¼-ë§Œë“¤ì">ì‰½ê²Œ ì‚­ì œí•  ìˆ˜ ìˆë„ë¡ Challengeë¥¼ ë§Œë“¤ì!
&lt;/h3>&lt;p>ChallengeëŠ” Deployment, Serviceë¥¼ í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬ì„±í•˜ì—¬ ìƒì„±í•˜ê²Œ ë©ë‹ˆë‹¤. &lt;strong>ì‚­ì œ ì‹œ ê³ ì•„ ë¦¬ì†ŒìŠ¤ê°€ ë°œìƒí•˜ì§€ ì•Šë„ë¡ ìƒì„±í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.&lt;/strong>
ìœ„ì˜ ê³¼ì œë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•´ì„œ Challenge-Deployment, Serviceê°„ ë¶€ëª¨-ìì‹ ê´€ê³„ë¥¼ ì§€ì •í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>Ownsì— ëŒ€í•´ì„œ ì†Œìœ  ê´€ê³„ë¼ê³  ë§í•˜ëŠ” ì‚¬ëŒì´ ìˆê³ , ì–´ëŠ ì±…ì—ì„œëŠ” ë¶€ëª¨-ìì‹ ê´€ê³„ë¼ê³  ì„¤ëª…í•˜ê¸°ë„ í–ˆìŠµë‹ˆë‹¤. ì €ëŠ” ìƒí•˜ ê´€ê³„ë¥¼ ëšœë ·í•˜ê²Œ í‘œí˜„í•  ìˆ˜ ìˆì–´ &lt;strong>ë¶€ëª¨-ìì‹ ê´€ê³„&lt;/strong>ë¡œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ì‰½ê²Œ ë§í•´ ì»¤ìŠ¤í…€ ë¦¬ì†ŒìŠ¤(Challenge) ë¶€ëª¨ì´ê³  Deployment, Service ìì‹ ê´€ê³„ë¼ê³  ìƒê°í•˜ì‹œë©´ ë©ë‹ˆë‹¤. Challengeê°€ Deploymentê³¼ ì—°ê´€ëœë‹¤ëŠ” ê²ƒì€ Deploymentì— ë³€ê²½ ì‚¬í•­ ë°œìƒ ì‹œ Reconcile()ì´ ë°œìƒí•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ë¶€ëª¨-ìì‹ ê´€ê³„ë¥¼ ì‚¬ìš©í•œ ì´ìœ ëŠ” ì‚­ì œ ì‹œ í¸ë¦¬í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. êµ¬ì²´ì ìœ¼ë¡œ ë§í•˜ìë©´ &lt;strong>ìì‹ ë¦¬ì†ŒìŠ¤ê°€ ë¶€ëª¨ ë¦¬ì†ŒìŠ¤ì— ì†Œì†ëœ ê²ƒìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆë‹¤ë©´ ë¶€ëª¨ ë¦¬ì†ŒìŠ¤ ì‚­ì œ ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ì€ ëª¨ë“  ìì‹ ë¦¬ì†ŒìŠ¤ë¥¼ ìë™ìœ¼ë¡œ ì •ë¦¬&lt;/strong>í•©ë‹ˆë‹¤.&lt;/p>
&lt;h4 id="êµ¬í˜„">êµ¬í˜„
&lt;/h4>&lt;p>ìƒì„± ì‹œ ì•„ë˜ì˜ ë¡œì§ì„ ë”°ë¦…ë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>Challenge ê°ì²´ ì´ˆê¸°í™”&lt;/li>
&lt;li>LoadDefinitionì„ ë¡œë“œ&lt;/li>
&lt;li>LoadDefinition ê¸°ë°˜ìœ¼ë¡œ Deployment, Serviceë¥¼ ìƒì„±(ë¶€ëª¨-ìì‹ ê´€ê³„)&lt;/li>
&lt;li>Challengeì— í•„ìš” ë ˆì´ë¸”ì„ ì¶”ê°€&lt;/li>
&lt;/ol>
&lt;p>ì—¬ê¸°ì„œ ì´ˆê¸°í™” ë¶€ë¶„ì— &lt;code>challenge.Status.StartedAt&lt;/code> ë¥¼ í˜„ì¬ ì‹œê°„ìœ¼ë¡œ ì €ì¥í–ˆìŠµë‹ˆë‹¤. ì´ ì†ì„±ê°’ì€ ì´ˆê¸°í™” í˜¹ì€ ì¶”í›„ 30ë¶„ í›„ì— ì‚­ì œí•˜ê¸° ìœ„í•´ ë¹„êµê°’ìœ¼ë¡œ í™œìš©ë©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ì²˜ìŒ ìƒì„± ì‹œ StartedAt ë“± Status ì´ˆê¸°í™”&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Status&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">StartedAt&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NamespacedName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">handleError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">now&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">metav1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Now&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Status&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">StartedAt&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">now&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Status&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">CurrentStatus&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">hexactfproj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewCurrentStatus&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Status&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nf">Update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Failed to initialize status&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">handleError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ìµœì‹  ìƒíƒœë¡œ ê°±ì‹ &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NamespacedName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// NotFound ì—ëŸ¬ ë“±ì€ ë¬´ì‹œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">handleError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// í˜„ì¬ ìƒíƒœì— ë”°ë¼ ë¶„ê¸°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">switch&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Status&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">CurrentStatus&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">IsNone&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NamespacedName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">handleError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ì‹¤ì œ Challengeì— í•„ìš”í•œ ë¦¬ì†ŒìŠ¤ë“¤(Deployment, Service ë“±) ìƒì„± ë¡œì§&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">loadChallengeDefinition&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">handleError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// í•œ ë²ˆ ë” ì¬í(Requeue)í•˜ì—¬ ë°”ë¡œ ë‹¤ìŒ ë‹¨ê³„ í™•ì¸&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">ctrl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Result&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">Requeue&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">},&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Deployment, Service ìƒì„± ì‹œ Challengeì— ëŒ€í•œ &lt;code>SetControllerReference&lt;/code> ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  &lt;code>Client.Create&lt;/code>ë¥¼ í†µí•´ Deployment,Serviceë¥¼ ìƒì„±í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Deploymentê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ObjectKey&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Namespace&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Namespace&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">deploy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="nx">deploy&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">IsNotFound&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Creating Deployment&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Deployment.Namespace&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">deploy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Namespace&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Deployment.Name&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">deploy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Owner Reference ì„¤ì •&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ctrl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">SetControllerReference&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">deploy&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Scheme&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;failed to set controller reference&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Deployment ìƒì„±&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">err&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">deploy&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;failed to create Deployment&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;failed to get Deployment&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ê·¸ë¦¬ê³  ì»¨íŠ¸ë¡¤ëŸ¬ Builder ì´ˆê¸°í™” ë¶€ë¶„ì—ì„œ ì†Œìœ  ê´€ê³„ë¥¼ ëª…í™•íˆ êµ¬í˜„í•˜ì‹œë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// SetupWithManager sets up the controller with the Manager.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">r&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ChallengeReconciler&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">SetupWithManager&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">mgr&lt;/span> &lt;span class="nx">ctrl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Manager&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">error&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Builderë¥¼ ì´ˆê¸°í™”&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">ctrl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewControllerManagedBy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">mgr&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Challenge(ë¶€ëª¨ ë¦¬ì†ŒìŠ¤)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">For&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">hexactfproj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Challenge&lt;/span>&lt;span class="p">{}).&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Deployment(ìì‹ ë¦¬ì†ŒìŠ¤)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">Owns&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">appsv1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Deployment&lt;/span>&lt;span class="p">{}).&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Service(ìì‹ ë¦¬ì†ŒìŠ¤)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">Owns&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">corev1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Service&lt;/span>&lt;span class="p">{}).&lt;/span>&lt;span class="o">/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">Named&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;challenge&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Controllerì— ChallengeReconcilerë¥¼ ì‚½ì…&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">Complete&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">r&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ìƒíƒœë¥¼-ê°ì§€í•˜ê³ -ë³€ê²½í•˜ëŠ”-ë°©ë²•">ìƒíƒœë¥¼ ê°ì§€í•˜ê³  ë³€ê²½í•˜ëŠ” ë°©ë²•
&lt;/h3>&lt;p>ì™„ì „ ìƒˆë¡œìš´ Challengeë¼ë©´ ìƒíƒœ ê°’ê³¼ ê°™ì€ ê¸°íƒ€ ì •ë³´ë¥¼ ì´ˆê¸°í™”í•˜ì—¬ í•„ìš” ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ì´ ê³¼ì •ì—ì„œ None -&amp;gt; Running ìƒíƒœë¡œ ë³€ê²½í•˜ê²Œ ë˜ëŠ”ë°, ì½”ë“œ ìƒì—ì„œ ì°¸ì¡°í•˜ê³  ìˆëŠ” challengeì˜ status ê°’ì„ Runningë¥¼ ë³€ê²½í•˜ì—¬ ìƒˆë¡œìš´ ìƒíƒœë¥¼ ì¿ ë²„ë„¤í‹°ìŠ¤ì— ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Status&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">CurrentStatus&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">SetRunning&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">now&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">metav1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Now&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Status&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">StartedAt&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">now&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Status&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nf">Update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">handleError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ì»¨íŠ¸ë¡¤ëŸ¬-êµ¬í˜„ì—-ì¤‘ìš”í•œ-ê²ƒì€---ë©±ë“±ì„±">ì»¨íŠ¸ë¡¤ëŸ¬ êµ¬í˜„ì— ì¤‘ìš”í•œ ê²ƒì€? - ë©±ë“±ì„±
&lt;/h3>&lt;p>ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë§í•˜ëŠ” &lt;strong>ë©±ë“±ì„±&lt;/strong>ì€ ë³€ê²½ ë˜ì§€ ì•ŠëŠ” ë¦¬ì†ŒìŠ¤ì˜ ì¡°ì • ìš”ì²­ì´ ì—¬ëŸ¬ë²ˆ ìˆë”ë¼ë„ &lt;strong>ë§¤ë²ˆ ë™ì¼í•œ ê²°ê³¼&lt;/strong>ë¥¼ ê°€ì ¸ì™€ì•¼ í•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. ë§Œì•½ì— í•˜ë‚˜ì˜ ë¶€ëª¨ ë¦¬ì†ŒìŠ¤ì— Deployment 1ê°œë¡œ êµ¬ì„±ëœ ìì‹ ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ì ¸ì•¼ í•œë‹¤ê³  ê°€ì •í•´ë´…ì‹œë‹¤. ë¬´ìŠ¨ ì¼ì´ ë°œìƒí•˜ë”ë¼ë„ í•˜ë‚˜ì˜ ë¶€ëª¨ ë¦¬ì†ŒìŠ¤ì— ë¬´ì¡°ê±´ í•˜ë‚˜ì˜ Deploymentë¥¼ ê°€ì ¸ì•¼ í•©ë‹ˆë‹¤. ì¤‘ê°„ì— ì¶”ê°€ì ì¸ ìš”ì²­ì´ ë°œìƒí•˜ì—¬ Deploymentê°€ 2ê°œ ìƒì„±ëœë‹¤ë©´ ì´ê²ƒì€ ë©±ë“±ì„±ì´ ê¹¨ì§„ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ë©±ë“±ì„±ì€ Challenge Controllerë¥¼ êµ¬í˜„í•˜ë©´ì„œ í˜„ì¬ê¹Œì§€ë„ ê°€ì¥ ì–´ë ¤ì›Œí•˜ëŠ” ë¶€ë¶„ì´ê¸°ë„ í•©ë‹ˆë‹¤.
ChallengeëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ê¸°ë³¸ ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ì§€ê³  ìˆì§€ë§Œ ì ˆì°¨ì— ë”°ë¼ ë ˆì´ë¸”, ìƒíƒœ ê°’ì´ ì—…ë°ì´íŠ¸ ë©ë‹ˆë‹¤. ë³€ê²½ ì‚¬í•­ì´ ë§ì€ íƒ“ì— &lt;strong>Reconcile ë¡œì§ì„ êµ¬í˜„í•  ë•ŒëŠ” ìµœì‹ ì˜ Challengeë¥¼ ë¶ˆëŸ¬ì˜¤ë„ë¡ êµ¬í˜„&lt;/strong>í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NamespacedName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">handleError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ Kubernetes Clientê°€ ì´ìš©í•˜ëŠ” Kubernetes Cacheì— ìˆëŠ” ìƒíƒœ ê°’ê³¼ ì‹¤ì œ ë°ì´í„°ì— ë¶ˆì¼ì¹˜ê°€ ë°œìƒí•´ ë¬¸ì œê°€ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;controller&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;challenge&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;controllerGroup&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;apps.hexactf.io&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;controllerKind&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Challenge&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Challenge&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;challenge-59-sample&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;namespace&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;default&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;namespace&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;default&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;challenge-59-sample&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;reconcileID&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;bf0eee44-a54d-417d-8322-7dc81e52152e&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;error&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Operation cannot be fulfilled on challenges.apps.hexactf.io \&amp;#34;challenge-59-sample\&amp;#34;: the object has been modified; please apply your changes to the latest version and try again&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="challenge-ë¦¬ì†ŒìŠ¤-ì‚­ì œ">Challenge ë¦¬ì†ŒìŠ¤ ì‚­ì œ
&lt;/h2>&lt;h3 id="ì‚­ì œ-ìƒíƒœë¥¼-ì•Œë¦¬ê¸°-ìœ„í•œ-finalizer-ì´ìš©">ì‚­ì œ ìƒíƒœë¥¼ ì•Œë¦¬ê¸° ìœ„í•œ Finalizer ì´ìš©
&lt;/h3>&lt;p>ìƒí™©ì— ë”°ë¼ íŠ¹ë³„í•œ ì •ë¦¬ ë¡œì§ì´ í•„ìš”í•œ ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤. ì´ëŸ´ ê²½ìš° Finzliazerë¥¼ í†µí•´ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚­ì œí•˜ì§€ ëª»í•˜ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëŒ€í‘œì ì¸ ì˜ˆì‹œë¡œ pvc-protectionê°€ ìˆìœ¼ë©° ì´ìƒ íŒŒë“œê°€ ì ê·¹ì ìœ¼ë¡œ ì‚¬ìš©ë˜ì§€ ì•Šì„ë•Œê¹Œì§€ pvcì˜ ì‚­ì œê°€ ì—°ê¸°ë©ë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ì‹¤ì œë¡œ Finalizerë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ì‚­ì œëŠ” ë¹ ë¥´ê²Œ ë°œìƒë©ë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>í”„ë¡œì íŠ¸ì—ì„œëŠ” ë¦¬ì†ŒìŠ¤ ê°„ ì¢…ì†ì ì¸ ê´€ê³„ë¥¼ ê°€ì§€ì§€ ì•Šê³  ëª¨ë‘ ë…ë¦½ì ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ pvc ì‚¬ë¡€ì²˜ëŸ¼ Finalizerê°€ í•„ìš” ì—†ë‹¤ê³  ìƒê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ê·¸ëŸ¬ë‚˜ ì €í¬ í”„ë¡œì íŠ¸ëŠ” ì‚­ì œ ìƒíƒœ ì •ë³´ë¥¼ ì„¤ì •í•˜ì—¬ ì™¸ë¶€ì— ë³´ë‚´ì•¼ í•©ë‹ˆë‹¤. ë’¤ì—ì„œ ë§ì”€í•˜ê² ì§€ë§Œ ìƒíƒœ ì •ë³´ë¥¼ íë¥¼ í†µí•´ ì „ì†¡í•˜ê²Œ ë˜ëŠ”ë°, ì´ë•Œ ì‚­ì œ ìš”ì²­ -&amp;gt; ìƒíƒœ ë©”ì„¸ì§€ ì „ì†¡ -&amp;gt; ì‚­ì œ ë¡œì§ì´ êµ¬í˜„ì´ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ê²°êµ­ ë¦¬ì†ŒìŠ¤ ì •ë¦¬ê°€ ì•„ë‹ˆë”ë¼ë„ &lt;strong>ì‚­ì œê°€ ë˜ì—ˆë‹¤ëŠ” ìƒíƒœ ì •ë³´ë¥¼ ë‹¤ë¥¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ê²Œ ì•Œë ¤ì¤˜ì•¼ í•˜ëŠ” ì‹œê°„ì´ í•„ìš”í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/strong>
ì €ëŠ” ì´ëŸ¬í•œ ë¡œì§ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ Finalizerë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">const&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">challengeFinalizer&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;challenge.hexactf.io/finalizer&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">r&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ChallengeReconciler&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">addFinalizer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="nx">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">challenge&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">hexactfproj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Challenge&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">ctrl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Result&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Finalizers&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Finalizers&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">challengeFinalizer&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">ctrl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Result&lt;/span>&lt;span class="p">{},&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Errorf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;failed to add finalizer: %w&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">ctrl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Result&lt;/span>&lt;span class="p">{},&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ë¦¬ì†ŒìŠ¤ê°€-ì‚­ì œë˜ëŠ”-2ê°€ì§€-ë°©ë²•">ë¦¬ì†ŒìŠ¤ê°€ ì‚­ì œë˜ëŠ” 2ê°€ì§€ ë°©ë²•
&lt;/h3>&lt;p>ë¦¬ì†ŒìŠ¤ê°€ ì‚­ì œë˜ëŠ” ë°©ë²•ì€ í¬ê²Œ ë‘ ê°€ì§€ì…ë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>ì‚¬ìš©ìê°€ ì‚­ì œë¥¼ ìš”ì²­í•œë‹¤.&lt;/li>
&lt;li>ì´ìš© ì‹œê°„ì´ 30ë¶„ ì´ìƒì´ë©´ ì‚­ì œë¥¼ ìš”ì²­í•œë‹¤.&lt;/li>
&lt;/ol>
&lt;p>ì‚­ì œ ìš”ì²­ì€ &amp;ldquo;ì‚­ì œ ìš”ì²­í•˜ê² ìŠµë‹ˆë‹¤!&amp;rdquo; ë¼ëŠ” &lt;code>deletionTimestamp &lt;/code>ì†ì„±ë§Œ ê¸°ë¡ë˜ëŠ” ê²ƒ ë¿ì…ë‹ˆë‹¤. ì‹¤ì œë¡œëŠ” &lt;code>deletionTimestamp&lt;/code>ê°€ ì„¤ì •ëœ ê²ƒì„ í™•ì¸í•˜ê³  Finalizerê°€ ì œê±°ëœ í›„ì— ëŒ€ìƒ ë¦¬ì†ŒìŠ¤ê°€ ì‚­ì œëœ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">r&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ChallengeReconciler&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">handleDeletion&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="nx">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">challenge&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">hexactfproj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Challenge&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">ctrl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Result&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Processing deletion&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;challenge&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">crStatusMetric&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">WithLabelValues&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Labels&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s">&amp;#34;apps.hexactf.io/challengeId&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Labels&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s">&amp;#34;apps.hexactf.io/user&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Namespace&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nf">Set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Finalizerê°€ ë‚¨ì•„ìˆëŠ”ì§€ í™•ì¸&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">controllerutil&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ContainsFinalizer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;challenge.hexactf.io/finalizer&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// íŒŒì´ë„ë¼ì´ì € ì œê±°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">controllerutil&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">RemoveFinalizer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;challenge.hexactf.io/finalizer&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ë©”íƒ€ë°ì´í„° ì—…ë°ì´íŠ¸&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Failed to remove finalizer&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ì¬ì‹œë„ ìœ„í•´ Requeue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">ctrl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Result&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">RequeueAfter&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Second&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">},&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// í•„ìš”í•˜ë‹¤ë©´ Deleted ì´ë²¤íŠ¸ ì „ì†¡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">KafkaClient&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">SendStatusChange&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Labels&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s">&amp;#34;apps.hexactf.io/user&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Labels&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s">&amp;#34;apps.hexactf.io/challengeId&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;Deleted&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Failed to send status change message&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ì—¬ê¸°ì„œë„ ì—ëŸ¬ ì‹œ ì¬ì‹œë„&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">ctrl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Result&lt;/span>&lt;span class="p">{},&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">go&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Minute&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// scrape_intervalì´ 30ì´ˆë¼ë©´ 1ë¶„ ì •ë„ ê¸°ë‹¤ë¦¬ë©´ ì•ˆì „&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">crStatusMetric&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">DeleteLabelValues&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Labels&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s">&amp;#34;apps.hexactf.io/challengeId&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Labels&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s">&amp;#34;apps.hexactf.io/user&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Namespace&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Successfully completed deletion process&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ì´ ì‹œì ì—ì„œ finalizersê°€ ë¹„ì–´ ìˆìœ¼ë¯€ë¡œ, K8sê°€ ì˜¤ë¸Œì íŠ¸ë¥¼ ì‹¤ì œ ì‚­ì œí•¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">ctrl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Result&lt;/span>&lt;span class="p">{},&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol>
&lt;li>ì‚¬ìš©ìê°€ ì‚­ì œë¥¼ ìš”ì²­í•œë‹¤.
ì‚¬ìš©ìê°€ ì‚­ì œë¥¼ ìš”ì²­í•˜ëŠ” ê²ƒì€ ì‚¬ìš©ìê°€ ì‚­ì œ ì´ë²¤íŠ¸ë¥¼ ì§ì ‘ í•˜ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤. ìš”ì²­ ì´í›„ì—ëŠ” ìë™ìœ¼ë¡œ deletionTimestampê°€ ê¸°ë¡ë  ê²ƒ ì…ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;p>ì•„ë˜ Reconcile() ë¡œì§ì— ì˜í•´ì„œ ì‚­ì œë¥¼ ìˆ˜í–‰í•  ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">!&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">DeletionTimestamp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">IsZero&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">handleDeletion&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>ì´ìš© ì‹œê°„ì´ 30ë¶„ ì´ìƒì´ë©´ ì‚­ì œë¥¼ ìš”ì²­í•œë‹¤.&lt;br>
Challenge ìƒì„± ë¶€ë¶„ì— ì‹¤í–‰ 30ë¶„ í›„ ì‚­ì œë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ &lt;code>startedAt&lt;/code> ë¥¼ ì„¤ì •í•œë‹¤ê³  ë§í–ˆì£ ? startedAt ê¸°ì¤€ìœ¼ë¡œ 30ë¶„ í›„ì— ì‚­ì œë˜ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Since&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Status&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">StartedAt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Time&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">challengeDuration&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ì•„ì§ DeletionTimestampê°€ ì—†ë‹¤ë©´ Delete ìš”ì²­&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">DeletionTimestamp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">IsZero&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Time exceeded; issuing a Delete request&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;challenge&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Delete&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Failed to delete challenge&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">handleError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Delete ìš”ì²­ í›„ì—ëŠ” Kubernetesê°€ DeletionTimestampë¥¼ ì„¤ì •í•˜ê³ &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ë‹¤ì‹œ Reconcileì´ í˜¸ì¶œë˜ë©´ handleDeletion()ì´ ìˆ˜í–‰ë¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">ctrl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Result&lt;/span>&lt;span class="p">{},&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ì´ë¯¸ Delete ì§„í–‰ì¤‘ì´ë©´ handleDeletionìœ¼ë¡œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">handleDeletion&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ë§Œì•½ ì œí•œ ì‹œê°„ ì´ë‚´ì— ìˆë‹¤ë©´ requeueë¥¼ í•©ë‹ˆë‹¤.&lt;br>
kube-apiserverë¥¼ í†µí•´ ëŒ€ìƒ ë¦¬ì†ŒìŠ¤ì˜ ë³€ê²½ ì‚¬í•­ ê°ì§€í•˜ë©´ ì´ë²¤íŠ¸ë¥¼ work queueì— ë„£ìŠµë‹ˆë‹¤. Controllerê°€ ì‹œì‘ë˜ë©´ Watch ë¡œì§ì„ í†µí•´ íì— ìˆëŠ” ë°ì´í„°ë¥¼ êµ¬ë…í•˜ê²Œ ë˜ê³  Reconcile() ë¡œì§ì„ ìˆ˜í–‰í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Status&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">CurrentStatus&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">IsRunning&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NamespacedName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">handleError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// isOneì´ falseì´ë©´ ì¼ì • ì‹œê°„ ë‚´ì—ë§Œ ì‘ë™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">!&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Status&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">IsOne&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Since&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Status&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">StartedAt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Time&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">challengeDuration&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">handleDeletion&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">!&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">DeletionTimestamp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">IsZero&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">handleDeletion&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Running ë©”ì„¸ì§€ ì „ì†¡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">KafkaClient&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">SendStatusChange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Labels&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s">&amp;#34;apps.hexactf.io/user&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Labels&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s">&amp;#34;apps.hexactf.io/challengeId&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="s">&amp;#34;Running&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Failed to send status change message&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">handleError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">challenge&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">ctrl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Result&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">RequeueAfter&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">requeueInterval&lt;/span>&lt;span class="p">},&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>í”„ë¡œì íŠ¸ì— ëŒ€ì…í•´ë³´ìë©´ ì œí•œ ì‹œê°„ ë‚´ì— ìˆìœ¼ë©´ ëª‡ ë¶„ ê°„ê²©ìœ¼ë¡œ 30ë¶„ì´ ì§€ë‚¬ëŠ”ì§€ í™•ì¸í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-8/image-1.png"
width="720"
height="340"
srcset="https://s0okju.github.io/p/hexactf-8/image-1_hu_70aac238b179c19.png 480w, https://s0okju.github.io/p/hexactf-8/image-1_hu_25498fcfb3aa3dca.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://nakamasato.medium.com/kubernetes-operator-series-6-controller-runtime-component-controller-604c8905a1e1"
class="gallery-image"
data-flex-grow="211"
data-flex-basis="508px"
>&lt;/p>
&lt;p>&lt;strong>requeue Intervalì— ëŒ€í•œ ìƒê°&lt;/strong>&lt;/p>
&lt;p>ê¸°ë³¸ì ìœ¼ë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” 30ì´ˆ ê°„ê²©ìœ¼ë¡œ ëª¨ë“  ë¦¬ì†ŒìŠ¤ì˜ ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤. Operator ë˜í•œ work queueì— requeueí•˜ì—¬ ë¦¬ì†ŒìŠ¤ ê°„ê²© ì‹œê°„ì„ ì„¤ì •í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤. ì—¬ê¸°ì„œ ëª‡ ì´ˆ ê°„ê²©ìœ¼ë¡œ ë³´ëŠ” ê²ƒì´ ì¢‹ì„ê¹Œìš”?&lt;/p>
&lt;p>ìì£¼ ë¦¬ì†ŒìŠ¤ë¥¼ ê´€ì°°í•˜ê²Œ ë˜ë©´ íì— ë§ì€ ë°ì´í„°ê°€ ìŒ“ì´ê²Œ ë˜ë©´ì„œ ìµœì¢…ì ìœ¼ë¡œ ì‹œê°„ ì§€ì—°ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°˜ë©´ í° ì‹œê°„ ê°„ê²©ìœ¼ë¡œ ê´€ì°°í•˜ê²Œ ë˜ë©´ &amp;ldquo;ì§€ì†ì ìœ¼ë¡œ í™•ì¸í•˜ì—¬ ìƒíƒœ ì •ë³´ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•œë‹¤&amp;quot;ë¼ëŠ” ì¥ì ì„ ìƒì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì €ëŠ” ìµœì¢…ì ìœ¼ë¡œ 30ì´ˆ ê°„ê²©ìœ¼ë¡œ Challengeì˜ ìƒíƒœë¥¼ í™•ì¸í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>ì—¬ë‹´&lt;/strong> .&lt;br>
ê¸€ë¡œ ì •ë¦¬í•˜ë‹¤ë³´ë‹ˆ 30ì´ˆ ê°„ê²©ìœ¼ë¡œ requeueí•  í•„ìš”ê°€ ì—†ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. ì´ˆê¸°ì—ëŠ” ë¬´ìŠ¨ì¼ì´ ì¼ì–´ë‚ ì§€ ëª¨ë¥´ë‹ˆ 30ì´ˆ ê°„ê²©ìœ¼ë¡œ í™•ì¸í•˜ëŠ”ê²Œ ì¢‹ê² ë‹¤ê³  ìƒê°ì„ í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ Challenge í•˜ìœ„ ë¦¬ì†ŒìŠ¤ì— ë³€ê²½ì‚¬í•­ì´ ê°ì§€ë˜ì–´ Reconcileë¥¼ ìˆ˜í–‰í•œë‹¤ë©´ 30ì´ˆ ê°„ê²©ì˜ RequeueëŠ” í•„ìš” ì—†ê² ì£ ?&lt;/p>&lt;/blockquote>
&lt;h2 id="ì •ë¦¬">ì •ë¦¬
&lt;/h2>&lt;p>ìœ„ì˜ ë‚´ìš©ì„ íë¦„ë„ë¡œ ì •ë¦¬í•˜ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-8/image.png"
width="919"
height="652"
srcset="https://s0okju.github.io/p/hexactf-8/image_hu_a34d715bd16cc892.png 480w, https://s0okju.github.io/p/hexactf-8/image_hu_d1ab6704279ab332.png 1024w"
loading="lazy"
alt="Challenge Operator íë¦„ë„"
class="gallery-image"
data-flex-grow="140"
data-flex-basis="338px"
>&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°
&lt;/h2>&lt;p>ê¸€ë¡œ ì •ë¦¬í•˜ë‹¤ë³´ë‹ˆ ìŠ¤ìŠ¤ë¡œ ì˜ëª» ìƒê°í•œ ë¶€ë¶„ì„ ì°¾ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ëŒ€í‘œì ì¸ ì˜ˆë¡œ Requeue(ì¬ì‹œë„) í•  í•„ìš” ì—†ëŠ”ë° êµ¬í˜„í•œ ê²ƒì²˜ëŸ¼ ë§ì´ì£ . ì´ê±´ ë‹¤ìŒì— ìˆ˜ì •í•´ì•¼ í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ë²ˆ ê¸€ì„ ëìœ¼ë¡œ ë¡œì§ ë¶€ë¶„ ì„¤ëª…ì€ ëë‚œ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ë‹¤ìŒ ê¸€ì—ì„œëŠ” ì–´ë–»ê²Œ ì»¤ìŠ¤í…€ ë©”íŠ¸ë¦­ì„ í†µí•´ Challengeë¥¼ ì‹œê°í™”í•  ìˆ˜ ìˆëŠ”ì§€ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ì°¸ê³ ">ì°¸ê³ 
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://kmaster.tistory.com/106" target="_blank" rel="noopener"
>Finalizers, ownerReferences&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://togomi.tistory.com/28" target="_blank" rel="noopener"
>Kubernetes operator ë©”ì»¤ë‹ˆì¦˜&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://nakamasato.medium.com/kubernetes-operator-series-5-controller-runtime-component-reconciler-501f71b7397a" target="_blank" rel="noopener"
>Kubernetes Operator series 5â€” controller-runtime component â€” Reconciler | by Masato Naka | Medium&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://nakamasato.medium.com/kubernetes-operator-series-6-controller-runtime-component-controller-604c8905a1e1" target="_blank" rel="noopener"
>Kubernetes Operator series 6 â€” controller-runtime component â€” Controller | by Masato Naka | Medium&lt;/a>&lt;/li>
&lt;li>ì œì‹œìŠ¨ ì œì‹œìŠ¨, ì¡°ìŠˆì•„ ìš°ë“œ. (2021). ì¿ ë²„ë„¤í‹°ìŠ¤ ì˜¤í¼ë ˆì´í„°. ì—ì´ì½˜.&lt;/li>
&lt;/ul></description></item><item><title>HexaCTF2025 ëŒ€íšŒ ìš´ì˜ í›„ê¸°</title><link>https://s0okju.github.io/p/hexactf2025-review/</link><pubDate>Fri, 28 Feb 2025 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/hexactf2025-review/</guid><description>&lt;p>2025.03.02 - ë‚´ìš© ìˆ˜ì •&lt;/p>
&lt;p>4ê°œì›” ë™ì•ˆ ì—¬ëŸ¬ ì˜¤ë¥˜ì˜ ì‹ ì„¸ê³„ì˜ ë§›ë³¸ ê²°ê³¼ ë“œë””ì–´ ëŒ€íšŒë¥¼ ê°œìµœí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì—¬íƒ€ CTF ëŒ€íšŒì™€ ë‹¤ë¥´ê²Œ 3ì¼ì´ë¼ëŠ” ê¸´ ì‹œê°„ ë™ì•ˆ ì´ë¤„ì¡ŒìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf2025-review/image.png"
width="757"
height="668"
srcset="https://s0okju.github.io/p/hexactf2025-review/image_hu_4b1f04fd2608e8ba.png 480w, https://s0okju.github.io/p/hexactf2025-review/image_hu_771ae6c356221a37.png 1024w"
loading="lazy"
alt="ë‘ê·¼"
class="gallery-image"
data-flex-grow="113"
data-flex-basis="271px"
>&lt;/p>
&lt;h2 id="ì‚¬ì „-ì ê²€">ì‚¬ì „ ì ê²€
&lt;/h2>&lt;p>ëŒ€íšŒ í•˜ë£¨ ì „ì— ì „ë°˜ì ì¸ ê²€í† ë¥¼ ìˆ˜í–‰í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. &lt;del>ì‹œê°„ì´ ì—¬ìœ ë¡œìš¸ ë•ŒëŠ” ì˜¤ë¥˜ê°€ ë³´ì´ì§€ ì•Šì•˜ëŠ”ë° ì™œ í•˜ë£¨ ì´í‹€ ì „ì— ì˜ ë³´ì¼ê¹Œ..&lt;/del>&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf2025-review/image-1.png"
width="607"
height="340"
srcset="https://s0okju.github.io/p/hexactf2025-review/image-1_hu_ae1e1b3de1446789.png 480w, https://s0okju.github.io/p/hexactf2025-review/image-1_hu_c73bca90a4a07b0f.png 1024w"
loading="lazy"
alt="ë¬¸ì œ ìƒê²¼ë‹¤ê³  ì—°ë½ì˜¬ë•Œë§ˆë‹¤ ì§“ëŠ” í‘œì •"
class="gallery-image"
data-flex-grow="178"
data-flex-basis="428px"
>&lt;/p>
&lt;h3 id="ì„œë²„ê°€-ì¢€-ë²„ë²…ê±°ë ¤ìš”">ì„œë²„ê°€ ì¢€ ë²„ë²…ê±°ë ¤ìš”.
&lt;/h3>&lt;p>ì¤‘ê°„ì— ì›¹ í˜ì´ì§€ì— ë©ˆì¶¤ í˜„ìƒì´ ìˆë‹¤ê³  í•´ì„œ ì›¹ì„ ë‹´ë‹¹í•˜ëŠ” íŒŒë“œë¥¼ í™•ì¸í–ˆìŠµë‹ˆë‹¤.&lt;br>
ë‹¤ì¤‘ ì ‘ì†í•œ ê²ƒë„ ì•„ë‹ˆê³  ì–´ë– í•œ í–‰ìœ„ë¥¼ í•˜ì§€ ì•Šì•˜ëŠ”ë° request í•œ ë©”ëª¨ë¦¬ ì–‘ì— ê·¼ì ‘í•˜ê²Œ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf2025-review/image-2.png"
width="565"
height="218"
srcset="https://s0okju.github.io/p/hexactf2025-review/image-2_hu_7cd3bbf130e352d7.png 480w, https://s0okju.github.io/p/hexactf2025-review/image-2_hu_cfb9d065fc0d9aa4.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="259"
data-flex-basis="622px"
>&lt;/p>
&lt;p>ì›¹ ë¶€ë¶„ì´ ì´ëŸ°ê±´ ì²˜ìŒì´ ì•„ë‹ˆì˜€ìŠµë‹ˆë‹¤. ì´ˆê¸°ì—ëŠ” FlaskëŠ” ë©”ëª¨ë¦¬ë¥¼ ì ê²Œ ì‚¬ìš©ë˜ì§€ ì•Šì„ê¹Œ í•˜ê³  request, limitsë¥¼ ì ê²Œ ì¡ì•˜ë‹¤ê°€ podê°€ ê°•ì œ ì¢…ë£Œë˜ê¸°ë„ í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf2025-review/image-3.png"
width="793"
height="274"
srcset="https://s0okju.github.io/p/hexactf2025-review/image-3_hu_4d0a315c87b1bcbb.png 480w, https://s0okju.github.io/p/hexactf2025-review/image-3_hu_7fca4370b0c0510a.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="289"
data-flex-basis="694px"
>&lt;/p>
&lt;p>ë©”ëª¨ë¦¬ ì‚¬ìš© íŒ¨í„´ì´ ì§ì‘ì´ ê°€ì§€ ì•Šì•˜ë‹¤. ì–´ì©”ë•ŒëŠ” íŒ íŠ€ëŠ” í˜•íƒœë¡œ ë‚˜íƒ€ë‚˜ê¸°ë„ í•˜ê³ , ì–´ì©”ë•ŒëŠ” ë©”ëª¨ë¦¬ ì–‘ì´ ìˆ˜ì§ ìƒìŠ¹í•˜ë‹¤ê°€ ì§€ì†ì ìœ¼ë¡œ ìœ ì§€ë˜ê¸°ë„ í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ë˜ì„œ request, limitsë¥¼ ì§€ì •í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.(&lt;del>ì‹¤ì œë¡œ ì´ë ‡ê²Œ í•˜ë©´ ì•ˆë©ë‹ˆë‹¤.&lt;/del>)
ê·¼ë³¸ì ìœ¼ë¡œ ì € ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìš°ì„  ìµœì í™”í•´ì•¼ í•œë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. ë¬¸ì œë¥¼ ì¦‰ì‹œ íŒŒì•…í•˜ê³  í•´ê²°í•˜ëŠ”ë° ì‹œê°„ì´ ë¶€ì¡±í•˜ë‹ˆ ë©”ëª¨ë¦¬ ì‚¬ìš© íŒ¨í„´ì„ í™•ì¸í•  ê²¸ ê³¼ê°í•˜ê²Œ ë¦¬ì†ŒìŠ¤ ì œí•œì„ í’€ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ì—¬ë‹´
ì„œë²„ ë©”ëª¨ë¦¬ê°€ ìƒê°ë³´ë‹¤ ë„ë„í•´ì„œ ë¦¬ì†ŒìŠ¤ ì œí•œì„ í’€ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë‹¤ìŒ ëŒ€íšŒì—ì„œëŠ” ê¼­ ë¶€í•˜ í…ŒìŠ¤íŠ¸ë¥¼ í•´ì„œ ì ì ˆí•˜ê²Œ ë¦¬ì†ŒìŠ¤ë¥¼ ì œí•œì„ ì„¤ì •í•  ê²ƒì…ë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;h3 id="challengeê°€-ì•ˆì—´ë ¤ìš”">Challengeê°€ ì•ˆì—´ë ¤ìš”..
&lt;/h3>&lt;h4 id="ê¸ˆìª½ì´-challenge-controller">ê¸ˆìª½ì´ Challenge Controller
&lt;/h4>&lt;p>Challenge Controller ë¶€ë¶„ì˜ ê³ ì§ˆì ì¸ ë¬¸ì œëŠ” ë°”ë¡œ ê°€ë” ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•œë‹¤ëŠ” ì ì´ì—ˆìŠµë‹ˆë‹¤. ê·¼ë³¸ì ì¸ ì›ì¸ì€ ì‚¬ì „ì— íŒŒì•…ì€ í•˜ê³  ìˆì—ˆì§€ë§Œ ê´€ë ¨ íŒ€ì›ê³¼ í•¨ê»˜ ëŒ€ê³µì‚¬ê°€ í•„ìš”í•˜ê¸°ì— ë°”ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ëŒ€íšŒ-ë‹¹ì¼">ëŒ€íšŒ ë‹¹ì¼
&lt;/h2>&lt;p>ì €ëŠ” ì „ë°˜ì ì¸ ì¸í”„ë¼ ê´€ë¦¬ì™€ Challenge ê´€ë¦¬ë¥¼ ë‹´ë‹¹í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì•ì„œ ë§í–ˆë‹¤ì‹¶ì´ Challenge Controllerê°€ ì˜¤ë¥˜ë¥¼ ìì£¼ ë°˜í™˜í•œë‹¤ê³  ë§ì”€ ë“œë ¸ì£ ?&lt;br>
ê·¸ë˜ì„œ ëŒ€íšŒ í•˜ë£¨ ì´í‹€ ë™ì•ˆì€ ì•„ë˜ì™€ ê°™ì€ í‘œì •ìœ¼ë¡œ ëª¨ë‹ˆí„°ë¥¼ ë°”ë¼ë´¤ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf2025-review/image-5.png"
width="540"
height="304"
srcset="https://s0okju.github.io/p/hexactf2025-review/image-5_hu_16b67f85867362b.png 480w, https://s0okju.github.io/p/hexactf2025-review/image-5_hu_3cf5457ab6afaf30.png 1024w"
loading="lazy"
alt="ì œë°œ í„°ì§€ì§€ ë§ì•„ì¤˜"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;/p>
&lt;p>ì˜ˆìƒë³´ë‹¤ Challenge Operator ìª½ì—ëŠ” ë³„ë‹¤ë¥¸ ë¬¸ì œëŠ” ì—†ì—ˆìŠµë‹ˆë‹¤.&lt;br>
ê°€ë” Challengeê°€ ìƒì„±ì´ ì•ˆëœë‹¤ê³  ì—°ë½ì´ ì˜¤ë‹¤ê°€ &amp;ldquo;ë‹¤ì‹œ í•´ë³´ë‹ˆ ë©ë‹ˆë‹¤.&amp;ldquo;ë¼ëŠ” ë©”ì„¸ì§€ë¥¼ ë§ì´ ë°›ì•˜ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf2025-review/image-6.png"
width="1584"
height="711"
srcset="https://s0okju.github.io/p/hexactf2025-review/image-6_hu_424f59dbe6f2d08c.png 480w, https://s0okju.github.io/p/hexactf2025-review/image-6_hu_77e8732e558b4689.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="222"
data-flex-basis="534px"
>&lt;/p>
&lt;p>ë§ˆì§€ë§‰ ë‚ ì—ëŠ” ì‚¬ìš©ìë„ ìš”ë ¹ì„ ìµí˜”ëŠ”ì§€ Challenge ì‹œìŠ¤í…œê³¼ ê´€ë ¨ëœ ë¬¸ì˜ëŠ” ì—†ì—ˆìŠµë‹ˆë‹¤. &lt;del>ë‚˜ë¦„ í‰í™”ë¡œì› ìŠµë‹ˆë‹¤.&lt;/del>&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf2025-review/image-7.png"
width="600"
height="527"
srcset="https://s0okju.github.io/p/hexactf2025-review/image-7_hu_9ab8ef8a654bddf7.png 480w, https://s0okju.github.io/p/hexactf2025-review/image-7_hu_8e107457ab6d77.png 1024w"
loading="lazy"
alt="ë§ˆì§€ë§‰ ë‚ ì€ í‰í™”ë¡œì› ë‹¤.."
class="gallery-image"
data-flex-grow="113"
data-flex-basis="273px"
>&lt;/p>
&lt;h2 id="ëŒ€íšŒ-í›„ê¸°---ë‹¤ìŒ-ê³¼ì œ">ëŒ€íšŒ í›„ê¸° - ë‹¤ìŒ ê³¼ì œ
&lt;/h2>&lt;p>ì¼ë‹¨ ê¸°ê°„ì´ ê¸´ ëŒ€íšŒì¸ë§Œí¼ íŠ¸ë˜í”½ì´ ë§ì´ ëª°ë¦°ë‹¤ëŠ” ì´ë²¤íŠ¸ëŠ” ì—†ì—ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ í° ë¬¸ì œ ì—†ì´ ëŒ€íšŒë¥¼ ë§ˆë¬´ë¦¬í•  ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì²« ëŒ€íšŒì— í° ì˜ë¯¸ê°€ ìˆì§€ë§Œ ê¸°ìˆ ì ìœ¼ë¡œ ë¶€ì¡±í•œ ë¶€ë¶„ì„ í™•ì‹¤íˆ íŒŒì•…í•˜ê²Œ ëœ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="challenge-controller-ê³ ì¹˜ê¸°">Challenge Controller ê³ ì¹˜ê¸°
&lt;/h3>&lt;p>Chllanege Controller ê´€ë ¨í•´ì„œ ë‘ ê°€ì§€ ë¬¸ì œì ì´ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆì˜ ì„¤ê³„ì ì¸ ë¬¸ì œì &lt;/li>
&lt;li>í”„ë¡ íŠ¸ì—”ë“œê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ Challenge ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ì§€ ëª»í•´ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œì &lt;/li>
&lt;/ol>
&lt;p>2ë²ˆ ë¬¸ì œëŠ” í”„ë¡ íŠ¸ì—”ë“œê°€ Controllerì—ê²Œ ìš”ì²­ì„ ë³´ë‚´ê³  5ì´ˆ ë™ì•ˆ ëŒ€ê¸°ë¥¼ ìˆ˜í–‰í•œ í›„ì— Challenge ì •ë³´ë¥¼ ì–»ìŠµë‹ˆë‹¤. ë¬¸ì œì— ë”°ë¼ì„œëŠ” ë¹Œë“œ ì‹œê°„ì´ 5ì´ˆê°€ ë„˜ì„ë•Œê°€ ìˆìŠµë‹ˆë‹¤. ì´ëŸ´ ê²½ìš°ì— í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œëŠ” ì˜¤ë¥˜ê°€ ëœ¨ì§€ë§Œ ì‹¤ì œë¡œ ChallengeëŠ” ìƒì„±ë˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ë²ˆ ëŒ€íšŒ ì´í›„ì—ëŠ” ìœ„ì˜ ë‘ ë¬¸ì œë¥¼ ìš°ì„  ê³ ì³ì•¼ í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ë©”ëª¨ë¦¬ê°€-ê³„ì†-ì¦ê°€í•œë‹¤---flask-ìµœì í™”">ë©”ëª¨ë¦¬ê°€ ê³„ì† ì¦ê°€í•œë‹¤. - Flask ìµœì í™”
&lt;/h3>&lt;p>ì‚¬ì „ ì ê²€ë•Œë„ ë§í–ˆì§€ë§Œ ë©”ëª¨ë¦¬ê°€ ì§€ì†ì ìœ¼ë¡œ ì¦ê°€í•˜ë©° ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ì½”ë“œë¥¼ ìˆ˜ì •í•´ì•¼ í•œë‹¤ê³  ë§ì”€ ë“œë ¸ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê°œì¸ì ìœ¼ë¡œ ê°€ì¥ ì‹¬ê°í•˜ê²Œ ë´¤ë˜ ë¶€ë¶„ì´ ë°”ë¡œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>CTF ëŒ€íšŒ íŠ¹ì„±ìƒ ì•„ë˜ì˜ ë¬¸ì œ íŒ¨í„´ì´ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>ë¬¸ì œ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•œ í›„ ë‹¤ë¥¸ ë„êµ¬ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•˜ì—¬ ì›¹ì‚¬ì´íŠ¸ì— ì •ë‹µë¥¼ ì…ë ¥í•œë‹¤.&lt;/li>
&lt;li>Challengeë¥¼ ìƒì„±í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•œ í›„ ì›¹ì‚¬ì´íŠ¸ì— ì •ë‹µì„ ì…ë ¥í•œë‹¤.&lt;/li>
&lt;/ol>
&lt;p>ì›¹ì‚¬ì´íŠ¸ëŠ” &amp;ldquo;ì •ë‹µ ì…ë ¥&amp;quot;ì„ ìœ„ì£¼ë¡œ í™œìš©ë©ë‹ˆë‹¤.&lt;br>
ê·¸ë ‡ë‹¤ë©´ ì‚¬ìš©ìê°€ ë¬¸ì œë¥¼ í•´ê²°í• ë•Œ ë¬¸ì œë¥¼ í‘¸ëŠ” ì‹œê°„ì´ ê¸¸ê¹Œìš”? ì…ë ¥í•˜ëŠ” ì‹œê°„ì´ ê¸¸ê¹Œìš”? &lt;strong>ë‹¹ì—° ë‹¤ë¥¸ ë„êµ¬ë¡œ ë¬¸ì œ í‘¸ëŠ” ì‹œê°„ì´ ê¹ë‹ˆë‹¤.&lt;/strong> ëŒ€íšŒë¥¼ ìš´ì˜í•˜ë©´ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ë‚˜ë¦„ ìƒìŠ¹í­ì´ ì ê³  ì•ˆì •ì ì¸ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ê°€ì§ˆ ê²ƒì´ë¼ê³  ì˜ˆìƒí–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì•„ë˜ëŠ” ì›¹ì‚¬ì´íŠ¸ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì…ë‹ˆë‹¤. ì ì§„ì ìœ¼ë¡œ ì¦ê°€í•˜ì£ ? ê°œì¸ì ìœ¼ë¡œ ë¶ˆí•„ìš”í•œ ë©”ëª¨ë¦¬ë¥¼ í™œìš©í•˜ê³  ìˆë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. (ì›¹ì‚¬ì´íŠ¸ ë¶€ë¶„ì€ í”„ë¡ íŠ¸ì™€ ë°±ì—”ë“œê°€ í•˜ë‚˜ë¡œ í•©ì³ì ¸ ìˆìŠµë‹ˆë‹¤.)&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf2025-review/image-8.png"
width="1528"
height="255"
srcset="https://s0okju.github.io/p/hexactf2025-review/image-8_hu_ccc716e859cc8814.png 480w, https://s0okju.github.io/p/hexactf2025-review/image-8_hu_6337753dbe28d392.png 1024w"
loading="lazy"
alt="ì§€ì†ì ìœ¼ë¡œ ìƒìŠ¹í•˜ëŠ” ì›¹ì‚¬ì´íŠ¸ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰"
class="gallery-image"
data-flex-grow="599"
data-flex-basis="1438px"
>&lt;/p>
&lt;p>Challenge Controller ë¶€ë¶„ë„ ë˜‘ê°™ì´ ë©”ëª¨ë¦¬ê°€ ìŒ“ì´ëŠ” ë¬¸ì œë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf2025-review/image-9.png"
width="1379"
height="250"
srcset="https://s0okju.github.io/p/hexactf2025-review/image-9_hu_43e2b824dbdf9a06.png 480w, https://s0okju.github.io/p/hexactf2025-review/image-9_hu_532cc4c6a4c9182d.png 1024w"
loading="lazy"
alt="ì§€ì†ì ìœ¼ë¡œ ìƒìŠ¹í•˜ëŠ” Challenge Controller ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰"
class="gallery-image"
data-flex-grow="551"
data-flex-basis="1323px"
>&lt;/p>
&lt;p>Flaskë¥¼ ê¹Šê²Œ ê³µë¶€í•´ì„œ ë©”ëª¨ë¦¬ ìƒìŠ¹ ì›ì¸ê³¼ í•´ê²°ì±…ì„ ì°¾ì•„ì•¼ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="challenge-ë¦¬ì†ŒìŠ¤-ìš©ëŸ‰-ì‚°ì •">Challenge ë¦¬ì†ŒìŠ¤ ìš©ëŸ‰ ì‚°ì •
&lt;/h3>&lt;p>ëŒ€íšŒ ëë‚˜ê³  ëŒ€ì‹œë³´ë“œë¥¼ ë³´ë‹ˆ Challenge ë¬¸ì œë§ˆë‹¤ ë©”ëª¨ë¦¬ ìµœëŒ€ ì‚¬ìš©ëŸ‰ì€ ì¼ì •í•©ë‹ˆë‹¤.&lt;br>
ë¬¸ì œ ë“±ë¡í• ë•ŒëŠ” Request, limitsë¥¼ ë„‰ë„‰í•˜ê²Œ 256MiB, 512MiBë¡œ ì¡ì•˜ìŠµë‹ˆë‹¤. ë‹¤ìŒë¶€í„°ëŠ” ë¬¸ì œë§ˆë‹¤ ì„¬ì„¸í•˜ê²Œ ë¦¬ì†ŒìŠ¤ ìš©ëŸ‰ë¥¼ ê³ ë ¤í•´ì•¼ í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf2025-review/image-10.png"
width="993"
height="236"
srcset="https://s0okju.github.io/p/hexactf2025-review/image-10_hu_45901eb02d5cc97a.png 480w, https://s0okju.github.io/p/hexactf2025-review/image-10_hu_39a366c043b35538.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="420"
data-flex-basis="1009px"
>&lt;/p>
&lt;p>ì €ëŠ” CPUë³´ë‹¤ ë©”ëª¨ë¦¬ ìš©ëŸ‰ì´ ìƒëŒ€ì ìœ¼ë¡œ ë¶€ì¡±í•˜ë‹¤ê³  ëŠë¼ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ìœ ì‹¬íˆ ì‚´í´ë³´ê³  ìˆìŠµë‹ˆë‹¤.&lt;br>
ì—¬ê¸°ì„œ &amp;ldquo;ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¶€ë¶„ì—ì„œëŠ” ë©”ëª¨ë¦¬ê°€ ë„ë„í•˜ë‹¤ê³  í•˜ì‹œì§€ ì•Šì•˜ë‚˜ìš”?&amp;rdquo; ë¼ê³  ë¬¼ì–´ë³¼ ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.
ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ë©€í‹° ë…¸ë“œë¥¼ êµ¬í˜„í• ë•Œ node1ì€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ê¸°íƒ€ ë„êµ¬, node2ëŠ” Challengeë¥¼ ìœ„í•œ ê³µê°„ìœ¼ë¡œ ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤. ì¦‰ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ìˆëŠ” ê³µê°„ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì¶”ê°€ë˜ì§€ ì•ŠëŠ” ë¶ˆë³€ì˜ í™˜ê²½ì´ê³ , ChallengeëŠ” ì–¸ì œ ì–´ë””ë“ ì§€ ë¦¬ì†ŒìŠ¤ê°€ ìƒì„±ë  ìˆ˜ ìˆëŠ” ê°€ë³€ì˜ í™˜ê²½ì…ë‹ˆë‹¤. ë•Œì— ë”°ë¼ì„œ ë©”ëª¨ë¦¬ê°€ ë¶€ì¡±í•  ìˆ˜ë„ ë„ë„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;br>
ì‚¬ëŒë“¤ì˜ ë¬¸ì œ í‘¸ëŠ” íŒ¨í„´ì„ ë³´ë‹ˆ Challengeë¥¼ ìƒì„±í•˜ê³  ì‚­ì œí•˜ëŠ” ê²ƒì„ ìŠìŠµë‹ˆë‹¤. ì¦‰, í•œ ì‚¬ëŒë‹¹ 2~3ê°œë¥¼ ìƒì„±í•œ í›„ ë°©ì¹˜í•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. &lt;strong>ë§Œì•½ì— 10ëª… ì´ìƒì˜ ì‚¬ëŒì´ ë§Œë“  Challengeê°€ ëª¨ë‘ ì‚´ì•„ìˆë‹¤ë©´?&lt;/strong> ì´ ë¶€ë¶„ì€ ê³ ë¯¼ì„ í•´ì•¼ë´ì•¼ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ëŒ€íšŒëŠ”-ê³„ì†ëœë‹¤">ëŒ€íšŒëŠ” ê³„ì†ëœë‹¤&amp;hellip;
&lt;/h2>&lt;p>ë‹¤ìŒ ëŒ€íšŒ ì¼ì •ì´ ì¡í˜”ìŠµë‹ˆë‹¤.
ìœ„ì˜ ë‚´ìš©ì€ ì£¼ìš” ë¬¸ì œì ì¼ ë¿ ì‹¤ì œë¡œ í¬ê³  ì‘ì€ ë‹¤ì–‘í•œ ìˆ˜ì •ì‚¬í•­ë“¤ì´ ìˆìŠµë‹ˆë‹¤. ì—´ì‹¬íˆ ìˆ˜ì •í•´ì•¼ê² ì£ ?&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf2025-review/image-11.png"
width="768"
height="398"
srcset="https://s0okju.github.io/p/hexactf2025-review/image-11_hu_227035725f5b0b9e.png 480w, https://s0okju.github.io/p/hexactf2025-review/image-11_hu_f1adf1221ccbfb04.png 1024w"
loading="lazy"
alt="ì¦ê¸°ì"
class="gallery-image"
data-flex-grow="192"
data-flex-basis="463px"
>&lt;/p></description></item><item><title>HexaCTF 7. Challenge CR ìƒíƒœ ì •ì˜ì™€ Operator ê°œë… ì •ë¦¬</title><link>https://s0okju.github.io/p/hexactf-7/</link><pubDate>Thu, 27 Feb 2025 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/hexactf-7/</guid><description>&lt;p>2025-03-04 - ë‚´ìš© ìˆ˜ì •&lt;/p>
&lt;p>ì¼ë°˜ì ìœ¼ë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ íŒŒë“œëŠ” ë¼ì´í”„ ì‚¬ì´í´ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-7/image-1.png"
width="720"
height="399"
srcset="https://s0okju.github.io/p/hexactf-7/image-1_hu_f53b648197a6a3f5.png 480w, https://s0okju.github.io/p/hexactf-7/image-1_hu_bef52eebabe97354.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://medium.com/@ollycare/a-guide-to-thekubernetes-pod-lifecycle-dc7992255001"
class="gallery-image"
data-flex-grow="180"
data-flex-basis="433px"
>&lt;/p>
&lt;p>ì´ì²˜ëŸ¼ Challenge CRë„ ìì²´ ë¼ì´í”„ ì‚¬ì´í´ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="challenge-ìƒíƒœ">Challenge ìƒíƒœ
&lt;/h2>&lt;h3 id="challenge-lifecycle">Challenge Lifecycle
&lt;/h3>&lt;p>Challengeì˜ ë¼ì´í”„ ì‚¬ì´í´ì€ í¬ê²Œ 3ê°€ì§€ í˜•íƒœë¡œ ë‚˜ë‰©ë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>None&lt;/li>
&lt;li>Running&lt;/li>
&lt;li>Error or Deleted&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-7/image.png"
width="261"
height="321"
srcset="https://s0okju.github.io/p/hexactf-7/image_hu_8c54e86c13c588f2.png 480w, https://s0okju.github.io/p/hexactf-7/image_hu_5f5d9eec313a4595.png 1024w"
loading="lazy"
alt="challenge lifecycle"
class="gallery-image"
data-flex-grow="81"
data-flex-basis="195px"
>&lt;/p>
&lt;p>&lt;strong>Challenge ë‚´ë¶€ì˜ ì¿ ë²„ë„¤í‹°ìŠ¤ ë¦¬ì†ŒìŠ¤ê°€ ì •ìƒì ìœ¼ë¡œ ìƒì„±, ì‚­ì œë˜ì—ˆëŠ”ì§€ë¥¼ ê¸°ì¤€&lt;/strong>ìœ¼ë¡œ ìƒíƒœê°€ ê²°ì •ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>Challengeì˜ ìƒíƒœê°’ì´ ë¬´ì¡°ê±´ í•„ìš”í•œ ì´ìœ ê°€ ìˆìŠµë‹ˆë‹¤. ë°”ë¡œ &lt;strong>ì°¸ê°€ìê°€ ìì‹ ì´ ì‹¤í–‰í•œ Challengeì˜ ìƒíƒœê°’&lt;/strong>ì„ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤.
ì˜ˆë¥¼ ë“¤ì–´ë³¼ê¹Œìš”? ë§Œì•½ì— ì°¸ê°€ìê°€ íŠ¹ì • ë¬¸ì œì˜ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í–ˆë‹¤ê³  ê°€ì •í–ˆìŠµë‹ˆë‹¤. ë¬´ìŠ¨ ì´ìœ ë¡œ ì„œë²„ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ê²Œ ë˜ì–´ ì•„ë˜ì™€ ê°™ì€ ì„œë²„ ìƒì„±í•˜ê¸° ë²„íŠ¼ì´ í™œì„±í™”ê°€ ë  ê²ƒì…ë‹ˆë‹¤. ì„œë²„ ìƒì„±í•˜ê¸° ë²„íŠ¼ì„ ì•„ë¬´ë¦¬ ëˆŒëŸ¬ë„ ì¿ ë²„ë„¤í‹°ìŠ¤ ìƒì—ëŠ” ì»¨í…Œì´ë„ˆê°€ ì´ë¯¸ ì¡´ì¬í•˜ë‹ˆ ê³„ì† ì˜¤ë¥˜ê°€ ëœ¨ê² ì£ ?&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-7/image-2.png"
width="410"
height="111"
srcset="https://s0okju.github.io/p/hexactf-7/image-2_hu_9c5f956acff824d4.png 480w, https://s0okju.github.io/p/hexactf-7/image-2_hu_74a0e4f73e291f27.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - CTF ì‚¬ì´íŠ¸ DreamHack ì˜ VM ì ‘ì†í•˜ê¸° ë²„íŠ¼ "
class="gallery-image"
data-flex-grow="369"
data-flex-basis="886px"
>&lt;/p>
&lt;h3 id="challengeì˜-ìƒíƒœ-êµ¬í˜„">Challengeì˜ ìƒíƒœ êµ¬í˜„
&lt;/h3>&lt;p>Kubebuilderì—ì„œ CRë¥¼ ìƒì„±í•˜ë©´ &lt;code>metatdata&lt;/code>, &lt;code>spec&lt;/code>, &lt;code>status&lt;/code> ì„¸ ê°€ì§€ í•„ë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// +kubebuilder:object:root=true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// +kubebuilder:subresource:status&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Challenge is the Schema for the challenges API.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">Challenge&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">metav1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">TypeMeta&lt;/span> &lt;span class="s">`json:&amp;#34;,inline&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">metav1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ObjectMeta&lt;/span> &lt;span class="s">`json:&amp;#34;metadata,omitempty&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Spec&lt;/span> &lt;span class="nx">ChallengeSpec&lt;/span> &lt;span class="s">`json:&amp;#34;spec,omitempty&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Status&lt;/span> &lt;span class="nx">ChallengeStatus&lt;/span> &lt;span class="s">`json:&amp;#34;status,omitempty&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ê·¸ ì¤‘ ChallengeStatusì— Challengeì— ê´€í•œ ìƒíƒœ ì •ë³´ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.(&lt;code>CurrentStatus&lt;/code>) CurrentStatusëŠ” ê°„ë‹¨í•œ êµ¬ì¡°ì²´ë¡œ ì„¤ê³„í•œ 4ê°œì˜ ìƒíƒœë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ChallengeStatus defines the observed state of Challenge.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">ChallengeStatus&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// INSERT ADDITIONAL STATUS FIELD - define observed state of cluster&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Important: Run &amp;#34;make&amp;#34; to regenerate code after modifying this file&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// StartedAt: Challenge ì‹œì‘ ì‹œê°„&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">StartedAt&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">metav1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Time&lt;/span> &lt;span class="s">`json:&amp;#34;startedAt,omitempty&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// CurrentStatus: Challenge í˜„ì¬ ìƒíƒœ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">CurrentStatus&lt;/span> &lt;span class="nx">CurrentStatus&lt;/span> &lt;span class="s">`json:&amp;#34;currentStatus,omitempty&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// isOneëŠ” ì˜ì†ì„±ì„ ë‚˜íƒ€ë‚¸ë‹¤.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// +optional&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">IsOne&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="s">`json:&amp;#34;isOne,omitempty&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Endpoint: Challengeì˜ Endpoint&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ì™¸ë¶€ì— ë…¸ì¶œë  í¬íŠ¸ ë²ˆí˜¸ê°€ ì €ì¥ë©ë‹ˆë‹¤.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Endpoint&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="s">`json:&amp;#34;endpoint,omitempty&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="operatorì˜-ë§¤ì»¤ë‹ˆì¦˜">Operatorì˜ ë§¤ì»¤ë‹ˆì¦˜
&lt;/h2>&lt;h3 id="operator-sdk-vs-kubebuilder">Operator SDK vs Kubebuilder
&lt;/h3>&lt;p>Kubernetes OperatorëŠ” ë¹„ë‹¨ Kubebuilderë§Œ ìˆëŠ” ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤. Operator SDKë„ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;a class="link" href="https://tiewei.github.io/posts/kubebuilder-vs-operator-sdk" target="_blank" rel="noopener"
>Tech-Reset - kubebuilder vs operator-sdk&lt;/a>ì˜ ë‚´ìš©ì„ ì°¸ê³ í•˜ì—¬ ì°¨ì´ì ì„ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>Operator SDKëŠ” ê¸°ë³¸ì ìœ¼ë¡œ namespace-scoped, Kubebuilder cluster-scoped&lt;/li>
&lt;li>Operator SDKëŠ” helm watcherë„ í•¨ê»˜ ë°°í¬ë˜ê¸° ë•Œë¬¸ì— Helmê³¼ í†µí•©í•˜ê¸° ìš©ì´í•˜ê³ , KubebuilderëŠ” kubernetes-sigsì˜ í”„ë¡œì íŠ¸ì™€ í†µí•©ì´ ìš©ì´í•˜ë‹¤ê³  í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>&lt;strong>ì—¬ë‹´&lt;/strong>
ìœ ëª…í•œ CNCF í”„ë¡œì íŠ¸ OperatorëŠ” ëŒ€ë¶€ë¶„ Operator SDKë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤. ìœ ëª… CNCF í”„ë¡œì íŠ¸ëŠ” Helmìœ¼ë¡œ ë°°í¬í•˜ëŠ” ê²½ìš°ê°€ ë§ì€ë° Operator SDKëŠ” ë‹¹ì—°í•œ ì„ íƒì§€ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ì•ìœ¼ë¡œ Kubebuilderë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ-ë§í•˜ëŠ”-controller">ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ë§í•˜ëŠ” Controller
&lt;/h3>&lt;p>ìš°ì„  Kubebuilderì— ì´ì•¼ê¸° í•˜ê¸° ì „ì— ê¸°ë³¸ì ì¸ ì¿ ë²„ë„¤í‹°ìŠ¤ê°€ í™œìš©í•˜ëŠ” kube-control-managerì™€ controllerì— ëŒ€í•œ ì´ì•¼ê¸°ê°€ í•„ìš”í•©ë‹ˆë‹¤.&lt;br>
ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” &lt;a class="link" href="https://kubernetes.io/docs/reference/command-line-tools-reference/kube-controller-manager/" target="_blank" rel="noopener"
>kube-control-manager&lt;/a> í†µí•´ ë‚´ì¥ controllerë“¤ì„ ì œì–´í•©ë‹ˆë‹¤.(control managerë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.) ê¸°ë³¸ì ìœ¼ë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ê°€ ê°€ì§€ê³  ìˆëŠ” ë¦¬ì†ŒìŠ¤ ìœ í˜•ì— ë”°ë¼ controllerë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ ê¸°ë³¸ ë¦¬ì†ŒìŠ¤ë§ˆë‹¤ íŠ¹ì§•ì´ ëšœë ·í•˜ê¸° ë•Œë¬¸ì— ì—­í• ì„ í™•ì‹¤íˆ ë‚˜ëˆ”ìœ¼ë¡œì¨ ìœ ì§€ë³´ìˆ˜ì„±ì´ë‚˜ í™•ì¥ì„±ì„ ë†’ì´ê¸° ìœ„í•´ ì‚¬ìš©ëœ ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;p>control manager ë‚´ë¶€ì— ìˆëŠ” controllerë“¤ì€ &lt;code>kube-apiserver&lt;/code> ì™€ í†µì‹ í•˜ëŠ” client-goë“± ë‹¤ì–‘í•œ ê³µìœ  ë””íœë˜ì‹œ(shared dependency)ë¥¼ í™œìš©í•˜ì—¬ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-7/image-3.png"
width="1384"
height="856"
srcset="https://s0okju.github.io/p/hexactf-7/image-3_hu_7f129315e919b981.png 480w, https://s0okju.github.io/p/hexactf-7/image-3_hu_e4c8c5048e670049.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://www.sobyte.net/post/2022-07/k8s-controller-manager/"
class="gallery-image"
data-flex-grow="161"
data-flex-basis="388px"
>&lt;/p>
&lt;p>ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” controllerë¥¼ ì§ì ‘ ì œì‘í•¨ìœ¼ë¡œì¨ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¨ìˆœí•˜ê²Œ ë‚´ì¥ëœ ë¦¬ì†ŒìŠ¤ì— êµ­í•œë˜ì§€ ì•Šê³  ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ í”„ë¡œì íŠ¸ë¥¼ ìˆ˜ìš©í•  ìˆ˜ ìˆì—ˆë˜ ê²ƒë„ custom controller ë•ë¶„ì¼ ê²ƒì…ë‹ˆë‹¤.&lt;br>
ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì´ˆê¸°ë¶€í„° í™•ì¥ì„±ì„ ê³ ë ¤í•˜ì—¬ ì„¤ê³„ëœ ê²ƒì¼ì§€ë„ ëª¨ë¦…ë‹ˆë‹¤. &lt;strong>ì¦‰, control-managerë¥¼ ì§ì ‘ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤ë©´ ìë™í™”ëœ ìš´ì˜, ëª¨ë‹ˆí„°ë§ ë“± ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ í™•ì¥ì‹œí‚¬ ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;h3 id="operator-controller">Operator? Controller?
&lt;/h3>&lt;p>KubebuilderëŠ” ì˜¤í¼ë ˆì´í„°ë¥¼ ë¹Œë“œí•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” ë„êµ¬ë¼ê³  ì•Œë ¤ì ¸ ìˆìŠµë‹ˆë‹¤. ì˜¤í¼ë ˆì´í„°ëŠ” CoreOSì—ì„œ ê³µê°œëœ ë””ìì¸ íŒ¨í„´ìœ¼ë¡œ, ë‹¨ì–´ ê·¸ëŒ€ë¡œ ìš´ì˜ìì˜ ì—­í• ì„ ì†Œí”„íŠ¸ì›¨ì–´ì— ìƒˆê¸´ ê°œë…ì…ë‹ˆë‹¤.&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>&lt;/p>
&lt;p>ìœ„ì˜ ì„¤ëª…ì€ ì˜¤í¼ë ˆì´í„°ëŠ” ê¸°ëŠ¥ì ì¸ ê´€ì ì—ì„œ ë°”ë¼ë³´ëŠ” ê²ƒì´ê³  &lt;strong>ê¸°ìˆ ì ìœ¼ë¡œëŠ” ìš´ì˜ ëŒ€ìƒì„ ì œì–´í•˜ëŠ” control-managerë¥¼ ì œì‘&lt;/strong>í•˜ëŠ” ê²ƒì´ë¼ê³  ë´…ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="kubebuilder-êµ¬ì¡°ì—-ëŒ€í•œ-ê°„ë‹¨í•œ-ì„¤ëª…">kubebuilder êµ¬ì¡°ì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª…
&lt;/h3>&lt;p>ìœ„ì˜ ì„¤ëª…ì„ ë³´ë©´ kubebuilder ì•„í‚¤í…ì³ë¥¼ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-7/image-4.png"
width="919"
height="826"
srcset="https://s0okju.github.io/p/hexactf-7/image-4_hu_225722d8c6f0eb82.png 480w, https://s0okju.github.io/p/hexactf-7/image-4_hu_5d7f6e3e356956f4.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - Architecture - The Kubebuilder Book"
class="gallery-image"
data-flex-grow="111"
data-flex-basis="267px"
>&lt;/p>
&lt;p>kubebuilderëŠ” &lt;strong>Controllerë¥¼ ë¹Œë“œí•˜ëŠ” í”„ë¡œê·¸ë¨&lt;/strong>ì´ë¼ê³  ë³´ë©´ ë©ë‹ˆë‹¤.
ê³µì‹ ë¬¸ì„œ ìƒì—ì„œ KubebuilderëŠ” ìœ„ì™€ ê°™ì€ êµ¬ì¡°ë¥¼ ê°€ì§€ì§€ë§Œ ì‹¤ì œ ì½”ë“œë¡œ êµ¬í˜„í•´ì•¼ í•  ë¶€ë¶„ì€ &lt;code>Manager&lt;/code>, &lt;code>Builder&lt;/code>, &lt;code>Reconciler&lt;/code> ê°€ ë©ë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>Builder : controller-runtime ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°ì‹¸ë©°, ì¼ë°˜ì ì¸ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ êµ¬ì¶•í•˜ê¸° ìœ„í•œ íŒ¨í„´ì„ ì œê³µí•œë‹¤.(&lt;a class="link" href="https://pkg.go.dev/sigs.k8s.io/controller-runtime/pkg/builder" target="_blank" rel="noopener"
>builder package ë¬¸ì„œ&lt;/a>)&lt;/li>
&lt;li>Manager : controllerë¥¼ ì œì‘í•˜ëŠ”ë° í•„ìš”í•˜ë©° client, caches, schemesë“± ì˜ ê³µìœ  ë””íœë˜ì‹œë¥¼ ì œê³µí•œë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” Manager.Startë¥¼ í˜¸ì¶œí•˜ì—¬ ì‹œì‘ë˜ì–´ì•¼ í•œë‹¤.(&lt;a class="link" href="https://pkg.go.dev/sigs.k8s.io/controller-runtime/pkg/manager" target="_blank" rel="noopener"
>manager package ë¬¸ì„œ&lt;/a> )&lt;/li>
&lt;li>Reconciler: ì¡°ì • ë™ê¸°í™” ì‘ì—…ìœ¼ë¡œ ëŒ€ìƒì˜ ìƒíƒœë¥¼ ì›í•˜ëŠ” ìƒíƒœë¡œ ì¼ì¹˜ì‹œí‚¤ëŠ” ê³¼ì •ì„ ì˜ë¯¸í•œë‹¤.&lt;/li>
&lt;/ul>
&lt;p>ëŒ€ë¶€ë¶„ì˜ ê·¸ë¦¼ì—ì„œëŠ” Builderì— ëŒ€í•œ ë‚´ìš©ì´ ì—†ëŠ”ë° ê·¸ ì´ìœ ëŠ” Operator-SDKê°€ Builderì˜ ì—­í• ì„ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
ìì„¸í•œ ì´ì•¼ê¸°ëŠ” Challenge ìƒì„±, ì‚­ì œ ë¶€ë¶„ì—ì„œ ìì„¸í•˜ê²Œ ë§ì”€ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="challenge-crë¡œ-operatorë¥¼-ì œì‘í•´ë„-ë ê¹Œ">Challenge CRë¡œ Operatorë¥¼ ì œì‘í•´ë„ ë ê¹Œ?
&lt;/h3>&lt;p>&lt;a class="link" href="https://developers.redhat.com/articles/2021/06/11/kubernetes-operators-101-part-1-overview-and-key-features#operators_extend_kubernetes_to_automate_tasks" target="_blank" rel="noopener"
>Kubernetes Operators 101 Overview | Red Hat Developer&lt;/a> ë¬¸ì„œì— ì˜í•˜ë©´ ì˜¤í¼ë ˆì´í„°ëŠ” statefulí•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì„¬ì„¸í•˜ê²Œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>While Kubernetes is great at managing stateless applications, operators are useful when you need more complex configuration details for a stateful application such as a database. A stateful workload is more difficult to manage than a stateless workload.&lt;/p>&lt;/blockquote>
&lt;p>ChallengeëŠ” &lt;strong>ìƒíƒœ ì •ë³´ê°€ ìœ ì§€ ë˜ì§€ ì•ŠëŠ” Statelessí•œ ì• í”Œë¦¬ì¼€ì´ì…˜&lt;/strong>ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ìœ„ì˜ ì„¤ëª…ì„ ë³´ë©´ ChallengeëŠ” ì˜¤í¼ë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ë©´ ì•ˆë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;br>
ì£¼ìš” í™œìš© ëŒ€ìƒì´ Statefulí•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì¼ ë¿ Statelessí•œ ë¦¬ì†ŒìŠ¤ë„ ì ìš© ê°€ëŠ¥í•˜ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤. lstioë„ statelessí•œ data planeë¥¼ ì œì–´í•œë‹¤ê³  í•©ë‹ˆë‹¤.&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup> ì˜¤í¼ë ˆì´í„°ëŠ” ìš´ì˜ìì˜ ì—­í• ì„ ì†Œí”„íŠ¸ì›¨ì–´ì— ìƒˆê¸´ ê°œë…ì„ ê°€ì§€ê³  ìˆëŠ” ë§Œí¼ ëª¨ë“  ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì ìš© ê°€ëŠ¥í•˜ê² ì£ ?&lt;/p>
&lt;h2 id="ë‹¤ìŒ-ì´ì•¼ê¸°">ë‹¤ìŒ ì´ì•¼ê¸°
&lt;/h2>&lt;p>ì˜¤í¼ë ˆì´í„°ì— ëŒ€í•´ ê³µë¶€ë¥¼ í•˜ë‹¤ë³´ë‹ˆ ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ êµ¬ì¡°ì— ëŒ€í•´ íŒŒì•…í•˜ê³  ìˆì–´ì•¼ë§Œ ì´í•´ê°€ ë˜ëŠ” ë¶€ë¶„ì´ ë§ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ ê¸°ë³¸ êµ¬ì¡°ì— ëŒ€í•´ ì¡°ì‚¬í•´ë³´ë‹ˆ ì´ë²ˆ ê¸€ì—ëŠ” í”„ë¡œì íŠ¸ì— ëŒ€í•œ ë§ì€ ì´ì•¼ê¸°ë¥¼ ë‹´ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.&lt;br>
ë‹¤ìŒ ê¸€ë¶€í„°ëŠ” kubebuilderë¥¼ í™œìš©í•˜ì—¬ Challengeë¥¼ ìƒì„±, ì‚­ì œí•  ìˆ˜ ìˆëŠ”ì§€ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;hr>
&lt;h2 id="ì°¸ê³ ">ì°¸ê³ 
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://nakamasato.medium.com/kubernetes-operator-series-3-controller-runtime-component-manager-bdaf633601a3" target="_blank" rel="noopener"
>Kubernetes Operator series 3 â€” controller-runtime component â€” Manager | by Masato Naka | Medium&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://nakamasato.medium.com/kubernetes-operator-series-4-controller-runtime-component-builder-c649c0ad2dc0" target="_blank" rel="noopener"
>Kubernetes Operator series 4â€” controller-runtime component â€” Builder | by Masato Naka | Medium&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.sobyte.net/post/2022-07/k8s-controller-manager/" target="_blank" rel="noopener"
>How kubernetes Controller Manager works - SoByte&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://kubernetes.io/docs/concepts/architecture/controller/" target="_blank" rel="noopener"
>Controllers | Kubernetes&lt;/a>&lt;/li>
&lt;/ul>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://www.sobyte.net/post/2022-07/k8s-controller-manager/" target="_blank" rel="noopener"
>How kubernetes Controller Manager works - SoByte&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://dev.gmarket.com/65" target="_blank" rel="noopener"
>ì¿ ë²„ë„¤í‹°ìŠ¤ ì˜¤í¼ë ˆì´í„° ì ìš©í•˜ê¸°&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>&lt;a class="link" href="https://tetrate.io/blog/what-is-a-service-mesh/" target="_blank" rel="noopener"
>What is a service mesh? Architecture, features &amp;amp; relation with Kubernetes&lt;/a>&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>HexaCTF 6. Kubebuilderë¥¼ í™œìš©í•œ ChallengeDefinition&amp;Challenge Type êµ¬í˜„</title><link>https://s0okju.github.io/p/hexactf-6/</link><pubDate>Fri, 24 Jan 2025 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/hexactf-6/</guid><description>&lt;h2 id="ì´ì „-ì´ì•¼ê¸°">ì´ì „ ì´ì•¼ê¸°
&lt;/h2>&lt;p>ì´ì „ ê¸€ì—ëŠ” ChallengeDefinition, Challenge ê°œë…ì„ ì •ì˜í•˜ê³  ì„¤ê³„í•˜ëŠ” ê³¼ì •ì„ ì„¤ëª…í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ì œë¶€í„° ChallengeDefinitionê³¼ Challengeì˜ ì†ì„±ì€ ë¬´ì—‡ì¸ì§€ ì½”ë“œì™€ í•¨ê»˜ ì†Œê°œí•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="challengedefinitionchallenge-êµ¬ì„±">ChallengeDefinition&amp;amp;Challenge êµ¬ì„±
&lt;/h2>&lt;p>HexaCTFëŠ” ë‘ ê°œì˜ ì¿ ë²„ë„¤í‹°ìŠ¤ CRë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>ChallengeDefinition : ë¬¸ì œ ìƒì„¸ ì •ë³´ë¥¼ ë‚˜íƒ€ë‚´ë©° ì±Œë¦°ì§€ ì •ë³´, êµ¬ì„± ë¦¬ì†ŒìŠ¤ë¥¼ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ì •ì˜í•œë‹¤.&lt;/li>
&lt;li>Challenge : ì‚¬ìš©ì(ë¬¸ì œ í’€ì´ì)ê°€ ìƒì„±í•˜ëŠ” ë¬¸ì œì˜ ë‹¨ìœ„ë¡œ ì°¸ì¡°ëœ ChallengeDefinitionì„ ê¸°ë°˜ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•˜ê³  ì‚­ì œí•œë‹¤.&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-6/image.png"
width="862"
height="492"
srcset="https://s0okju.github.io/p/hexactf-6/image_hu_8aa7f99b6fd840b5.png 480w, https://s0okju.github.io/p/hexactf-6/image_hu_dc443c05dda744a.png 1024w"
loading="lazy"
alt="ChallengeDefinition&amp;Challenge êµ¬ì„±ë„"
class="gallery-image"
data-flex-grow="175"
data-flex-basis="420px"
>&lt;/p>
&lt;p>ì´ì œë¶€í„° ê°ê°ì˜ ë¦¬ì†ŒìŠ¤ê°€ ì–´ë–¤ êµ¬ì„±ìš”ì†Œë¥¼ ê°€ì§€ê³  ìˆëŠ”ì§€ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="challenge">Challenge
&lt;/h3>&lt;p>Flask ì„œë²„ëŠ” Challenge ìƒì„± ìš”ì²­ì„ í†µí•´ ì‚¬ìš©ì ì´ë¦„(username)ê³¼ ë¬¸ì œ ë²ˆí˜¸(challenge_id) ì–»ê²Œ ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  íŒŒì´ì¬ ì¿ ë²„ë„¤í‹°ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•˜ì—¬ Challenge CRì„ ì‹¤í–‰ì‹œí‚¤ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-6/image-1.png"
width="579"
height="252"
srcset="https://s0okju.github.io/p/hexactf-6/image-1_hu_c3470e8cff99fcc3.png 480w, https://s0okju.github.io/p/hexactf-6/image-1_hu_fd596b7f452226ef.png 1024w"
loading="lazy"
alt="ëŒ€ëµì ì¸ ì‹œìŠ¤í…œ êµ¬ì„±ë„"
class="gallery-image"
data-flex-grow="229"
data-flex-basis="551px"
>&lt;/p>
&lt;p>ìš”êµ¬ì‚¬í•­ì„ ì •ì˜í•˜ìë©´ &lt;strong>ë‘ ê°œì˜ ì •ë³´ ë§Œìœ¼ë¡œë„ Challengeë¥¼ ìƒì„±í•  ìˆ˜ ìˆì–´ì•¼ í•˜ë©° ëª¨ë“  ë¬¸ì œê°€ ì‹¤í–‰ ê°€ëŠ¥í•˜ë„ë¡ ì¼ê´€ëœ êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆì–´ì•¼ í•©ë‹ˆë‹¤.&lt;/strong> ê·¸ë˜ì•¼ ì„œë²„ê°€ íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¤ëŠ” í˜•ì‹ì´ ì•„ë‹Œ Kubernetes APIì— CR ìƒì„±ì„ ìš”ì²­í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;h4 id="íŒŒì¼ì„-ë¶ˆëŸ¬ì˜¤ëŠ”-ë°©ì‹">íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë°©ì‹
&lt;/h4>&lt;p>Challengeì˜ êµ¬ì¡°ê°€ ë¬¸ì œ ìœ í˜•ë§ˆë‹¤ ë‹¤ë¥´ë©´ Challenge CR íŒŒì¼ì„ ë³„ë„ë¡œ ì €ì¥í•´ì„œ í˜¸ì¶œí•´ì•¼ í•©ë‹ˆë‹¤. íŒŒì¼ì´ ì•„ë‹ˆë”ë¼ë„ ì–´ë–»ê²Œ ë‹¤ë¥¸ì§€ë¥¼ ì €ì¥í•´ì•¼ í•  ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="êµ¬ì¡°">êµ¬ì¡°
&lt;/h3>&lt;h4 id="metadata">Metadata
&lt;/h4>&lt;ul>
&lt;li>name : ì±Œë¦°ì§€ ì´ë¦„&lt;/li>
&lt;li>namespace : Challengeë¥¼ ì‹¤í–‰ì‹œí‚¬ namespace&lt;/li>
&lt;li>labels
&lt;ul>
&lt;li>username : ì‚¬ìš©ì ì´ë¦„&lt;/li>
&lt;li>challenge_id : Challenge id&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="spec">Spec
&lt;/h4>&lt;ul>
&lt;li>definition : ChallengeDefinition ì´ë¦„&lt;/li>
&lt;/ul>
&lt;p>MetadataëŠ” go map í˜•ì‹ìœ¼ë¡œ ì´ë¤„ì ¸ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì†ì‰½ê²Œ keyë¥¼ í†µí•´ì„œ ê°’ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.
ì§ì ‘ êµ¬ì¡°ì²´ë¡œ ëª…ì‹œí•´ì•¼ í•˜ëŠ” ë¶€ë¶„ì€ ë°”ë¡œ &lt;code>Spec&lt;/code> ì…ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">ChallengeSpec&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Definition: ChallengeDefinition ì´ë¦„&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Definition&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="s">`json:&amp;#34;definition&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Kubebuilderì˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ ì½”ë“œë¥¼ CRDë¡œ ë³€í™˜ì‹œí‚¨ í›„ ì„¤ì¹˜í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. (&lt;a class="link" href="https://book.kubebuilder.io/quick-start" target="_blank" rel="noopener"
>Kubebuilder ê³µì‹ë¬¸ì„œ Quickstart&lt;/a>) ëª¨ë“  ì‘ì—…ì´ ëë‚˜ë©´ ì•„ë˜ì˜ yaml íŒŒì¼ì„ í†µí•´ Challengeë¥¼ ìƒì„±í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">apps.hexactf.io/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Challenge&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-instance-1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">apps.hexactf.io/challengeId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">apps.hexactf.io/user&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;test&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ì‚¬ìš©í•  ChallengeDefinitionì˜ ì´ë¦„&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">definition&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-basic&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì£¼ëœ ëª©í‘œëŠ” ì„œë²„ê°€ &lt;strong>ì‚¬ìš©ìì˜ Challenge&lt;/strong>ë¥¼ ë§Œë“œëŠ” ê²ƒì…ë‹ˆë‹¤. ë‹¤ì‹œ ë§í•´ ì„œë²„ê°€ ì‚¬ìš©ì ì •ë³´ê°€ ë‹´ê¸´ yaml íŒŒì¼ì„ ì„ ì–¸í•˜ê³  ì‹¤í–‰ì‹œì¼œì•¼ í•œë‹¤ëŠ” ì˜ë¯¸ì™€ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì‚¬ì „ì— ë¬¸ì œ ë“±ë¡ ê³¼ì •ì´ ìˆê¸°ì— ì‚¬ìš©ì, Challengeì— ëŒ€í•œ ê¸°ë³¸ ì •ë³´ëŠ” ì €ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
ì´í›„ì— ì„¤ëª…í•˜ê² ì§€ë§Œ definitionëŠ” ChallengeDefinitionì˜ ì´ë¦„ìœ¼ë¡œ Challengeì˜ ì´ë¦„(ì œëª©)ì— í•´ë‹¹ë©ë‹ˆë‹¤. ë‹¤ë¥¸ ë§ë¡œ &lt;strong>Challenge idë§Œìœ¼ë¡œë„ definitionì„ ì•Œ ìˆ˜ ìˆì–´ ìµœì†Œí•œì˜ ì •ë³´ë¡œ Challengeë¥¼ ìƒì„±í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl"> &lt;span class="n">user_challenge_repo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">UserChallengesRepository&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># Challenge definition ì¡°íšŒ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">challenge_definition&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ChallengeRepository&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_challenge_name&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">challenge_id&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">challenge_definition&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">raise&lt;/span> &lt;span class="n">ChallengeNotFound&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">error_msg&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;Challenge definition not found for ID: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">challenge_id&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># Challenge name ìƒì„± ë° ê²€ì¦&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">challenge_name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;challenge-&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">challenge_id&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">-&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_is_valid_k8s_name&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">challenge_name&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">raise&lt;/span> &lt;span class="n">UserChallengeCreationError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">error_msg&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;Invalid challenge name: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">challenge_name&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># Challenge manifest ìƒì„±&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">challenge_manifest&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;apiVersion&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;apps.hexactf.io/v1alpha1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;kind&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Challenge&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;metadata&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">challenge_name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;labels&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;apps.hexactf.io/challengeId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">challenge_id&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;apps.hexactf.io/user&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">username&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;spec&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;namespace&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">namespace&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;definition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">challenge_definition&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">challenge&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">custom_api&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">create_namespaced_custom_object&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">group&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;apps.hexactf.io&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">version&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;v1alpha1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">namespace&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">namespace&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">plural&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;challenges&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">body&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">challenge_manifest&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="challengedefinition">ChallengeDefinition
&lt;/h2>&lt;p>ChallengeDefinitionì€ Challengeì˜ &lt;strong>ì¸í”„ë¼ êµ¬ì„±ì„ ê¸°ìˆ í•˜ëŠ” ë¶€ë¶„&lt;/strong>ì…ë‹ˆë‹¤. &amp;ldquo;ì–´ë–¤ ì´ë¯¸ì§€ë¥¼ ì»¨í…Œì´ë„ˆë¡œ ë§Œë“¤ì–´ì„œ ì–´ë–»ê²Œ ë„¤íŠ¸ì›Œí¬ë¥¼ êµ¬ì„±í• ê±´ë°?&amp;rdquo; ë¥¼ ëª…ì‹œí•˜ëŠ” êµ¬ê°„ì…ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="êµ¬ì¡°-1">êµ¬ì¡°
&lt;/h3>&lt;h5 id="metadata-1">Metadata
&lt;/h5>&lt;ul>
&lt;li>name: ì±Œë¦°ì§€ ì´ë¦„(ì œëª©)&lt;/li>
&lt;/ul>
&lt;h5 id="spec-1">Spec
&lt;/h5>&lt;ul>
&lt;li>isOne : ì˜ì†ì„± ì—¬ë¶€ì…ë‹ˆë‹¤. ê°’ì´ Trueì¸ ê²½ìš° 1:1 ë¬¸ì œ ìœ í˜•ìœ¼ë¡œ 30ë¶„ í›„ì— ì‚­ì œë˜ì–´ì•¼ í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>component : ì¿ ë²„ë„¤í‹°ìŠ¤ ë¦¬ì†ŒìŠ¤ì¸ Deployment &amp;amp; Serviceë¥¼ í•˜ë‚˜ì˜ Componentë¡œ ì •ì˜í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;p>Component ë‚´ì— ìˆëŠ” Deployment, ServiceëŠ” ê¸°ì¡´ì˜ yaml ì„ ì–¸ í˜•ì‹ê³¼ ë™ì¼í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">apps.hexactf.io/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ChallengeDefinition&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">web-basic&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">isOne&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">components&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">web&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">deployment&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">replicas&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">nginx&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">nginx:1.25&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">containerPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="l">....&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">service&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">protocol&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TCP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">NodePort&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="challengedefinitionì€-deploymentì˜-ëª¨ë“ -í•„ë“œë¥¼-ì§€ì›í•˜ëŠ”-ê²ƒì´-ì•„ë‹ˆë‹¤">ChallengeDefinitionì€ Deploymentì˜ ëª¨ë“  í•„ë“œë¥¼ ì§€ì›í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤.
&lt;/h4>&lt;p>ì•ì„œ Component ë‚´ì— ìˆëŠ” DeploymentëŠ” ê¸°ì¡´ì˜ yaml ì„ ì–¸ í˜•ì‹ê³¼ ë™ì¼í•˜ë‹¤ê³  ë§ì”€ì„ ë“œë ¸ì§€ë§Œ ì¼ë¶€ëŠ” ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>Kubebuilderë¥¼ í™œìš©í•˜ì—¬ ì½”ë“œë¥¼ ì œì‘í• ë•Œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ë¦¬ì†ŒìŠ¤ë¥¼ í™œìš©í•©ë‹ˆë‹¤.
Serviceë¥¼ ì˜ˆë¡œ ë“¤ë©´ yamlì— ì •ì˜ëœ í•„ë“œê°€ êµ¬ì¡°ì²´ í˜•ì‹ìœ¼ë¡œ ì„ ì–¸ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ë¦¬ì†ŒìŠ¤ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ êµ¬ì¡°ì²´ë¥¼ í™œìš©í•˜ëŠ” ê²ƒì´ë¼ê³  ë³´ë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">Service&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">metav1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">TypeMeta&lt;/span> &lt;span class="s">`json:&amp;#34;,inline&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Standard object&amp;#39;s metadata.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// +optional&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">metav1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ObjectMeta&lt;/span> &lt;span class="s">`json:&amp;#34;metadata,omitempty&amp;#34; protobuf:&amp;#34;bytes,1,opt,name=metadata&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Spec defines the behavior of a service.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// +optional&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Spec&lt;/span> &lt;span class="nx">ServiceSpec&lt;/span> &lt;span class="s">`json:&amp;#34;spec,omitempty&amp;#34; protobuf:&amp;#34;bytes,2,opt,name=spec&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Most recently observed status of the service.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Populated by the system.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Read-only.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// +optional&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Status&lt;/span> &lt;span class="nx">ServiceStatus&lt;/span> &lt;span class="s">`json:&amp;#34;status,omitempty&amp;#34; protobuf:&amp;#34;bytes,3,opt,name=status&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì ì ˆí•˜ê²Œ ì‚¬ìš©í•˜ì—¬ Componentì˜ Deployment, Serviceë¥¼ ì„ ì–¸í•©ë‹ˆë‹¤.
ì´ë²ˆ í”„ë¡œì íŠ¸ì˜ ê²½ìš° ServiceëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì œê³µí•˜ëŠ” êµ¬ì¡°ì²´ë¥¼ ëª¨ë‘ ì‚¬ìš©í–ˆì§€ë§Œ DeploymentëŠ” í•„ìš”í•œ ë¶€ë¶„ë§Œ ì¶”ì¶œí•´ì„œ ì„ ì–¸í–ˆìŠµë‹ˆë‹¤.
ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì œê³µí•˜ëŠ” Deploymentë¥¼ ì‚¬ìš©í•˜ë©´ &lt;strong>Deploymentì˜ ìˆ˜ë§ì€ ì˜µì…˜ì´ í¬í•¨ëœ êµ¬ì¡°ì²´ë¥¼ Copyí•˜ëŠ” ê³¼ì •ì—ì„œ ìš©ëŸ‰ì´ ì´ˆê³¼ë˜ì–´ CRD ìƒì„±ì— ì‹¤íŒ¨í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>ChallengeDefinitionì˜ Deploymentì—ì„œëŠ” ì»¨í…Œì´ë„ˆ êµ¬ì„± ë¶€ë¶„ì¸ Containersì™€ Replicasë§Œìœ¼ë¡œ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">corev1&lt;/span> &lt;span class="s">&amp;#34;k8s.io/api/core/v1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">metav1&lt;/span> &lt;span class="s">&amp;#34;k8s.io/apimachinery/pkg/apis/meta/v1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ChallengeDefinitionSpec defines the desired state of ChallengeDefinition.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">ChallengeDefinitionSpec&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// INSERT ADDITIONAL SPEC FIELDS - desired state of cluster&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Important: Run &amp;#34;make&amp;#34; to regenerate code after modifying this file&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// IsOne: í•˜ë‚˜ë§Œ ìƒì„±í•  ê²½ìš°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Falseì¼ ê²½ìš° ì¼ì • ì‹œê°„ ë‚´ì—ì„œë§Œ ì‘ë™ëœë‹¤.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">IsOne&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="s">`json:&amp;#34;isOne,omitempty&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Components: Challengeë¥¼ êµ¬ì„±í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë“¤&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Components&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="s">`json:&amp;#34;components,omitempty&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Component ëŠ” ì´ë¦„ê³¼ ë¦¬ì†ŒìŠ¤ë¥¼ ì •ì˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">Component&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Name&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="s">`json:&amp;#34;name,omitempty&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Deployment&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">CustomDeployment&lt;/span> &lt;span class="s">`json:&amp;#34;deployment,omitempty&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Service&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">corev1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Service&lt;/span> &lt;span class="s">`json:&amp;#34;service,omitempty&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Deployment ê´€ë ¨ êµ¬ì¡°ì²´&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// CustomDeploymentSpec ëŠ” Replicasì™€ Templateì„ ì •ì˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ìì„¸í•œ ë‚´ìš©ì€ Kubernetes Deployment API ë¬¸ì„œ ì°¸ê³ &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// https://kubernetes.io/docs/concepts/workloads/controllers/deployment/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">CustomDeployment&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Spec&lt;/span> &lt;span class="nx">CustomDeploymentSpec&lt;/span> &lt;span class="s">`json:&amp;#34;spec,omitempty&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">CustomDeploymentSpec&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Replicas&lt;/span> &lt;span class="kt">int32&lt;/span> &lt;span class="s">`json:&amp;#34;replicas,omitempty&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Template&lt;/span> &lt;span class="nx">CustomPodTemplateSpec&lt;/span> &lt;span class="s">`json:&amp;#34;template,omitempty&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">CustomPodTemplateSpec&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Spec&lt;/span> &lt;span class="nx">CustomPodSpec&lt;/span> &lt;span class="s">`json:&amp;#34;spec,omitempty&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">CustomPodSpec&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Containers&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="nx">corev1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Container&lt;/span> &lt;span class="s">`json:&amp;#34;containers,omitempty&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="component-êµ¬ì„±-ì´ìœ ">Component êµ¬ì„± ì´ìœ 
&lt;/h4>&lt;p>ì´ì „ ê¸€ì—ì„œ ì–¸ê¸‰í•œ SQL Injection ì‚¬ë¡€ ê¸°ì–µë‚˜ì‹œë‚˜ìš”? ë¬¸ì œë¥¼ ë°°í¬í•˜ê¸° ìœ„í•´ì„œëŠ” server- dbê°€ í•„ìš”í•˜ë‹¤ê³  ë§ì”€ë“œë ¸ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë¬¸ì œë¥¼ ì‹¤í–‰ì‹œí‚¤ê¸° ìœ„í•´ì„œëŠ” serverëŠ” dbê°€ ì–´ë””ì— ìˆëŠ”ì§€ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤.
ì–´ë–¤ ë¬¸ì œë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ì‚¬ìš©ìê°€ ëˆ„êµ¬ì¸ì§€ ì•Œì•˜ì§€ë§Œ ì–´ë–¤ ì„œë¹„ìŠ¤ì¸ì§€ ì•Œ ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ìˆì„ê¹Œìš”? ë‹¨ìˆœíˆ Deployment, Serviceë¥¼ ë‚˜ì—´í•˜ëŠ” êµ¬ì¡°ë¼ê³  í–ˆì„ë•Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ íŠ¹ì§•ì— ë§ëŠ” prefixë¥¼ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì¼ê´€ì„±ì´ ë–¨ì–´ì§ˆ ìˆ˜ ìˆë‹¤ê³  ìƒê°í•˜ì—¬ Component ë‹¨ìœ„ë¡œ Deployment, Serviceë¥¼ ë¬¶ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h4 id="component-ë‚´-label-selector">Component ë‚´ Label Selector
&lt;/h4>&lt;p>ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ labelì€ ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤. ë¦¬ì†ŒìŠ¤ ê°„ ì—°ê²°í•´ì£¼ëŠ” ë‹¤ë¦¬ ì—­í• ì„ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ê¸°ë³¸ì ìœ¼ë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” Deploymentì˜ ë„¤íŠ¸ì›Œí¬ë¥¼ ì •ì˜í•˜ê¸° ìœ„í•´ì„œëŠ” label selectorë¥¼ í†µí•´ Serviceì™€ ì—°ê²°í•©ë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ ChallengeDefinitionì„ ì •ì˜í• ë•Œ labelì„ ì‚¬ìš©ìê°€ ì§€ì •í•´ì•¼ í• ê¹Œìš”?&lt;/p>
&lt;p>ë‹µì€ &lt;strong>Operatorê°€ ìë™ìœ¼ë¡œ ì§€ì •í•´ì¤ë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>ë¦¬ì†ŒìŠ¤ì˜ ì´ë¦„ì— ëŒ€í•´ ì´ì•¼ê¸°ë¥¼ í•´ë³´ê² ìŠµë‹ˆë‹¤.
Challengeì„ í†µí•´ ìƒì„±ëœ ë¦¬ì†ŒìŠ¤ëŠ” Challengeì˜ challenge_id, user ì •ë³´ì™€ ChallengeDefinitionì—ì„œ ì–»ì€ Component ì´ë¦„ì„ ì¡°í•©í•œ ê³ ìœ í•œ prefixë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì—­í• ì— ë”°ë¼ deploy, svcë¥¼ ì¶”ê°€ë¡œ ë¶™ì—¬ì„œ ë¦¬ì†ŒìŠ¤ì˜ ì´ë¦„ì„ ì •í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ChallengeIdentifier&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ë„ë©”ì¸ì— ë§ëŠ” ì‹ë³„ìë¥¼ ìƒì„±í•´ì£¼ëŠ” êµ¬ì¡°ì²´&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">ChallengeIdentifier&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">prefix&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">labels&lt;/span> &lt;span class="kd">map&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">NewChallengeIdentifier&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">challenge&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">hexactfproj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Challenge&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">component&lt;/span> &lt;span class="nx">hexactfproj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ChallengeIdentifier&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// prefix ìƒì„± (ë¦¬ì†ŒìŠ¤ ì´ë¦„ì— ì‚¬ìš©)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">prefix&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sprintf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;chall-%s-%s-%s&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Labels&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s">&amp;#34;apps.hexactf.io/challengeId&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">component&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Labels&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s">&amp;#34;apps.hexactf.io/user&amp;#34;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ë‹¨ì¼ ë ˆì´ë¸” ë§µ ì‚¬ìš©&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">labels&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="kd">map&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;apps.hexactf.io/instance&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">prefix&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;apps.hexactf.io/name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">component&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;apps.hexactf.io/part-of&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;apps.hexactf.io/managed-by&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;challenge-operator&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">ChallengeIdentifier&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">prefix&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">prefix&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">labels&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">labels&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">#&lt;/span> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">c&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ChallengeIdentifier&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">GetDeploymentPrefix&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">prefix&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;-deploy&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">c&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ChallengeIdentifier&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">GetServicePrefix&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">prefix&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;-svc&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ë˜í•œ Challengeë¡œë¶€í„° ìƒì„±ëœ Deployment ë¦¬ì†ŒìŠ¤ëŠ” ì•„ë˜ì™€ ê°™ì€ ë ˆì´ë¸”ì„ ì¶”ê°€ë¡œ ê°€ì§€ê²Œ ë©ë‹ˆë‹¤. ê·¸ ì¤‘ &lt;code>apps.hexactf.io/instance&lt;/code> Serviceì˜ &lt;code>selector&lt;/code> ë¡œ ì„ ì–¸í•˜ì—¬ ì„œë¡œ ì—°ê²°í•´ì¤ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">prefix&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sprintf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;chall-%s-%s-%s&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Labels&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s">&amp;#34;apps.hexactf.io/challengeId&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">component&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Labels&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s">&amp;#34;apps.hexactf.io/user&amp;#34;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ë‹¨ì¼ ë ˆì´ë¸” ë§µ ì‚¬ìš©&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">labels&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="kd">map&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;apps.hexactf.io/instance&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">prefix&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;apps.hexactf.io/name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">component&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;apps.hexactf.io/part-of&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">challenge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;apps.hexactf.io/managed-by&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;challenge-operator&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ì»´í¬ë„ŒíŠ¸-ê°„-í†µì‹ ì€-ì–´ë–»ê²Œí•´ìš”">ì»´í¬ë„ŒíŠ¸ ê°„ í†µì‹ ì€ ì–´ë–»ê²Œí•´ìš”?
&lt;/h4>&lt;p>SQL Injection ë¬¸ì œë¥¼ ë‹¤ì‹œ ìƒê°í•´ë³´ê² ìŠµë‹ˆë‹¤. ServerëŠ” ë°ì´í„°ë² ì´ìŠ¤ì™€ í†µì‹ í•˜ê¸° ìœ„í•´ì„œ ë°ì´í„°ë² ì´ìŠ¤ì˜ host ì£¼ì†Œë¥¼ ì§€ì •í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤. host ì£¼ì†Œë¥¼ ì–´ë–»ê²Œ ì•Œ ìˆ˜ ìˆì„ê¹Œìš”?&lt;/p>
&lt;ol>
&lt;li>ìë™ìœ¼ë¡œ ì°¾ì•„ì¤€ë‹¤. : ğŸ¥¹&lt;/li>
&lt;li>ì§ì ‘ ì§€ì •í•´ì¤€ë‹¤. : IaC ë„êµ¬ì²˜ëŸ¼ ì„œë¹„ìŠ¤ ì´ë¦„ì„ ì§€ì •í•´ì¤€ë‹¤. ê°€ë³€ ì¸ìë¥¼ ì‚½ì…í•  ìˆ˜ ìˆëŠ” ë¡œì§ì„ êµ¬í˜„í•´ì•¼ í•œë‹¤.&lt;/li>
&lt;li>localhostë¡œ ì„¤ì •í•œë‹¤. : ì¼ê´€ëœ hostë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.&lt;/li>
&lt;/ol>
&lt;p>ì´ê±¸ ë‹¤ë¥´ê²Œ í•´ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>ìë™ìœ¼ë¡œ ì°¾ì•„ì¤€ë‹¤. : ğŸ¥¹&lt;/li>
&lt;li>ì§ì ‘ ì§€ì •í•´ì¤€ë‹¤. : ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì˜ Serviceë¥¼ ì§€ì •í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì»´í¬ë„ŒíŠ¸ ê°„ í†µì‹ ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>localhostë¡œ ì„¤ì •í•œë‹¤. : ì»´í¬ë„ŒíŠ¸ ê°„ í†µì‹ ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. Pod ë‚´ ì—¬ëŸ¬ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ ë°°í¬í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;p>3ë²ˆì¸ &lt;strong>Pod ë‚´ì— ë‹¤ì–‘í•œ ì»¨í…Œì´ë„ˆë¥¼ ì‚½ì…í•˜ëŠ” ë°©í–¥ì„ ì„ íƒ&lt;/strong>í–ˆìŠµë‹ˆë‹¤.
ì„œë¹„ìŠ¤ë¥¼ ì§€ì›í•˜ë ¤ë©´ ChallengeDefinition êµ¬ì¡°ë¥¼ í¬ê²Œ ë°”ê¿”ì•¼ í•©ë‹ˆë‹¤. ì‹œê°„ ì—¬ìœ ë„ ì—†ì§€ë§Œ ê¸°ìˆ ì ìœ¼ë¡œ ë¶€ë‹´ì´ ë©ë‹ˆë‹¤. ë˜í•œ 2ê°œ ì´ìƒì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ì œê³µí•˜ëŠ” ê²½ìš°ëŠ” ë“œë¬¼ê³  ëŒ€ë¶€ë¶„ ì œí•œ ì‹œê°„ í›„ì— ì‚­ì œë˜ëŠ” ìœ í˜•(1:1)ì…ë‹ˆë‹¤. í˜„ì¬ë¡œì„œ ê¸‰í•œ ê¸°ëŠ¥ì€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ì œì™¸í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ë‹¤ìŒ-ì´ì•¼ê¸°">ë‹¤ìŒ ì´ì•¼ê¸°
&lt;/h2>&lt;p>ì´ë²ˆ ê¸€ì—ì„œëŠ” ChallengeDefinitionê³¼ Challenge typeì— ëŒ€í•œ êµ¬ì„± ìš”ì†Œì™€ ê´€ë ¨ ì½”ë“œë¥¼ ë³´ì—¬ë“œë ¸ìŠµë‹ˆë‹¤.
ì´ì œë¶€í„° Operator êµ¬í˜„ ì‹œì‘ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. &amp;ldquo;CRì„ ì–´ë–»ê²Œ ìƒíƒœ ê´€ë¦¬í• ë˜?&amp;ldquo;ë¥¼ êµ¬í˜„í•œ controllerë¥¼ ì œì‘í•´ì•¼ í•©ë‹ˆë‹¤.
ë‹¤ìŒ ê¸€ì—ëŠ” controller êµ¬í˜„ ë¶€ë¶„ì¸ &amp;ldquo;ìƒíƒœ ê´€ë¦¬ íŒŒíŠ¸&amp;quot;ë¡œ ì°¾ì•„ì˜¤ê² ìŠµë‹ˆë‹¤.&lt;/p></description></item><item><title>HexaCTF 5. Kubernetes CRë¥¼ í™œìš©í•œ Challenge ì„¤ê³„</title><link>https://s0okju.github.io/p/hexactf-5/</link><pubDate>Sat, 18 Jan 2025 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/hexactf-5/</guid><description>&lt;h2 id="ì´ì „-ì´ì•¼ê¸°">ì´ì „ ì´ì•¼ê¸°
&lt;/h2>&lt;p>ì´ì „ê¸€ì—ì„œëŠ” ë¬¸ì œ ì»¨í…Œì´ë„ˆ(Challenge)ì˜ íŠ¹ì§•ê³¼ ê·¸ì— ë”°ë¥¸ ìš”êµ¬ì‚¬í•­ì„ ì •ì˜í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>ì»¨í…Œì´ë„ˆ ìƒíƒœë¥¼ ì§€ì†ì ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆì–´ì•¼ í•¨&lt;/li>
&lt;li>ë‹¤ì–‘í•œ ì»¨í…Œì´ë„ˆë¥¼ í•˜ë‚˜ì˜ êµ¬ì¡°ë¡œ ì§ì ‘ ì •ì˜í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆì–´ì•¼ í•¨&lt;/li>
&lt;/ol>
&lt;p>Dockerë¡œ ìœ„ì˜ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ê²ƒì€ ê¸°ìˆ ì ì¸ í•œê³„ê°€ ìˆìœ¼ë¯€ë¡œ Kubernetesë¥¼ ì„ íƒí–ˆë‹¤ê³  ë§ì”€ë“œë ¸ìŠµë‹ˆë‹¤. Kubernetesë¥¼ í†µí•´ ì–´ë–»ê²Œ CTFë¥¼ ì œì‘í–ˆëŠ”ì§€ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="kubernetesë¥¼-ì„ íƒí•œ-ì´ìœ ">Kubernetesë¥¼ ì„ íƒí•œ ì´ìœ 
&lt;/h2>&lt;p>ê¸€ ì´ˆë°˜ì— ë‘ ê°€ì§€ì˜ ìš”êµ¬ì‚¬í•­ì€ ì¶©ì¡±ë˜ì–´ì•¼ í•œë‹¤ê³  ë§ì”€ ë“œë ¸ìŠµë‹ˆë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>
&lt;p>ì»¨í…Œì´ë„ˆ ìƒíƒœë¥¼ ì§€ì†ì ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆì–´ì•¼ í•¨
ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ì˜ ìƒíƒœë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ í™•ì¸í•˜ë©° ì˜¤ë¥˜ ë°œìƒì‹œ ì¬ì‹œì‘ì„ ìˆ˜í–‰í•˜ëŠ” íŠ¹ì§•ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ë³„ë„ì˜ êµ¬í˜„ ì—†ì´ ì§€ì†ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆ ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” ê¸°ëŠ¥ì„ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ë‹¤ì–‘í•œ ì»¨í…Œì´ë„ˆë¥¼ í•˜ë‚˜ì˜ êµ¬ì¡°ë¡œ ì§ì ‘ ì •ì˜í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆì–´ì•¼ í•¨&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-5/image.png"
width="1920"
height="1080"
srcset="https://s0okju.github.io/p/hexactf-5/image_hu_f66ec269c2b8996f.png 480w, https://s0okju.github.io/p/hexactf-5/image_hu_9fa085d9a7445b35.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://www.cncf.io/blog/2022/06/15/kubernetes-operators-what-are-they-some-examples/"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;/p>
&lt;blockquote>
&lt;p>NOTICE!
ë¬¼ë¡  ì¿ ë²„ë„¤í‹°ìŠ¤ê°€ ì‰½ë‹¤ëŠ” ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤. í˜„ì¬ë¡œì„œ ìœ„ì˜ ìš”êµ¬ì‚¬í•­ì„ ì§ì ‘ êµ¬í˜„í•œ ê²ƒë³´ë‹¤ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ í™œìš©í•˜ëŠ” ê²ƒì´ í˜„ì‹¤ì ìœ¼ë¡œ ê°€ëŠ¥í•œ ë°©ë²•ì´ë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;h2 id="challenge-ê°œë…-ì¬ì •ì˜">Challenge ê°œë… ì¬ì •ì˜
&lt;/h2>&lt;p>ê¸°ìˆ ì ì¸ ì´ì•¼ê¸°ë¥¼ ë§í•˜ê¸° ì•ì„œ ë„ë©”ì¸ ì •ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ctf-ì‚¬ìš©ì-ë¶„ë¥˜">CTF ì‚¬ìš©ì ë¶„ë¥˜
&lt;/h3>&lt;ul>
&lt;li>ëŒ€íšŒ ìš´ì˜ì
&lt;ul>
&lt;li>CTF ëŒ€íšŒ ì‚¬ì´íŠ¸ë¥¼ ìš´ì˜í•˜ëŠ” ì‚¬ëŒ&lt;/li>
&lt;li>ë¬¸ì œ ë°œìƒ ì‹œ ì¦‰ì‹œ í•´ê²°í•´ì•¼ í•¨&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ë¬¸ì œ ì¶œì œì
&lt;ul>
&lt;li>ë¬¸ì œ íŒŒì¼ì„ ì œì‘ í›„ ìš´ì˜ìì—ê²Œ ì œê³µ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ëŒ€íšŒ ì°¸ê°€ì
&lt;ul>
&lt;li>CTF ì‚¬ì´íŠ¸ì—ì„œ ì œê³µí•œ ë¬¸ì œë¥¼ í•´ê²°&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>ëŒ€íšŒ ìš´ì˜ ë°©ì‹ë§ˆë‹¤ ê° ì—­í• ì´ í•˜ëŠ” ë²”ìœ„ëŠ” ë‹¬ë¼ì§ˆ ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì €í¬ í”„ë¡œì íŠ¸ì—ì„œëŠ” ë¬¸ì œ ë“±ë¡ê³¼ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ë¥¼ ëŒ€íšŒ ìš´ì˜ìê°€ í•˜ê¸°ë¡œ ê²°ì •í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-5/image-1.png"
width="1006"
height="507"
srcset="https://s0okju.github.io/p/hexactf-5/image-1_hu_995a9d39471bf59b.png 480w, https://s0okju.github.io/p/hexactf-5/image-1_hu_8c6e4b2059596945.png 1024w"
loading="lazy"
alt="ì—­í• ì— ë”°ë¥¸ Challenge êµ¬ì„±ë„"
class="gallery-image"
data-flex-grow="198"
data-flex-basis="476px"
>&lt;/p>
&lt;h3 id="ê°œë…-ì •ì˜">ê°œë… ì •ì˜
&lt;/h3>&lt;p>ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì ìš©í•˜ê¸° ì´ì „ì— ê°œë…ì„ ë‹¤ì‹œ ì •ë¦¬í•´ë´…ì‹œë‹¤.&lt;/p>
&lt;p>ì‚¬ì „ì— ë“±ë¡í•œ ë¬¸ì œë¥¼ ì‚¬ìš©ìê°€ ì‹¤í–‰ì‹œí‚¤ê¸° ìœ„í•´ì„œëŠ” ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œìš”?&lt;br>
ë“±ë¡í•˜ëŠ” &lt;strong>ì‚¬ëŒì€ ë¬¸ì œ(Challenge) ì»¨í…Œì´ë„ˆì— ëŒ€í•œ êµ¬ì„±ì„ ì •ì˜í•˜ê³  ì‚¬ìš©ìëŠ” ê·¸ ì •ì˜í•œ ë‚´ìš©ì„ ê·¸ëŒ€ë¡œ ì‹¤í–‰ì‹œí‚¤ëŠ” ê²ƒì…ë‹ˆë‹¤.&lt;/strong> ìƒì„±ëœ ë¬¸ì œë“¤ì€ ì‚¬ìš©ì ì •ë³´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‹ë³„ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-5/image-2.png"
width="664"
height="315"
srcset="https://s0okju.github.io/p/hexactf-5/image-2_hu_3ab6201f1884f269.png 480w, https://s0okju.github.io/p/hexactf-5/image-2_hu_71bdb1956457a80c.png 1024w"
loading="lazy"
alt="Challenge ìƒì„± íŠ¹ì§•"
class="gallery-image"
data-flex-grow="210"
data-flex-basis="505px"
>&lt;/p>
&lt;p>ê·¸ë ‡ë‹¤ë©´ ë¬¸ì œë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ì„œëŠ” ìµœì¢…ì ìœ¼ë¡œ ë‘ ê°€ì§€ê°€ í•„ìš”í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>ë¬¸ì œ ì •ì˜ì„œ(ChallengeDefinition)&lt;/li>
&lt;li>ì‚¬ìš©ìì˜ ì •ë³´ê°€ í¬í•¨ëœ ë¬¸ì œ(Challenge)&lt;/li>
&lt;/ul>
&lt;p>ì´ì œë¶€í„° ë¬¸ì œ ì •ì˜ì„œì™€ ì‚¬ìš©ìê°€ í’€ì–´ì•¼ í•˜ëŠ” ë¬¸ì œë¥¼ ChallengeDefinitionê³¼ Challengeë¼ê³  ë¶€ë¥´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="crë¡œ-challengedefinitionê³¼-challenge-ì •ì˜í•˜ê¸°">CRë¡œ ChallengeDefinitionê³¼ Challenge ì •ì˜í•˜ê¸°
&lt;/h2>&lt;h3 id="í”„ë¡œì íŠ¸ì—ì„œ-kubernetes-operatorë¥¼-ì‚¬ìš©í•˜ëŠ”-ë°©ë²•">í”„ë¡œì íŠ¸ì—ì„œ Kubernetes Operatorë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•
&lt;/h3>&lt;p>Kubernetes OperatorëŠ” ì‚¬ìš©ìê°€ ì •ì˜í•œ ë¦¬ì†ŒìŠ¤(CR)ë¥¼ ê´€ë¦¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤. ì¦‰, ì˜¤í¼ë ˆì´í„°ë¥¼ ì œì‘í•œë‹¤ëŠ” ê²ƒì€ ì‚¬ìš©ìê°€ ì •ì˜í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ë£¨í”„ë¥¼ ì‹¤í–‰ì‹œí‚¤ëŠ” í”„ë¡œê·¸ë¨ì„ ì œì‘í•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;p>&lt;strong>ë¦¬ì†ŒìŠ¤ë¥¼ ëª¨ë‹ˆí„°ë§í•œë‹¤ëŠ” ê²ƒì€ ìƒíƒœë¥¼ ê´€ë¦¬í•œë‹¤ëŠ” ì˜ë¯¸ì™€ ê°™ìŠµë‹ˆë‹¤. ê·¸ ëŒ€ìƒì€ ìƒíƒœ ë¼ì´í”„ì‚¬ì´í´ì„ ê°€ì§ˆ ê²ƒì…ë‹ˆë‹¤&lt;/strong> Kubernetes Operator SDK (kubebuilder, kopf &amp;hellip;)ë¥¼ í™œìš©í•˜ì—¬ ìƒíƒœ ë¼ì´í”„ì‚¬ì´í´ì„ ì •ì˜í•˜ê³  êµ¬í˜„í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤. Kubernetes Operatorì˜ í™œìš©ì€ ìš”êµ¬ì‚¬í•­ ëª¨ë‘ ì¶©ì¡±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” Challengeì˜ Controllerë¡œì„œ Kubernetes Operatorë¥¼ êµ¬í˜„í•  ì˜ˆì •ì…ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="crcustom-resourcecrdcustom-resource-definition">CR(Custom Resource)&amp;amp;CRD(Custom Resource Definition)
&lt;/h3>&lt;p>ì§ì ‘ ì •ì˜í•œ ë¦¬ì†ŒìŠ¤ì˜ ìŠ¤í™ì„ CRD(CustomResourceDefinition)ìœ¼ë¡œ ì •ì˜í•œ í›„ ìŠ¤í™ì— ë§ê²Œ CR(CustomResource)ë¥¼ ìƒì„±í•˜ëŠ” YAMLë¥¼ ì‹¤í–‰ì‹œí‚¤ë©´ ì»¤ìŠ¤í…€ ë¦¬ì†ŒìŠ¤ë¥¼ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>CR&amp;amp;CRDì— ëŒ€í•œ ê¸°ìˆ ì ì¸ ë‚´ìš©ì€ ccamboë‹˜ì˜ &lt;a class="link" href="https://ccambo.tistory.com/entry/Kubernetes-%ED%99%95%EC%9E%A5%EC%9D%B8-CRD%EC%99%80-CR-%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC" target="_blank" rel="noopener"
>Kubernetes í™•ì¥ì¸ CRDì™€ CR ì— ëŒ€í•œ ê°œë… ì •ë¦¬&lt;/a> ë¥¼ ì°¸ê³ í•˜ì‹œê¸¸ ë°”ëë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ì›í•˜ëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ì§ì ‘ ì •ì˜í•´ì„œ ë°°í¬í•  ìˆ˜ ìˆë‹¤ëŠ” íŠ¹ì§•ì€ ìš”êµ¬ì‚¬í•­ 2ë²ˆì¸ &amp;ldquo;ë‹¤ì–‘í•œ ì»¨í…Œì´ë„ˆë¥¼ í•˜ë‚˜ì˜ êµ¬ì¡°ë¡œ ì§ì ‘ ì •ì˜í•œë‹¤&amp;quot;ë¥¼ ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.
ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” CR&amp;amp;CRDë¥¼ ì ê·¹ì ìœ¼ë¡œ í™œìš©í•  ì˜ˆì •ì…ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="challengedefinitionchallenge-ê°„ë‹¨í•˜ê²Œ-ì •ì˜í•˜ê¸°">ChallengeDefinition&amp;amp;Challenge ê°„ë‹¨í•˜ê²Œ ì •ì˜í•˜ê¸°
&lt;/h3>&lt;p>ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” ë‘ ê°œì˜ ì»¤ìŠ¤í…€ ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>ChallengeDefinition : ë¬¸ì œ ìƒì„¸ ì •ë³´ë¥¼ ë‚˜íƒ€ë‚´ë©´ ì±Œë¦°ì§€ ì •ë³´, êµ¬ì„± ë¦¬ì†ŒìŠ¤ë¥¼ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ì •ì˜í•œë‹¤. CTF ë¬¸ì œë¥¼ ë“±ë¡í• ë•Œ &lt;code>ChallengeDefinition&lt;/code>ì„ ë“±ë¡í•œë‹¤.&lt;/li>
&lt;li>Challenge : ì‚¬ìš©ì ì •ë³´ë¥¼ metadataì— ì£¼ë¡œ ì €ì¥í•˜ê³  specìœ¼ë¡œ &lt;code>ChallengeDefinition&lt;/code>ë¥¼ ì°¸ì¡°í•˜ì—¬ ì •ì˜í•œë‹¤. ì£¼ë¡œ ì‚¬ìš©ìê°€ ì±Œë¦°ì§€ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•˜ê³  ì‹¤í–‰í• ë•Œ &lt;code>Challenge&lt;/code>ë¥¼ ì •ì˜í•˜ê³  ì‹¤í–‰ì‹œí‚¨ë‹¤.&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-5/image-3.png"
width="862"
height="492"
srcset="https://s0okju.github.io/p/hexactf-5/image-3_hu_c7cc7fbe726d4d4c.png 480w, https://s0okju.github.io/p/hexactf-5/image-3_hu_ba57c42f629ce5bc.png 1024w"
loading="lazy"
alt="ChallengeDefinition&amp;Challenge êµ¬ì²´ì ì¸ êµ¬ì„±ë„"
class="gallery-image"
data-flex-grow="175"
data-flex-basis="420px"
>&lt;/p>
&lt;h4 id="ì™œ-ì €ë ‡ê²Œ-êµ¬ì„±í–ˆì„ê¹Œìš”">ì™œ ì €ë ‡ê²Œ êµ¬ì„±í–ˆì„ê¹Œìš”?
&lt;/h4>&lt;p>êµ¬ì²´ì ì¸ ì´ìœ ëŠ” ë’¤ì— êµ¬í˜„ê³¼ í•¨ê»˜ ì„¤ëª…í•  ì˜ˆì •ì…ë‹ˆë‹¤. ê°„ë‹¨í•˜ê²Œ ë§ì”€ë“œë¦¬ìë©´ &lt;strong>ëª¨ë“  ë¦¬ì†ŒìŠ¤ê°€ ì‚¬ìš©ìë§ˆë‹¤ ì‹ë³„ ê°€ëŠ¥í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/strong>&lt;br>
ì‚¬ìš©ìì˜ ê³ ìœ  ë°ì´í„°, ë¬¸ì œì˜ ê³ ìœ  ë°ì´í„°ë¥¼ ê°€ì§€ê³  ChallengeDefinitionì— ì •ì˜ëœ ë¦¬ì†ŒìŠ¤ë“¤ì´ ì„œë¡œ ì‹ë³„ ê°€ëŠ¥í•˜ë„ë¡ ì´ë¦„ì„ ì •í•  ê²ƒì…ë‹ˆë‹¤. ê·¸ë˜ì•¼ ë™ì¼í•œ ë¦¬ì†ŒìŠ¤ë”ë¼ë„ ì¶©ëŒì´ ë°œìƒí•˜ì§€ ì•Šì„ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ë‹¤ìŒ-ì´ì•¼ê¸°">ë‹¤ìŒ ì´ì•¼ê¸°
&lt;/h2>&lt;p>ì§€ê¸ˆê¹Œì§€ Challengeë¼ëŠ” ê°œë…ì„ ì¬ì •ì˜í•˜ê³  Kubernetes ì»¤ìŠ¤í…€ ë¦¬ì†ŒìŠ¤ë¡œì¨ ì–´ë–»ê²Œ êµ¬ì„±í•  ê²ƒì¸ì§€ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.&lt;br>
ë‹¤ìŒ ê¸€ì—ì„œëŠ” ì–´ë–»ê²Œ ì½”ë“œë¡œ ChallengeDefinition, Challengeë¥¼ êµ¬í˜„í–ˆëŠ”ì§€ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="reference">Reference
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://ccambo.tistory.com/entry/Kubernetes-%ED%99%95%EC%9E%A5%EC%9D%B8-CRD%EC%99%80-CR-%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC" target="_blank" rel="noopener"
>Kubernetes í™•ì¥ì¸ CRDì™€ CR ì— ëŒ€í•œ ê°œë… ì •ë¦¬&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://bcho.tistory.com/1391" target="_blank" rel="noopener"
>ê°„ë‹¨í•˜ê²Œ ì•Œì•„ë³´ëŠ” Kubernetes Operatorì˜ ê°œë…ê³¼ Kopf í”„ë ˆì„ì›&lt;/a>&lt;/li>
&lt;/ul>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>ì¿ ë²„ë„¤í‹°ìŠ¤ ì˜¤í¼ë ˆì´í„°. ì œì´ìŠ¨ ë„ë¹„ìŠ¤, ì¡°ìŠˆì•„ ìš°ë“œ ì§€ìŒ, ì—ì´ì½˜&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>HexaCTF 4. Dockerë¥¼ í™œìš©í•œ Challenge ì„¤ê³„ ë° í•œê³„ì </title><link>https://s0okju.github.io/p/hexactf-4/</link><pubDate>Thu, 16 Jan 2025 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/hexactf-4/</guid><description>&lt;ul>
&lt;li>2025.01.18: ì œëª© ìˆ˜ì •&lt;/li>
&lt;/ul>
&lt;h2 id="ctfì˜-ë¬¸ì œ-íŠ¹ì§•">CTFì˜ ë¬¸ì œ íŠ¹ì§•
&lt;/h2>&lt;h3 id="ë¬¸ì œ-ì¢…ë¥˜">ë¬¸ì œ ì¢…ë¥˜
&lt;/h3>&lt;p>Challengeë¥¼ ì–´ë–»ê²Œ êµ¬ì„±í•  ê²ƒì¸ê°€ë¥¼ ìƒê°í•˜ê¸° ì „ì— ë¬¸ì œ ë°°í¬ ê´€ì ì—ì„œ CTF ë¬¸ì œ ì¢…ë¥˜ë¥¼ íŒŒì•…í•´ì•¼ í•©ë‹ˆë‹¤.
í¬ê²Œ 5ê°€ì§€ì˜ ì¹´í…Œê³ ë¦¬ê°€ ìˆìœ¼ë©° ë¬¸ì œë¥¼ ì¶œì œí•˜ëŠ” ë°©ì‹ì€ í¬ê²Œ ë‘ ê°€ì§€ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>Live : ì‹¤ì œë¡œ ìš´ì˜ì¤‘ì¸ ì„œë²„ë¥¼ í†µí•´ ë¬¸ì œë¥¼ í‘¸ëŠ” ê²½ìš°&lt;/li>
&lt;li>File : íŒŒì¼ì„ ë‹¤ìš´ë°›ì•„ì„œ ë¬¸ì œë¥¼ í‘¸ëŠ” ê²½ìš°&lt;/li>
&lt;/ul>
&lt;p>Live ë°©ì‹ ì¤‘ì—ì„œ ë‘ ê°€ì§€ë¥¼ ë” ë‚˜ëˆŒ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>1:1 : í•œ ì‚¬ëŒë‹¹ ê³ ìœ í•œ ì„œë²„ì— ì ‘ì†í•´ì•¼ í•˜ëŠ” ê²½ìš°, ì£¼ë¡œ ìƒíƒœê°€ ìˆëŠ”(Stateful) ì• í”Œë¦¬ì¼€ì´ì…˜ ë¬¸ì œì— ì í•©&lt;/li>
&lt;li>1:N : í•˜ë‚˜ì˜ ì„œë²„ì— ì—¬ëŸ¬ ì‚¬ëŒì´ ì ‘ì†í•´ì•¼ í•˜ëŠ” ê²½ìš°, ì£¼ë¡œ ìƒíƒœê°€ ì—†ëŠ”(Stateless) ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë¬¸ì œì— ì í•©&lt;/li>
&lt;/ul>
&lt;p>ì˜ˆë¥¼ í•œë²ˆ ë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤.
ë‹¨ìˆœí•˜ê²Œ nginx, serverë¡œë§Œ êµ¬ì„±ëœ ê°„ë‹¨í•œ XSS ë¬¸ì œê°€ ìˆë‹¤ê³  ìƒê°í•´ë´…ì‹œë‹¤.&lt;br>
ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‚½ì…í•´ ì•…ì˜ì ì¸ í–‰ìœ„ë¥¼ í•˜ëŠ” ê³µê²© ë°©ë²•ì…ë‹ˆë‹¤.&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup> XSS CTF ë¬¸ì œì—ì„œëŠ” ì˜ë„í•œ ì•…ì˜ì ì¸ í–‰ìœ„ë¥¼ ìˆ˜í–‰í•˜ë©´ í”Œë˜ê·¸ë¥¼ ë°˜í™˜í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;br>
ì´ë•Œ ì—¬ëŸ¬ ì‚¬ëŒë“¤ì´ ë™ì¼í•œ XSS ë¬¸ì œ ì‚¬ì´íŠ¸ ì ‘ì†í–ˆì„ë•Œ ì„œë¡œ ì˜í–¥ì„ ë°›ì„ê¹Œìš”? ê·¸ë ‡ì§€ ì•ŠìŠµë‹ˆë‹¤. ì‚¬ìš©ìëŠ” ìì‹ ë§Œì˜ ë…ë¦½ì ì¸ í™˜ê²½ì—ì„œ nginxê°€ ë°˜í™˜í•˜ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ì„œë¡œ ì˜í–¥ì„ ë°›ì§€ ì•Šê²Œ ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ëŸ° ë¬¸ì œ ìœ í˜•ì€ ìœ„ì—ì„œ ë§í•œ 1:N ë°©ì‹ì„ ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>SQL Injection ë¬¸ì œë¥¼ ìƒê°í•´ë´…ì‹œë‹¤.
SQL Injectionì„ ì‹œë„í•˜ê¸° ìœ„í•´ ë‹¤ì–‘í•œ ëª…ë ¹ì–´ë¥¼ ì‹œë„í•˜ê²Œ ë©ë‹ˆë‹¤. ê·¸ ê³¼ì •ì—ì„œ ë¬¸ì œë¥¼ í•´ê²°í•œ ì‚¬ëŒì˜ ë°ì´í„°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤. ì´ëŠ” ëŒ€íšŒì— í° ì˜í–¥ì„ ì£¼ê¸° ë•Œë¬¸ì— ì‚¬ìš©ìë§ˆë‹¤ ê²©ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.(ì„œë¡œ ë…ë¦½ëœ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê°€ì ¸ì•¼ í•©ë‹ˆë‹¤.) ì´ëŸ° ë¬¸ì œ ìœ í˜•ì€ ìœ„ì—ì„œ ë§í•œ 1:1 ë°©ì‹ì„ ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-4/image.png"
width="670"
height="592"
srcset="https://s0okju.github.io/p/hexactf-4/image_hu_67fc72af7361ccf5.png 480w, https://s0okju.github.io/p/hexactf-4/image_hu_89283d698eddbe03.png 1024w"
loading="lazy"
alt="CTF ë¬¸ì œ êµ¬ì„±ë„"
class="gallery-image"
data-flex-grow="113"
data-flex-basis="271px"
>&lt;/p>
&lt;h3 id="ì£¼ëª©í• ë§Œí•œ-íŠ¹ì§•">ì£¼ëª©í• ë§Œí•œ íŠ¹ì§•
&lt;/h3>&lt;p>Live 1:1 ì„œë¹„ìŠ¤ëŠ” ìì› ë‚­ë¹„ë¥¼ ìµœì†Œí™”í•˜ê¸° ìœ„í•´ ë¬¸ì œê°€ ì‹¤í–‰ëœì§€ 30ë¶„ í›„ì— ìë™ìœ¼ë¡œ ì‚­ì œê°€ ë©ë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ CTF ë¬¸ì œ í’€ì´ ì‚¬ì´íŠ¸ëŠ” íŠ¹ì • ë¬¸ì œì— ì œí•œ ì‹œê°„ì„ ë‘ëŠ” ë“± ë§ì´ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>Live 1:1 ì„œë¹„ìŠ¤ : ì‹¤í–‰í•œì§€ 30ë¶„ì´ ì§€ë‚˜ë©´ ì‚­ì œë˜ì–´ì•¼ í•œë‹¤.&lt;/li>
&lt;/ul>
&lt;p>CTF ëŒ€íšŒë¥¼ ë§ì´ ê²½í—˜í•´ë³¸ ì¹œêµ¬ì—ê²Œ ì œí•œ ì‹œê°„ì„ ê±¸ì–´ë‘ëŠ” ê²ƒì— ëŒ€í•´ ì˜ê²¬ì„ ë‚˜ëˆˆ ì ì´ ìˆìŠµë‹ˆë‹¤. ì¹œêµ¬ê°€ ë§í•˜ê¸¸ ì¤‘ê°„ì— ì‹œê°„ ë§Œë£Œë¡œ ë¬¸ì œ ì‚¬ì´íŠ¸ê°€ ë‹¤ìš´ë˜ë”ë¼ë„ ì¼ë°˜ì ì¸ í˜„ìƒìœ¼ë¡œ ë°›ì•„ë“¤ì¸ë‹¤ê³  í•©ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ë¬¸ì œ-ì»¨í…Œì´ë„ˆ-ì´ˆê¸°-êµ¬ì„±-1---docker-ì‚¬ìš©">ë¬¸ì œ ì»¨í…Œì´ë„ˆ ì´ˆê¸° êµ¬ì„± (1) - Docker ì‚¬ìš©
&lt;/h2>&lt;p>Python Docker SDKë¥¼ í™œìš©í•´ì„œ ë„ì»¤ë¥¼ ìƒì„±í•˜ê³  ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ˆê¸°ì—ëŠ” ê°„ë‹¨í•˜ê²Œ Docker SDKë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì„ ì±„íƒí–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ì»¨í…Œì´ë„ˆì˜-ë¬´í•œ-ì¦ì‹ì„-ë§‰ì•„ë¼">ì»¨í…Œì´ë„ˆì˜ ë¬´í•œ ì¦ì‹ì„ ë§‰ì•„ë¼
&lt;/h3>&lt;p>ë™ì¼í•œ í”„ë¡œì íŠ¸ë¥¼ ìˆ˜í–‰í•œ ë™ì•„ë¦¬ì›ì„ ë§Œë‚˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. í”„ë¡œì íŠ¸ ê´€ë ¨ëœ ì´ì•¼ê¸°ë¥¼ í•˜ë‹¤ê°€ &lt;strong>ì»¨í…Œì´ë„ˆì˜ ë¬´í•œ ì¦ì‹ìœ¼ë¡œ ì¸í•œ ì„œë²„ ê³¼ë¶€í•˜ í˜„ìƒ í•´ê²°ì´ í•„ìš”í•˜ë‹¤ëŠ” ì˜ê²¬ì„ ë°›ì•˜ìŠµë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>ì œê°€ ì˜ˆìƒí•œ ë¬¸ì œì˜ ì›ì¸ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>ë¬¸ì œ ìƒì„±ì„ ìš”ì²­í• ë•Œ ë¬¸ì œ ì»¨í…Œì´ë„ˆ ì‹¤í–‰ ìƒíƒœë¥¼ ê²€ì¦í•˜ì§€ ì•Šê±°ë‚˜ ì €ì¥ëœ ìƒíƒœì™€ ì‹¤ì œ ìƒíƒœì— ë¶ˆì¼ì¹˜ê°€ ë°œìƒí–ˆë‹¤.&lt;/li>
&lt;li>ì»¨í…Œì´ë„ˆ ì´ë¦„ì— ì‚¬ìš©ì ì‹ë³„ê°’ + ë‚œìˆ˜ê°€ ì„ì—¬ ìˆë‹¤.&lt;/li>
&lt;/ol>
&lt;p>ë¬¸ì œ ìƒì„±ì„ ìš”ì²­í• ë•Œ ë¬¸ì œ ì»¨í…Œì´ë„ˆ ì‹¤í–‰ ìƒíƒœë¥¼ ê²€ì¦í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ë°ì´í„°ë² ì´ìŠ¤ì— ê°’ì„ ì €ì¥í•˜ë©´ ë©ë‹ˆë‹¤. &lt;strong>ë¬¸ì œëŠ” ì €ì¥ëœ ìƒíƒœì™€ ì‹¤ì œ ìƒíƒœì— ë¶ˆì¼ì¹˜ê°€ ë°œìƒì„ ì–´ë–»ê²Œ í•´ê²°í•  ê²ƒì¸ê°€ ì…ë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-4/image-1.png"
width="790"
height="742"
srcset="https://s0okju.github.io/p/hexactf-4/image-1_hu_b1127a67be3ee039.png 480w, https://s0okju.github.io/p/hexactf-4/image-1_hu_4e379ba41e41ca26.png 1024w"
loading="lazy"
alt="Docker ì„œë²„ êµ¬ì„±ë„"
class="gallery-image"
data-flex-grow="106"
data-flex-basis="255px"
>&lt;/p>
&lt;h3 id="ìƒíƒœ-ë¶ˆì¼ì¹˜-í•´ê²°ë°©ì•ˆì€-ê°„ë‹¨í•˜ì§€ë§Œ-êµ¬í˜„í•˜ê¸°-ì–´ë µë‹¤">ìƒíƒœ ë¶ˆì¼ì¹˜ í•´ê²°ë°©ì•ˆì€ ê°„ë‹¨í•˜ì§€ë§Œ êµ¬í˜„í•˜ê¸° ì–´ë µë‹¤.
&lt;/h3>&lt;p>ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ëœ ìƒíƒœì™€ ì‹¤ì œ ìƒíƒœì˜ ë¶ˆì¼ì¹˜ë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•ì€ &lt;strong>ì£¼ê¸°ì ìœ¼ë¡œ ëŒ€ìƒì„ í™•ì¸&lt;/strong>í•˜ëŠ” ê²ƒì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤.
ë‹¨ìˆœí•˜ê²Œ í•˜ë‚˜ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ë§Œ ì£¼ê¸°ì ìœ¼ë¡œ ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì€ ë¹„êµì  êµ¬í˜„ì´ ì‰½ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì»¨í…Œì´ë„ˆê°€ ì—¬ëŸ¬ê°œì¸ ê²½ìš°ì—ëŠ” ë³‘ë ¬ ì²˜ë¦¬ë¡œ ì¸í•´ êµ¬í˜„ ë‚œì´ë„ê°€ ì˜¬ë¼ê°€ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-4/image-2.png"
width="700"
height="250"
srcset="https://s0okju.github.io/p/hexactf-4/image-2_hu_a7edf729cd76099f.png 480w, https://s0okju.github.io/p/hexactf-4/image-2_hu_a102f2d1a2858878.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://kwahome.medium.com/concurrency-is-not-parallelism-a5451d1cde8d"
class="gallery-image"
data-flex-grow="280"
data-flex-basis="672px"
>&lt;/p>
&lt;p>ìƒíƒœ ë¶ˆì¼ì¹˜ë¥¼ í™•ì¸í•´ì•¼ í•˜ëŠ” ëŒ€ìƒì€ Liveì´ë©´ì„œ í•œì‚¬ëŒë‹¹ í•˜ë‚˜ì˜ ì»¨í…Œì´ë„ˆê°€ ë°°í¬ë˜ì–´ì•¼ í•˜ëŠ” 1:1 ì„œë¹„ìŠ¤ì¼ ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ°ë° ì‹œê°„ ë§Œë£Œë¡œ ì¸í•´ ë¬¸ì œ ì»¨í…Œì´ë„ˆëŠ” ìì£¼ ì‚­ì œë˜ê³  ìƒì„±ë©ë‹ˆë‹¤. 2ê°œì˜ 1:1 ë¬¸ì œë¥¼ ì¶œì œí•œë‹¤ê³  ê°€ì •í–ˆì„ë•Œ 10ëª…ì´ ë¬¸ì œì— ì ‘ì†í•œë‹¤ê³  í•œë‹¤ë©´ ì»¨í…Œì´ë„ˆì˜ ì´í•©ì€ ì ˆëŒ€ ì‘ì€ ìˆ«ìëŠ” ì•„ë‹™ë‹ˆë‹¤.&lt;br>
ì´ëŸ¬í•œ ìƒí™©ì—ì„œ í•œì •ëœ ìì› ë‚´ì— ì¼ë°˜ì ì¸ ë°©ë²•(ìˆœì°¨ì )ìœ¼ë¡œ ì„œë¹„ìŠ¤ë¥¼ ì°¾ê³  ëŒ€ìƒì„ ì§€ì†ì ìœ¼ë¡œ í™•ì¸í•˜ëŠ” ê²ƒì€ ë¹„íš¨ìœ¨ì ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ë³‘ë ¬ì²˜ë¦¬ ë˜ëŠ” ë™ì‹œì„± ì²˜ë¦¬ë¥¼ í†µí•´ íš¨ìœ¨ì„±ì„ ë†’ì´ëŠ” ì‘ì—…ì´ í•„ìš”í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ì»¨í…Œì´ë„ˆ-íŒ¨í‚¤ì§€-ë¬¸ì œ">ì»¨í…Œì´ë„ˆ íŒ¨í‚¤ì§€ ë¬¸ì œ
&lt;/h3>&lt;p>SQL Injection ë¬¸ì œë¥¼ ì¶œì œí•œë‹¤ê³  ê°€ì •í•˜ê² ìŠµë‹ˆë‹¤. nginx, server, db ì»¨í…Œì´ë„ˆ 3ê°œê°€ í•„ìš”í•˜ê²Œ ë©ë‹ˆë‹¤. ê´€ë¦¬í•˜ëŠ” ì‚¬ëŒ ì…ì¥ì—ì„œëŠ” 3ê°œë¥¼ ì¼ê´„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì…ë‹ˆë‹¤.&lt;br>
ì´ì™€ ê°™ì€ ê¸°ëŠ¥ì„ í•˜ëŠ” ê²ƒì´ docker-composeì…ë‹ˆë‹¤. docker-composeë¥¼ ì‚¬ìš©í•˜ì—¬ ì—¬ëŸ¬ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ í•˜ë‚˜ì˜ ì„œë¹„ìŠ¤ë¡œ êµ¬ì„±í•´ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-4/image-3.png"
width="800"
height="262"
srcset="https://s0okju.github.io/p/hexactf-4/image-3_hu_cccb9a68fdafc357.png 480w, https://s0okju.github.io/p/hexactf-4/image-3_hu_9d1be009d35bf0af.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://dev.to/arif_hossain/introduction-to-docker-compose-ddh"
class="gallery-image"
data-flex-grow="305"
data-flex-basis="732px"
>&lt;/p>
&lt;p>ê·¸ëŸ¬ë‚˜ ë³„ë„ì˜ íŒŒì´ì¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì œê³µë˜ì§€ ì•Šê³  subprocessì— ëª…ë ¹ì–´ í˜•íƒœë¡œ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤. êµ¬í˜„í•˜ë”ë¼ë„ ì˜ ì•ˆë˜ëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤.&lt;br>
ì‚¬ìš©ìë§ˆë‹¤ ê³ ìœ í•œ ì»¨í…Œì´ë„ˆë¥¼ ê°€ì ¸ì•¼ í•œë‹¤ëŠ” ê²ƒì€ ë‹¤ë¥¸ ë§ë¡œ ê°ê° ê³ ìœ í•œ ì»¨í…Œì´ë„ˆ ì´ë¦„ì„ ê°€ì ¸ì•¼ í•œë‹¤ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤. ê²°êµ­ ì¼ë°˜ì ì¸ docker-compose ë§Œìœ¼ë¡œëŠ” ë¬¸ì œ ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“œëŠ”ë° í•œê³„ê°€ ìˆìœ¼ë©° ì›í™œí•œ ì²˜ë¦¬ë¥¼ ìœ„í•´ì„œëŠ” ì§ì ‘ êµ¬ì¡°ë¥¼ ì •ì˜í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ìš”êµ¬ì‚¬í•­">ìš”êµ¬ì‚¬í•­
&lt;/h3>&lt;ol>
&lt;li>ì»¨í…Œì´ë„ˆ ìƒíƒœë¥¼ ì§€ì†ì ìœ¼ë¡œ í™•ì¸&lt;/li>
&lt;li>ë‹¤ì–‘í•œ ì»¨í…Œì´ë„ˆë¥¼ í•˜ë‚˜ì˜ êµ¬ì¡°ë¡œ ì§ì ‘ ì •ì˜í•˜ê³  ê´€ë¦¬&lt;/li>
&lt;/ol>
&lt;p>ìœ„ì˜ ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±í•˜ê¸° ìœ„í•´ì„œëŠ” ê¸°ëŠ¥ì„ ì²˜ìŒë¶€í„° êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.
ì‹œê°„ì´ ë§ì´ ì†Œìš”ë˜ë©° ê¶ê·¹ì ì¸ ëª©í‘œì¸ CTF ëŒ€íšŒ ê°œìµœì™€ ë©€ì–´ì§ˆ ìˆ˜ ìˆë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ë‹¤ìŒí™”---kubernetes-ì‚¬ìš©">ë‹¤ìŒí™” - Kubernetes ì‚¬ìš©
&lt;/h2>&lt;p>ì§€ê¸ˆê¹Œì§€ CTF ë¬¸ì œ ì»¨í…Œì´ë„ˆë¥¼ dockerë¡œ ì„¤ê³„í•˜ë©´ì„œ ëŠë‚€ í•œê³„ì ì— ëŒ€í•´ ì„¤ëª…í–ˆìŠµë‹ˆë‹¤.&lt;br>
íŒ€ì›ë“¤ê³¼ ìƒì˜í•´ë³¸ ê²°ê³¼ dockerë§Œìœ¼ë¡œëŠ” ìš°ë¦¬ê°€ ì›í•˜ëŠ” ê¸°ìˆ ì„ êµ¬í˜„í•  ìˆ˜ ì—†ë‹¤ê³  ê²°ë¡ ì„ ì§€ì—ˆìŠµë‹ˆë‹¤. ê·¸ ëŒ€ì‹  ì£¼ê¸°ì ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ì˜ ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©° CRë¥¼ í†µí•´ ì»¤ìŠ¤í…€ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ ì •ì˜í•  ìˆ˜ ìˆëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì„ íƒí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;br>
ë‹¤ìŒ ê¸€ì—ì„œëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ í†µí•´ ì–´ë–»ê²Œ ì„¤ê³„í–ˆëŠ”ì§€ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://www.skshieldus.com/blog-security/security-trend-idx-06" target="_blank" rel="noopener"
>XSS(í¬ë¡œìŠ¤ ì‚¬ì´íŠ¸ ìŠ¤í¬ë¦½íŠ¸)ë€? ê³µê²© ìœ í˜•ë¶€í„° ë³´ì•ˆëŒ€ì±…ê¹Œì§€! | SKì‰´ë”ìŠ¤&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>ì„œë²„ ì´ì•¼ê¸°. Kolla-ansible ë¥¼ í™œìš©í•œ ê¸°ë³¸ Openstack ë¡œê¹… ëŒ€ì‹œë³´ë“œ êµ¬ì„±</title><link>https://s0okju.github.io/p/server-story/</link><pubDate>Wed, 15 Jan 2025 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/server-story/</guid><description>&lt;p>í´ë¼ìš°ë“œ ë¡œê·¸ ê´€ë¦¬ ì‚¬ë¡€ë¥¼ ë³´ë©´ì„œ ë¬¸ë“ ìš´ì˜ ì¤‘ì¸ Openstack ì„œë²„ì— ë¡œê·¸ê°€ ì–¼ë§ˆë‚˜ ìŒ“ì˜€ëŠ”ì§€ ê¶ê¸ˆí•´ì¡ŒìŠµë‹ˆë‹¤. ì§€ê¸ˆë¶€í„° ê·¸ ê³¼ì •ì„ ì•Œì•„ê°€ë³´ëŠ” ì‹œê°„ì„ ê°€ì§€ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="opensearchë€">Opensearchë€?
&lt;/h2>&lt;p>Elasticsearch ê¸°ë°˜ ì˜¤í”ˆì†ŒìŠ¤ ê²€ìƒ‰ ì—”ì§„ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤. ê²€ìƒ‰ ë° ë¶„ì„ì„ ìœ„í•œ ê°•ë ¥í•œ ë„êµ¬ë¥¼ ì œê³µí•˜ë©° ê¸°ì¡´ì˜ Elasticsearchì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
Elasticsearchê°€ ì œí’ˆì˜ ë¼ì´ì„¼ìŠ¤ë¥¼ ë³€ê²½í•˜ë©´ì„œ Amazonì´ ê¸°ì¡´ í”„ë¡œì íŠ¸ë¥¼ forkí•˜ì—¬ OpenSearchë¥¼ ë§Œë“¤ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. &lt;a class="link" href="https://www.elastic.co/kr/elasticsearch/opensearch" target="_blank" rel="noopener"
>Elasticsearch ì¸¡ì—ì„œ OpenSearchì™€ Elasticsearch ë¹„êµí•œ ê¸€&lt;/a>ì´ ìˆìœ¼ë‹ˆ ì°¸ê³  ë°”ëë‹ˆë‹¤.&lt;/p>
&lt;h2 id="opensearch-ì„¤ì¹˜">Opensearch ì„¤ì¹˜
&lt;/h2>&lt;p>Kolla-ansibleì€ Openstackë¥¼ êµ¬ì„±í•˜ê¸° ìœ„í•œ ë‹¤ì–‘í•œ ë°°í¬ ë„êµ¬ì…ë‹ˆë‹¤. Ansibleë¥¼ í™œìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆ í˜•íƒœë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ìì„¸í•œ ì‚¬í•­ì€ &lt;a class="link" href="https://docs.openstack.org/kolla-ansible/latest/reference/logging-and-monitoring/central-logging-guide.html" target="_blank" rel="noopener"
>ê³µì‹ë¬¸ì„œ&lt;/a>ë¥¼ ì°¸ê³ í•˜ê¸¸ ë°”ëë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ê¸°ë³¸ì ìœ¼ë¡œ ì¤‘ì•™ ë¡œê¹… ë„êµ¬ë¡œ Opensearchë¥¼ ì§€ì›í•´ì¤ë‹ˆë‹¤. &lt;code>globals.yaml&lt;/code> ì— ì„¤ì •ê°’ì„ ìˆ˜ì •í•˜ê³  ë‹¤ì‹œ ë°°í¬í•˜ë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">enable_central_logging&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;yes&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ì‹œê°í™”">ì‹œê°í™”
&lt;/h2>&lt;blockquote>
&lt;p>ì¸í„°ë„·ì—ì„œ OpenSearch ì‚¬ìš©ë²•ê³¼ ê´€ë ¨ëœ ê¸€ì„ ê²€ìƒ‰í•˜ë©´ ìƒê°ë³´ë‹¤ ê²€ìƒ‰ ê²°ê³¼ê°€ ì ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ OpenSearch ëŒ€ì‹  Kibanaë¡œ ê²€ìƒ‰í•˜ë©´ ë§ì€ ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ë¡œê·¸ ë°ì´í„°ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ë‘ ê°œì˜ ê·¸ë˜í”„ë¥¼ ì‹œê°í™” í•  ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>Log Level ë¶„í¬ë„&lt;/li>
&lt;li>ì‹œê°„ì— ë”°ë¥¸ ë¡œê·¸ ì´ ê°œìˆ˜&lt;/li>
&lt;/ol>
&lt;h3 id="log-level-ë¶„í¬ë„">Log Level ë¶„í¬ë„
&lt;/h3>&lt;p>Log Level ë¶„í¬ë„ëŠ” ë‹¤ë¥¸ ì˜ë¯¸ë¡œ ê°ê°ì˜ Log Levelì˜ ì´ ê°œìˆ˜ë¥¼ í•˜ë‚˜ì˜ ê·¸ë˜í”„ì— í‘œí˜„í•˜ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ Metricsì˜ ì§‘ê³„ ê¸°ì¤€ì„&lt;code>Count&lt;/code>ë¡œ ì¡ì•˜ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-story/image.png"
width="684"
height="249"
srcset="https://s0okju.github.io/p/server-story/image_hu_2b525b1d4fb5f146.png 480w, https://s0okju.github.io/p/server-story/image_hu_d157cc10744868ed.png 1024w"
loading="lazy"
alt="Log Level Metrics"
class="gallery-image"
data-flex-grow="274"
data-flex-basis="659px"
>&lt;/p>
&lt;p>&lt;code>log_level.keyword&lt;/code> ìš©ì–´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê·¸ë£¹í™”í•´ì¤ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-story/image-1.png"
width="676"
height="559"
srcset="https://s0okju.github.io/p/server-story/image-1_hu_473e3bd1bcc22f94.png 480w, https://s0okju.github.io/p/server-story/image-1_hu_d99f496f36efc091.png 1024w"
loading="lazy"
alt="Log Level Buckets"
class="gallery-image"
data-flex-grow="120"
data-flex-basis="290px"
>&lt;/p>
&lt;p>ì•„ë˜ì™€ ê°™ì€ ë¶„í¬ë„ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-story/image-2.png"
width="1178"
height="649"
srcset="https://s0okju.github.io/p/server-story/image-2_hu_3638ef6514cfe6c1.png 480w, https://s0okju.github.io/p/server-story/image-2_hu_ade719b1ddb62cfc.png 1024w"
loading="lazy"
alt="Log Levelë³„ ë¶„í¬ë„ ê²°ê³¼"
class="gallery-image"
data-flex-grow="181"
data-flex-basis="435px"
>&lt;/p>
&lt;h3 id="ì‹œê°„ì—-ë”°ë¥¸-ë¡œê·¸-ì´-ê°œìˆ˜">ì‹œê°„ì— ë”°ë¥¸ ë¡œê·¸ ì´ ê°œìˆ˜
&lt;/h3>&lt;p>ì‹œê°„ ìˆœì„œëŒ€ë¡œ ì§‘ê³„ê°€ ë˜ì–´ì•¼ í•˜ë©´ì„œ ë§¤ì¼ ìƒì„±ë˜ëŠ” ë¡œê·¸ ì´í•©ê³¼ ëˆ„ì  ë¡œê·¸ ì´í•©ì´ êµ¬ë¶„ë˜ë©´ì„œ ë³´ì—¬ì•¼ í•©ë‹ˆë‹¤.
Area Chartë¡œ ì„¤ì •í•˜ì—¬ ì‹œê°í™”ë¥¼ ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤.
í¬ê²Œ ë‘ ê°€ì§€ê°€ í•„ìš”í•˜ë¯€ë¡œ ì§‘ê³„ ê¸°ì¤€ì„ Count, Cumulative Sumìœ¼ë¡œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-story/image-3.png"
width="587"
height="511"
srcset="https://s0okju.github.io/p/server-story/image-3_hu_f77d1489183e4e02.png 480w, https://s0okju.github.io/p/server-story/image-3_hu_6a98bb42a19c6c58.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="114"
data-flex-basis="275px"
>&lt;/p>
&lt;p>í•˜ë£¨ ë‹¨ìœ„ë¡œ ë°ì´í„°ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆë„ë¡ Bucketë¥¼ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-story/image-4.png"
width="595"
height="478"
srcset="https://s0okju.github.io/p/server-story/image-4_hu_f93e3ca4a834fe83.png 480w, https://s0okju.github.io/p/server-story/image-4_hu_a4844cdf7b20ce9f.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="124"
data-flex-basis="298px"
>&lt;/p>
&lt;p>ëŒ€ëµ 2ì£¼ì¹˜ ë¡œê·¸ì˜ ëˆ„ì  ê°œìˆ˜ë¥¼ í™•ì¸í–ˆìŠµë‹ˆë‹¤. 7,000,000ê°œê°€ ë„˜ì–´ê°€ëŠ” ê²ƒì„ ë³´ê³  ë§ì´ ë†€ëìŠµë‹ˆë‹¤. ì €ì¥ ê³µê°„ì— ë¶ˆí•„ìš”í•œ ë¡œê·¸ë“¤ì´ ìŒ“ì´ëŠ” ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆê³  ê´€ë¦¬ ë°©ì•ˆì„ ìƒê°í•´ì•¼ í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-story/image-5.png"
width="1167"
height="686"
srcset="https://s0okju.github.io/p/server-story/image-5_hu_67f063547618ecb7.png 480w, https://s0okju.github.io/p/server-story/image-5_hu_3d808c3137b13c79.png 1024w"
loading="lazy"
alt="ëˆ„ì  ë¡œê·¸ í•©ê³„ ê·¸ë˜í”„"
class="gallery-image"
data-flex-grow="170"
data-flex-basis="408px"
>&lt;/p>
&lt;h2 id="ë¡œê·¸-ê´€ë¦¬-ë°©ì•ˆ">ë¡œê·¸ ê´€ë¦¬ ë°©ì•ˆ
&lt;/h2>&lt;h3 id="ë°©í–¥ì„±-ì¡ê¸°">ë°©í–¥ì„± ì¡ê¸°
&lt;/h3>&lt;p>ë¡œê·¸ëŠ” ì„œë²„ì˜ ë¡œì»¬ ì €ì¥ì†Œì— ì €ì¥ë˜ê¸° ë•Œë¬¸ì— ì €ì¥ ìš©ëŸ‰ ê´€ë¦¬ ì¸¡ë©´ì—ì„œ ì¤‘ìš”í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>Kolla-ansbleì˜ opensearch ë¡œê·¸ íŒŒì¼ ê²½ë¡œ&lt;code>/var/log/kolla/opensearch&lt;/code> ë¥¼ ë³´ë©´ ì‹œê°„ë³„ë¡œ ë¡œê·¸ íŒŒì¼ì´ ì••ì¶•ë˜ì–´ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-story/image-6.png"
width="755"
height="275"
srcset="https://s0okju.github.io/p/server-story/image-6_hu_325ac8c2165c27e5.png 480w, https://s0okju.github.io/p/server-story/image-6_hu_59d8b9b435f6495.png 1024w"
loading="lazy"
alt="ì„œë²„ì—ì„œ í™•ì¸í•œ Kolla-ansbile ì»´í¬ë„ŒíŠ¸ ë¡œê·¸"
class="gallery-image"
data-flex-grow="274"
data-flex-basis="658px"
>&lt;/p>
&lt;p>2ë‹¬ì¹˜ ì••ì¶•ëœ ë¡œê·¸ì˜ ì´ ìš©ëŸ‰ì„ ë³´ë©´ 31MBë¡œ ìƒë‹¹íˆ ì ìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">du -ch *.gz &lt;span class="p">|&lt;/span> grep total
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ë¡œê·¸ë¥¼ ë³´ë‹ˆ Public Cloudì˜ ë¡œê·¸ ê´€ë¦¬ ì‚¬ë¡€ê°€ ìƒê°ë‚¬ìŠµë‹ˆë‹¤.
AWS ê²½ìš°ì—ëŠ” Object Storageì¸ S3ì— ë¡œê·¸ë¥¼ ì €ì¥í•˜ì—¬ Lifecycleë¥¼ ê´€ë¦¬í•˜ê¸°ë„ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-story/image-7.png"
width="800"
height="323"
srcset="https://s0okju.github.io/p/server-story/image-7_hu_34623a2cccd1969.png 480w, https://s0okju.github.io/p/server-story/image-7_hu_1b2f76d24031d4c4.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - Logging strategies for security incident response | AWS Security Blog"
class="gallery-image"
data-flex-grow="247"
data-flex-basis="594px"
>&lt;/p>
&lt;p>Openstackë„ swiftë¼ëŠ” Object Storageê°€ ìˆìŠµë‹ˆë‹¤. SSDë¡œ êµ¬ì„±ëœ ë¡œì»¬ ì €ì¥ì†Œì— ë¡œê·¸ê°€ ìŒ“ì´ëŠ” ê²ƒì„ ì›ì¹˜ ì•Šê¸° ë•Œë¬¸ì— HDDë¡œ êµ¬ì„±ëœ swiftì— ë¡œê·¸ë¥¼ ì˜®ê¸°ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤.
ê¸°ë³¸ì ì¸ êµ¬ì„±ìœ¼ë¡œëŠ” swiftì— ì „ì†¡í•  ìˆ˜ ì—†ìœ¼ë©° ì¶”ê°€ì ì¸ í”ŒëŸ¬ê·¸ì¸ ì‚¬ìš©ì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤. &lt;a class="link" href="https://opensearch.org/docs/latest/install-and-configure/plugins/#available-plugins" target="_blank" rel="noopener"
>ê·¸ëŸ¬ë‚˜ í˜„ì¬ê¹Œì§€ ê³µì‹ì ìœ¼ë¡œ swiftë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ëŠ” í”ŒëŸ¬ê·¸ì¸ì€ ì—†ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤. &lt;/a>&lt;/p>
&lt;p>ê·¸ë ‡ë‹¤ë©´ ë³´ìœ (retention) ì •ì±…ì„ í™•ì¸í•˜ëŠ” ê²ƒìœ¼ë¡œ ë°©í–¥ì„ ì¡ì•˜ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="state-management-policies">State management policies
&lt;/h3>&lt;p>&lt;img src="https://s0okju.github.io/p/server-story/image-8.png"
width="923"
height="318"
srcset="https://s0okju.github.io/p/server-story/image-8_hu_aed498de88d3ef37.png 480w, https://s0okju.github.io/p/server-story/image-8_hu_c32c320a00b0c447.png 1024w"
loading="lazy"
alt="Opensearchì—ì„œ í™•ì¸í•œ State management policies"
class="gallery-image"
data-flex-grow="290"
data-flex-basis="696px"
>&lt;/p>
&lt;p>ì•„ë˜ ë³´ìœ  ì •ì±…ì€ í¬ê²Œ 3ê°€ì§€ ìƒíƒœê°€ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>open&lt;/li>
&lt;li>close&lt;/li>
&lt;li>delete&lt;/li>
&lt;/ul>
&lt;p>ì´ë¦„ë§Œ ë‹¤ë¥¼ ë¿ì´ì§€ Hot-Warm-Cold ë¼ê³  ë³´ì‹œë©´ ë©ë‹ˆë‹¤.
ê¸°ë³¸ ì„¤ì •ì„ ë³´ë©´ open ìƒíƒœë¡œ ë¡œê·¸ê°€ ìƒì„±ë˜ë‹¤ê°€ 30ì¼ í›„ì— close ìƒíƒœë¡œ ë³€í™”í•˜ê³  60ì¼ í›„ì— delete ìƒíƒœë¡œ ë³€í™”ê°€ ë©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">{&lt;span class="w"> &lt;/span>&lt;span class="nt">&amp;#34;policy&amp;#34;: &lt;/span>{&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;states&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>{&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">&amp;#34;name&amp;#34;: &lt;/span>&lt;span class="s2">&amp;#34;open&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">&amp;#34;actions&amp;#34;: &lt;/span>&lt;span class="p">[],&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;transitions&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>{&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">&amp;#34;state_name&amp;#34;: &lt;/span>&lt;span class="s2">&amp;#34;close&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">&amp;#34;conditions&amp;#34;: { &amp;#34;min_index_age&amp;#34;: &lt;/span>&lt;span class="s2">&amp;#34;30d&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>}&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>}&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">],&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>}&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>{&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">&amp;#34;name&amp;#34;: &lt;/span>&lt;span class="s2">&amp;#34;close&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;actions&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>{&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;retry&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>{&lt;span class="w"> &lt;/span>&lt;span class="nt">&amp;#34;count&amp;#34;: 3, &amp;#34;backoff&amp;#34;: &amp;#34;exponential&amp;#34;, &amp;#34;delay&amp;#34;: &lt;/span>&lt;span class="s2">&amp;#34;1m&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>}&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">&amp;#34;close&amp;#34;: &lt;/span>{}&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>}&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">],&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;transitions&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>{&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">&amp;#34;state_name&amp;#34;: &lt;/span>&lt;span class="s2">&amp;#34;delete&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">&amp;#34;conditions&amp;#34;: { &amp;#34;min_index_age&amp;#34;: &lt;/span>&lt;span class="s2">&amp;#34;60d&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>}&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>}&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">],&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>}&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>{&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">&amp;#34;name&amp;#34;: &lt;/span>&lt;span class="s2">&amp;#34;delete&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;actions&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>{&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;retry&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>{&lt;span class="w"> &lt;/span>&lt;span class="nt">&amp;#34;count&amp;#34;: 3, &amp;#34;backoff&amp;#34;: &amp;#34;exponential&amp;#34;, &amp;#34;delay&amp;#34;: &lt;/span>&lt;span class="s2">&amp;#34;1m&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>}&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">&amp;#34;delete&amp;#34;: &lt;/span>{}&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>}&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">],&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">&amp;#34;transitions&amp;#34;: &lt;/span>&lt;span class="p">[],&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>}&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">],&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>}&lt;span class="w"> &lt;/span>}&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>ìµœì¢…ì ìœ¼ë¡œ ë³´ìœ  ì •ì±…ì„ ìˆ˜ì •í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.&lt;/strong>
ë¡œê·¸ëŠ” ì„±ëŠ¥ ì •ë³´ì— ëŒ€í•œ ì§‘ê³„ë‚˜ ë””ë²„ê¹…í• ë•Œ ìœ ìš©í•©ë‹ˆë‹¤. ì´ë•Œ ì ì ˆí•œ ê³¼ê±° ë°ì´í„°ë¥¼ ë³´ê´€í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤. ìƒê°ë³´ë‹¤ close ìƒíƒœì˜ ì••ì¶•ëœ ë¡œê·¸ í¬ê¸°ê°€ ì‘ì•˜ê¸° ë•Œë¬¸ì— ë”ìš± ì¤„ì¼ í•„ìš”ëŠ” ì—†ì—ˆë‹¤ê³  ë´…ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ë§ˆë¬´ë¦¬">ë§ˆë¬´ë¦¬
&lt;/h2>&lt;p>ì´ ê¸€ì€ ì·¨ì¤€ìƒì¼ë•Œ ì‘ì„±í•œ ê¸€ì…ë‹ˆë‹¤. ì‹¤ë¬´ì—ëŠ” ì–´ë–»ê²Œ ë‹¤ë£°ì§€ëŠ” ëª¨ë¥´ê² ìŠµë‹ˆë‹¤.
ì–¸ì  ê°„ ì·¨ì—…í•˜ê³  ë‚˜ì„œ ì˜ëª»ëœ ë¶€ë¶„ì„ í™•ì¸í•˜ë©´ ìƒˆë¡œìš´ ê¸€ë¡œ ì°¾ì•„ì˜¤ê² ìŠµë‹ˆë‹¤.&lt;/p></description></item><item><title>HexaCTF - 3. Jenkinsë¥¼ í™œìš©í•œ CI í™˜ê²½ êµ¬ì„±í•˜ê¸°</title><link>https://s0okju.github.io/p/hexactf-3/</link><pubDate>Sun, 05 Jan 2025 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/hexactf-3/</guid><description>&lt;h2 id="jenkins-í™˜ê²½-êµ¬ì„±">Jenkins í™˜ê²½ êµ¬ì„±
&lt;/h2>&lt;h3 id="ì–´ë””ì—-ì  í‚¨ìŠ¤ë¥¼-ì„¤ì¹˜í•´ì•¼-í• ê¹Œ">ì–´ë””ì— ì  í‚¨ìŠ¤ë¥¼ ì„¤ì¹˜í•´ì•¼ í• ê¹Œ?
&lt;/h3>&lt;p>ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì²˜ìŒ ê³µë¶€í–ˆì„ë•Œ â€œì¿ ë²„ë„¤í‹°ìŠ¤ ë‚´ì— ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìš´ì˜í•˜ëŠ” ê²ƒì´ ê³¼ì—° ì•ˆì „í• ê¹Œ?â€ì— ëŒ€í•´ ì˜ë¬¸ì ì„ ê°€ì§€ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ë°ì´í„° ì†ì‹¤ì´ ìš°ë ¤ëœë‹¤ëŠ” ê³¼ê±°ì˜ ì˜ê²¬ê³¼ ë‹¬ë¦¬ í˜„ì¬ëŠ” ë‹¤ì–‘í•œ ê¸°ì—…ë“¤ì´ DBaaSë¥¼ ë„ì…í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>&lt;br>
ì´ëŸ° íë¦„ìœ¼ë¡œ ì  í‚¨ìŠ¤ ë˜í•œ ì¿ ë²„ë„¤í‹°ìŠ¤ ë‚´ì— ìš´ì˜í• ê¹Œìš”? ë ˆë”§ê³¼ ê°™ì€ ì§€ì‹ ê³µìœ  í”Œë«í¼ì„ ì¢…í•©í•´ë³´ë©´ ì¿ ë²„ë„¤í‹°ìŠ¤ ë‚´ì— ì  í‚¨ìŠ¤ë¥¼ ìš´ì˜í•˜ëŠ”
ê²½ìš°ê°€ ë§ì´ ë³´ì…ë‹ˆë‹¤.&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>&lt;br>
ê·¸ëŸ¬ë‚˜ ì €í¬ í”„ë¡œì íŠ¸ëŠ” CIë¥¼ ë‹´ë‹¹í•˜ëŠ” íŒ€ì›ì€ ë”°ë¡œ ìˆìŠµë‹ˆë‹¤. ì™„ì „í•œ ì—­í•  ë¶„ë¦¬ë¥¼ ìœ„í•´ ì¸ìŠ¤í„´ìŠ¤ì— ë”°ë¡œ ì  í‚¨ìŠ¤ë¥¼ ì„¤ì¹˜í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="jenkins-ë°°í¬">Jenkins ë°°í¬
&lt;/h3>&lt;p>ì•„ë˜ëŠ” ëŒ€ëµì ì¸ ì•„í‚¤í…ì³ì…ë‹ˆë‹¤. ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì ì€ Jenkins ì¸ìŠ¤í„´ìŠ¤ì™€ ì¿ ë²„ë„¤í‹°ìŠ¤ ë…¸ë“œì™€ ì—°ê²°ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ê°ê°ì˜ ì„œë¸Œë„·ì´ ë¼ìš°í„°ë¡œ ì—°ê²°í•˜ì—¬ ì„œë¡œ í†µì‹ í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-3/image.png"
width="1100"
height="287"
srcset="https://s0okju.github.io/p/hexactf-3/image_hu_f06e3dff2c2ab5c8.png 480w, https://s0okju.github.io/p/hexactf-3/image_hu_9381f73eecfd8e3c.png 1024w"
loading="lazy"
alt="ê°„ë‹¨í•œ êµ¬ì„±ë„"
class="gallery-image"
data-flex-grow="383"
data-flex-basis="919px"
>&lt;/p>
&lt;p>Jenkinsë¥¼ ì¸ìŠ¤í„´ìŠ¤ë¡œ ë°°í¬í•˜ê³  ì™¸ë¶€ IP(Floating IP)ë¡œ ì—°ê²°í•˜ëŠ” ë¶€ë¶„ì€ ìƒëµí•˜ê² ìŠµë‹ˆë‹¤.
ì´ì „ ê¸€ì—ì„œ ì–¸ê¸‰í•œ ê²ƒì²˜ëŸ¼ í•˜ë‚˜ì˜ ë¼ìš°í„°ì— ì—¬ëŸ¬ ê°œì˜ í¬íŠ¸ë¥¼ ì—°ê²°í•˜ê³  ì‹¶ë‹¤ë©´ openstack_networking_port_v2 í•¨ìˆ˜ë¥¼ í™œìš©í•´ì•¼ í•œë‹¤ê³  ë§í–ˆìŠµë‹ˆë‹¤. ì´ë„ ë™ì¼í•˜ê²Œ Jenkinsê°€ í¬í•¨ë˜ì–´ ìˆëŠ” ì„œë¸Œë„·ì— í¬íŠ¸ë¥¼ ìƒì„±í•˜ì—¬ ì¿ ë²„ë„¤í‹°ìŠ¤ ë¼ìš°í„°ì— ì—°ê²°í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_port_v2&amp;#34; &amp;#34;devops_kubernetes_router_port&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;kubernetes-devops-port&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> network_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_networking_network_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">devops_network&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> admin_state_up&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fixed_ip&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> subnet_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_networking_subnet_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">devops_subnet&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> ip_address&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">devops_port_address&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_router_interface_v2&amp;#34; &amp;#34;devops_kubernetes_interface&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> router_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_networking_router_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">kubernetes_router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> port_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_networking_port_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">devops_kubernetes_router_port&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ë°°í¬ë¥¼ ëª¨ë‘ ëë‚´ë©´ ì•„ë˜ì™€ ê°™ì€ í† í´ë¡œì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-3/image-1.png"
width="1098"
height="764"
srcset="https://s0okju.github.io/p/hexactf-3/image-1_hu_72cf2be9378ebb5.png 480w, https://s0okju.github.io/p/hexactf-3/image-1_hu_5f6e1d81653f6735.png 1024w"
loading="lazy"
alt="Openstack ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€"
class="gallery-image"
data-flex-grow="143"
data-flex-basis="344px"
>&lt;/p>
&lt;h2 id="harbor">Harbor
&lt;/h2>&lt;h3 id="ì¿ ë²„ë„¤í‹°ìŠ¤-í™˜ê²½ì—ì„œ-ci">ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½ì—ì„œ CI
&lt;/h3>&lt;p>ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½ì—ì„œ CI ê³¼ì •ì€ ì»¨í…Œì´ë„ˆë¥¼ ë¹Œë“œí•˜ê³  ì´ë¯¸ì§€ë¥¼ ì €ì¥í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ í¬í•¨ë©ë‹ˆë‹¤. ê·¸ ì¤‘ ì´ë¯¸ì§€ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ì„œëŠ” ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-3/image-2.png"
width="720"
height="443"
srcset="https://s0okju.github.io/p/hexactf-3/image-2_hu_307d455d43ccf37d.png 480w, https://s0okju.github.io/p/hexactf-3/image-2_hu_20a9e7be839d274b.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://thenewstack.io/ci-cd-with-kubernetes-tools-and-practices/"
class="gallery-image"
data-flex-grow="162"
data-flex-basis="390px"
>&lt;/p>
&lt;h3 id="ë„ì»¤-ë ˆì§€ìŠ¤íŠ¸ë¦¬">ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬
&lt;/h3>&lt;p>ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ëŠ” ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ê´€ë¦¬í•˜ëŠ” ì €ì¥ì†Œ ì…ë‹ˆë‹¤. ì €ì¥ì†ŒëŠ” í¬ê²Œ publicê³¼ privateì´ ìˆìŠµë‹ˆë‹¤. ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©í•  ì˜ˆì •ì´ë¯€ë¡œ private ë ˆì§€ìŠ¤íŠ¸ë¦¬ë¥¼ ì„ íƒí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>í›„ë³´ëŠ” í¬ê²Œ ë‘ ê°€ì§€ì…ë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>Docker Registry&lt;/li>
&lt;li>Harbor&lt;/li>
&lt;/ul>
&lt;p>ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„ ì • ê¸°ì¤€ì€ â€œê¹”ë”í•œ UIë¥¼ ê°€ì§€ê³  ìˆëŠ”ê°€?â€ ì…ë‹ˆë‹¤. í›„ë³´ ì¤‘ì—ëŠ” ê¸°ì¤€ì— ë¶€í•©í•œ í”Œë«í¼ì€ Harborì˜€ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-3/image-3.png"
width="1100"
height="313"
srcset="https://s0okju.github.io/p/hexactf-3/image-3_hu_95b24d92b56a31b6.png 480w, https://s0okju.github.io/p/hexactf-3/image-3_hu_805930a03405b52f.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - ê³µì‹ ë¬¸ì„œ"
class="gallery-image"
data-flex-grow="351"
data-flex-basis="843px"
>&lt;/p>
&lt;h3 id="ì„¤ì¹˜">ì„¤ì¹˜
&lt;/h3>&lt;p>ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ê³ í•´ì„œ helm íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">helm repo add harbor https://helm.goharbor.io
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">helm fetch harbor/harbor --untar
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ê°€ì¥ ë¨¼ì € í•´ì•¼í•˜ëŠ” ê²ƒì€ Volumeì— ëŒ€í•œ ì„¤ì •ì…ë‹ˆë‹¤. HarborëŠ” ë‹¤ì–‘í•œ PVCë¥¼ ìš”ì²­í•©ë‹ˆë‹¤. í”„ë¡œì íŠ¸ëŠ” Dynamic Provisioningì„ ìœ„í•œ NFS í™˜ê²½ì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ values.yaml ì— strageClassë§Œ ê°’ì„ ì…ë ¥í•˜ë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">persistentVolumeClaim&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">registry&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Use the existing PVC which must be created manually before bound,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># and specify the &amp;#34;subPath&amp;#34; if the PVC is shared with other components&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">existingClaim&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Specify the &amp;#34;storageClass&amp;#34; used to provision the volume. Or the default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># StorageClass will be used (the default).&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Set it to &amp;#34;-&amp;#34; to disable dynamic provisioning&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">storageClass&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;nfs-client&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">subPath&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">accessMode&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ReadWriteOnce&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">size&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">5Gi&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">annotations&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>{}&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">jobservice&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">jobLog&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">existingClaim&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">storageClass&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;nfs-client&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">subPath&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">accessMode&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ReadWriteOnce&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">size&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">1Gi&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">annotations&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>{}&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>í™˜ê²½ ì„¤ì •ì„ ë‹¤ í•˜ê³  ë°°í¬í•˜ë©´ ì •ìƒì ìœ¼ë¡œ ì‘ë™ë©ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="jenkins--harbor-ì—°ê²°í•˜ê¸°">Jenkins â€” Harbor ì—°ê²°í•˜ê¸°
&lt;/h2>&lt;h3 id="httpë¡œ-ì—°ê²°í•˜ê¸°">HTTPë¡œ ì—°ê²°í•˜ê¸°
&lt;/h3>&lt;p>ì  í‚¨ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ê°€ ì¿ ë²„ë„¤í‹°ìŠ¤ ë‚´ë¶€ì— ìˆëŠ” Harborì— ì´ë¯¸ì§€ë¥¼ ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤. ì €í¬ í™˜ê²½ì—ì„œëŠ” Harborë¥¼ nodePortë¡œ ì—°ê²°í•˜ì—¬ ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ì—°ê²°í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-3/image-4.png"
width="582"
height="282"
srcset="https://s0okju.github.io/p/hexactf-3/image-4_hu_6b69d058954a6de0.png 480w, https://s0okju.github.io/p/hexactf-3/image-4_hu_7198799d8e08f5f2.png 1024w"
loading="lazy"
alt="ì  í‚¨ìŠ¤ - ì¿ ë²„ë„¤í‹°ìŠ¤ ì—°ê²° íë¦„"
class="gallery-image"
data-flex-grow="206"
data-flex-basis="495px"
>&lt;/p>
&lt;p>Harborì™€ ê°™ì€ ë„ì»¤ ë ˆì§€ìŠ¤í‹°ì˜ ê²½ìš° HTTPSë¡œ ì—°ê²°í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì €í¬ëŠ” HTTPë¡œ ì„¤ì •í•˜ê² ìŠµë‹ˆë‹¤.
Harborì˜ ìš°ì„  nodePortë¥¼ 30002ë¡œ ì„¤ì •í•œ í›„ externalURL ì— httpê°€ í¬í•¨ëœ URLë¥¼ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">externalURL&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http://10.0.10.156:30002&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì  í‚¨ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ &lt;code>/etc/docker/daemon.json&lt;/code> íŒŒì¼ì— HTTPë¥¼ ì ìš©í•  harborì˜ hostë¥¼ ëª…ì‹œí•´ì¤ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">{&lt;span class="w"> &lt;/span>&lt;span class="nt">&amp;#34;insecure-registries&amp;#34;: &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;http://10.0.10.156:30002&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w"> &lt;/span>}&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ë„ì»¤ë¥¼ ì¬ì‹œì‘í•˜ë©´ ìœ„ì˜ ì„¤ì •ì´ ì ìš©ë©ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="jenkins-pipeline-ì„¤ì •">Jenkins Pipeline ì„¤ì •
&lt;/h3>&lt;p>Credential ì„¤ì •ë“±ì€ ìƒëµí•˜ê² ìŠµë‹ˆë‹¤.
ë„ì»¤ë¥¼ ë¹Œë“œí•˜ê¸° ìœ„í•´ì„œëŠ” í¬ê²Œ 3ê°€ì§€ ê³¼ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>ë„ì»¤ ë¹Œë“œ&lt;/li>
&lt;li>ë„ì»¤ ì´ë¯¸ì§€ Tagging&lt;/li>
&lt;li>ë„ì»¤ ì´ë¯¸ì§€ Push&lt;/li>
&lt;/ol>
&lt;p>ì  í‚¨ìŠ¤ëŠ” í”„ë¡œì íŠ¸ ë‹¨ìœ„ë¡œ ì´ë¯¸ì§€ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤. ì•„ë˜ì˜ ì½”ë“œëŠ” ubuntu ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ì—¬ test í”„ë¡œì íŠ¸ì— ì´ë¯¸ì§€ë¥¼ pushí•˜ëŠ” ê²ƒì„ ë³´ì—¬ì¤ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">pipeline {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> agent any
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> environment {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> DOCKER_REGISTRY = &amp;#34;10.0.10.156:30002&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> IMAGE_NAME = &amp;#34;ubuntu&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> TARGET_REPO = &amp;#34;test/ubuntu&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> stages {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> stage(&amp;#39;Pull Ubuntu Image&amp;#39;) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> steps {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> echo &amp;#34;Pulling the Ubuntu image from Docker Hub...&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sh &amp;#34;docker pull ${IMAGE_NAME}:latest&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> stage(&amp;#39;Tag Image&amp;#39;) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> steps {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> echo &amp;#34;Tagging the image for Harbor...&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sh &amp;#34;docker tag ${IMAGE_NAME}:latest ${DOCKER_REGISTRY}/${TARGET_REPO}:latest&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> stage(&amp;#39;Push Image to Harbor&amp;#39;) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> steps {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> echo &amp;#34;Pushing the image to Harbor...&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> withDockerRegistry([credentialsId: &amp;#39;harbor-credentials&amp;#39;, url: &amp;#34;http://${DOCKER_REGISTRY}&amp;#34;]) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sh &amp;#34;docker push ${DOCKER_REGISTRY}/${TARGET_REPO}:latest&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> post {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> always {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> echo &amp;#34;Cleaning up Docker images...&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sh &amp;#34;docker rmi ${IMAGE_NAME}:latest || true&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sh &amp;#34;docker rmi ${DOCKER_REGISTRY}/${TARGET_REPO}:latest || true&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì´ë¯¸ì§€ë¥¼ pushí•˜ë©´ ì •ìƒì ìœ¼ë¡œ ì‘ë™ë¨ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-3/image-5.png"
width="1100"
height="222"
srcset="https://s0okju.github.io/p/hexactf-3/image-5_hu_f0c8cfc782bec904.png 480w, https://s0okju.github.io/p/hexactf-3/image-5_hu_bca97cd70a32e092.png 1024w"
loading="lazy"
alt="ìë™í™” ë¹Œë“œ ê²°ê³¼"
class="gallery-image"
data-flex-grow="495"
data-flex-basis="1189px"
>&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://sungchul-p.github.io/db-on-k8s-case-study" target="_blank" rel="noopener"
>https://sungchul-p.github.io/db-on-k8s-case-study&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://engineering.linecorp.com/ko/blog/declarative-cloud-db-service-using-kubernetes" target="_blank" rel="noopener"
>https://engineering.linecorp.com/ko/blog/declarative-cloud-db-service-using-kubernetes&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>&lt;a class="link" href="https://www.reddit.com/r/devops/comments/m3lc3r/jenkins_inside_kubernetes_or_not/" target="_blank" rel="noopener"
>https://www.reddit.com/r/devops/comments/m3lc3r/jenkins_inside_kubernetes_or_not/&lt;/a>&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>2024ë…„ íšŒê³ </title><link>https://s0okju.github.io/p/2024-review/</link><pubDate>Mon, 23 Dec 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/2024-review/</guid><description>&lt;p>ëŒ€í•™êµ ë§ˆì§€ë§‰ í•™ë…„ì´ì ì²« íšŒê³ ë¡ì´ê¸°ë„ í•˜ë‹¤.
ì‘ë…„ ë³´ì•ˆ ê³µë¶€ë¥¼ í•´ì˜¤ë©´ì„œ ì‹œìŠ¤í…œì— ëŒ€í•œ ê¸°ì´ˆê°€ ë¶€ì¡±í•˜ë‹¤ê³  ìƒê°í–ˆì—ˆë‹¤. ê·¸ë˜ì„œ ë³´ì•ˆì´ ì•„ë‹Œ ê°œë°œ ê³µë¶€ë¥¼ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œì‘í–ˆë‹¤.&lt;/p>
&lt;h3 id="ìƒë°˜ê¸°">ìƒë°˜ê¸°
&lt;/h3>&lt;h4 id="ê°œì¸-ê³µë¶€">ê°œì¸ ê³µë¶€
&lt;/h4>&lt;p>ìƒë°˜ê¸°ì— ì£¼ë¡œ í–ˆë˜ ê³µë¶€ëŠ” Go ì–¸ì–´, ì¿ ë²„ë„¤í‹°ìŠ¤ ê·¸ë¦¬ê³  ì˜¤í”ˆìŠ¤íƒì´ë‹¤.
GoëŠ” í•œë²ˆì´ë¼ë„ ì¿ ë²„ë„¤í‹°ìŠ¤ ì½”ë“œë¥¼ ë¶„ì„í•˜ê³  ì‹¶ë‹¤ëŠ” ë§ˆìŒìœ¼ë¡œ ì‹œì‘í–ˆë‹¤. ê¸°ë³¸ì ì¸ ì´ë¡ ì„ ìµíˆê³  ì›¹ ì„œë²„ë¥¼ ê°œë°œí–ˆë‹¤. ë¹„ë¡ ì‹œì‘ì„ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¡œ êµ¬í˜„í•´ì„œ ê¹”ë”í•˜ê²Œ ë§ˆë¬´ë¦¬ í•˜ì§€ ëª»í–ˆì§€ë§Œ Go ì–¸ì–´ì— ëŒ€í•œ ì• ì •ì€ ìƒê²¼ë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://s0okju.github.io/p/go-code-refactor-error-1/" target="_blank" rel="noopener"
>Todopoint ì„œë²„ì½”ë“œ ê°œì„ ê¸° - 1. ê³µë™ ì—ëŸ¬ ì²˜ë¦¬í•˜ê¸°&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>ë‚´ê°€ ë§Œë“  Go ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì¿ ë²„ë„¤í‹°ìŠ¤ì— ë°°í¬í•˜ê³  ì‹¶ì—ˆë‹¤. ì²˜ìŒì—ëŠ” í´ë¼ìš°ë“œë¥¼ í™œìš©í•˜ê³  ì‹¶ì—ˆì§€ë§Œ ìƒê°ë³´ë‹¤ CSPì˜ ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ë¹„ì‹¸ì„œ í¬ê¸°í–ˆë‹¤. ë§ˆì¹¨ ì§‘ì— ì“°ì§€ ì•Šì€ ë°ìŠ¤í¬í†±ì´ ìˆì—ˆê³  ì „ë¶€ í¬ë§·í•˜ì—¬ ì˜¤í”ˆ ìŠ¤íƒ ì„œë²„ë¥¼ êµ¬ì¶•í•˜ê²Œ ë˜ì—ˆë‹¤.
Multipass -&amp;gt; devstack -&amp;gt; Kolla ansible ìˆœìœ¼ë¡œ ì¤‘ê°„ì— ë°°í¬ í”Œë«í¼ì„ ë°”ê¾¸ëŠ” ê³¼ì •ì—ì„œ ë‚´ê°€ ë¦¬ëˆ…ìŠ¤ì˜ ë¦¬ë„ ëª¨ë¥´êµ¬ë‚˜ë¥¼ ì•Œê²Œ ë˜ì—ˆë‹¤.
í™˜ê²½ ì„¸íŒ…ì„ ë§ˆë¬´ë¦¬í•˜ëŠ”ë° ì •ë§ ë§ì€ ì‹œê°„ì´ ê±¸ë ¸ë‹¤. ëŒ€ëµ í•œë‹¬ ì •ë„ ê±¸ë ¸ì§€ë§Œ ì¤‘ê°„ì— ë‹¤ì–‘í•œ ì˜¤ë¥˜ë¥¼ ë§ˆì£¼í•˜ë©´ì„œ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•ì„ í„°ë“í•œ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://s0okju.github.io/categories/ops/" target="_blank" rel="noopener"
>Category: Ops - S0okJu.dev&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://s0okju.github.io/p/2024-review/image.png"
width="407"
height="338"
srcset="https://s0okju.github.io/p/2024-review/image_hu_2c05e4533e3b666c.png 480w, https://s0okju.github.io/p/2024-review/image_hu_4a35e669b4fa6e37.png 1024w"
loading="lazy"
alt="ì˜¤ë¥˜ ë°œìƒ ì‹œ ë‚´ ê¸°ë¶„"
class="gallery-image"
data-flex-grow="120"
data-flex-basis="288px"
>&lt;/p>
&lt;p>ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ê¸´ ì‹œê°„ë™ì•ˆ ì²œì²œíˆ ì±…ì„ ì½ì–´ê°€ë©´ì„œ ìˆ˜í–‰í–ˆë˜ ê²ƒ ê°™ë‹¤. ì§€ê¸ˆ ìƒê°í•´ë³´ë©´ ê°€ì¥ ì•„ì‰¬ìš´ ê³µë¶€ê°€ ì¿ ë²„ë„¤í‹°ìŠ¤ì´ì§€ ì•Šì„ê¹Œ ì‹¶ë‹¤.&lt;/p>
&lt;h4 id="ìŠ¤í„°ë””---ëŒ€ê·œëª¨-ì‹œìŠ¤í…œ-ì„¤ê³„-12">ìŠ¤í„°ë”” - ëŒ€ê·œëª¨ ì‹œìŠ¤í…œ ì„¤ê³„ 1,2
&lt;/h4>&lt;p>ìœ„ì˜ ì±…ì€ í˜„ì§ìê°€ ë§ì´ ì½ëŠ” ê²ƒìœ¼ë¡œ ì•Œê³  ìˆë‹¤. ê·¸ë˜ë„ í° ê·¸ë¦¼ì„ ì•Œê³  ì‹¶ì—ˆê³ , í˜„ì§ìë¶„ë“¤ë¡œ êµ¬ì„±ë˜ì–´ ìˆëŠ” ëŒ€ê·œëª¨ ì‹œìŠ¤í…œ ì„¤ê³„ ì±… ìŠ¤í„°ë””ì— ì°¸ì—¬í•˜ê²Œ ë˜ì—ˆë‹¤.
ì†”ì§íˆ ë§í•˜ìë©´ ì–´ë ¤ì› ë‹¤. ë‹¤ë¥¸ ìŠ¤í„°ë””ì›ë“¤ì€ ìì‹ ì˜ ê²½í—˜ë‹´ê³¼ í•¨ê»˜ ë‚´ìš©ì„ ì„¤ëª…í–ˆì§€ë§Œ ë³¸ì¸ì€ í•¨ê»˜ ì„¤ëª…í•  ë§Œí•œ ê²ƒì´ ì—†ì—ˆë‹¤. ê·¸ë˜ì„œ ê´€ë ¨ ê¸°ìˆ  ë¸”ë¡œê·¸ë¥¼ ì°¾ì•„ì„œ ë‚´ìš©ì„ ì²¨ë¶€í–ˆë‹¤.
í•™ìƒë•ŒëŠ” ê¸°ìˆ ì ì¸ ê²ƒë§Œ ì§‘ì¤‘í•´ì„œ ìˆ˜í–‰í•œë‹¤ë©´ í˜„ì§ì— ì¢…ì‚¬í•˜ì‹œëŠ” ë¶„ë“¤ì€ ì„œë¹„ìŠ¤ì˜ ë„ë©”ì¸ íŠ¹ì§•ì— ë§ê²Œ ê¸°ìˆ ì„ ì„ íƒí•œ ê²ƒì´ í° ì°¨ì´ì ì´ë¼ê³  ìƒê°í–ˆë‹¤. ê·¸ë˜ì„œ ìŠ¤í„°ë””ì›ë“¤ì˜ ì˜ê²¬ í•˜ë‚˜í•˜ë‚˜ê°€ ì¤‘ìš”í–ˆê³  ë°°ìš¸ì ì´ ë§ì•˜ë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/2024-review/image-1.png"
width="356"
height="247"
srcset="https://s0okju.github.io/p/2024-review/image-1_hu_d94ed4751026b8ba.png 480w, https://s0okju.github.io/p/2024-review/image-1_hu_9690ef6f8a5a2084.png 1024w"
loading="lazy"
alt="ìŠ¤í„°ë”” ìë£Œ"
class="gallery-image"
data-flex-grow="144"
data-flex-basis="345px"
>&lt;/p>
&lt;h4 id="ê¸°íƒ€-í™œë™">ê¸°íƒ€ í™œë™
&lt;/h4>&lt;p>ì•„ëŠ” ëŒ€í•™êµ ì§€ì¸ì˜ ì›¹ ì„œë²„ë¥¼ ê°œë°œí•˜ê³  ìˆìœ¼ë©° ì¸ì¦ ë¡œì§ì´ í•„ìš”í•˜ë‹¤ê³  ë§ì”€í•˜ì…¨ë‹¤. ê·¸ë˜ì„œ ì§§ê²Œë‚˜ë§ˆ Spring Bootë¥¼ ê³µë¶€í•˜ê³  Google OAuth ì²˜ë¦¬ë¥¼ ê°œë°œí–ˆë‹¤. í•´ë‹¹ í”„ë¡œì íŠ¸ íŒ€ì¥ì´ ìŠ¤í”„ë§ ë¶€íŠ¸ì— ì—´ì •ì ì¸ ì‚¬ëŒì´ì—ˆëŠ”ë° ì¹œì ˆí•˜ê²Œ ì•Œë ¤ì¤€ ë•ë¶„ì— ìŠ¤í”„ë§ ë¶€íŠ¸ ê³µë¶€ë¥¼ ìˆ˜ì›”í•˜ê²Œ í•  ìˆ˜ ìˆì—ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://s0okju.github.io/p/basic-spring-1/" target="_blank" rel="noopener"
>Spring - Spring Boot ê°„ëµí•˜ê²Œ ì•Œì•„ë³´ê¸°&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>ìë°”ì™€ ê°™ì€ í´ë˜ìŠ¤ ì§€í–¥ ì–¸ì–´ëŠ” ìì£¼ ì‚¬ìš©í•´ë³´ì§€ ì•Šì•„ì„œ InterfaceëŠ” ì–¸ì œ ì“°ë©° ì–´ë–¤ ê²ƒì„ í´ë˜ìŠ¤ë¡œ ì‘ì„±í•´ì•¼ í• ê¹Œ?ì— ëŒ€í•´ ê³ ë¯¼ì„ ë§ì´ í–ˆì—ˆë‹¤. ê·¸ë˜ì„œ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì˜ ê¹ƒí—ˆë¸Œ ë ˆí¬ì§€í† ë¦¬ë¥¼ ì°¾ì•„ê°€ë©´ì„œ ì–´ë–»ê²Œë“  í•´ê²°í–ˆë‹¤.&lt;/p>
&lt;h3 id="í•˜ë°˜ê¸°">í•˜ë°˜ê¸°
&lt;/h3>&lt;h4 id="ìƒë°˜ê¸°ì—-í–ˆë˜-ëª¨ë“ -ê²ƒë“¤ì„-í•˜ë‚˜ë¡œ">ìƒë°˜ê¸°ì— í–ˆë˜ ëª¨ë“  ê²ƒë“¤ì„ í•˜ë‚˜ë¡œ
&lt;/h4>&lt;p>ì§ë¬´ë¡œëŠ” SREê°€ ë˜ê³  ì‹¶ì—ˆë‹¤. í•™êµë¥¼ ë‹¤ë‹ˆê³  ìˆëŠ” ì…ì¥ì—ì„œ ì–´ëŠ ê¸°ì—…ì— ì†Œì†ë˜ì–´ í™œë™í•˜ëŠ” ê²ƒì€ í•œê³„ê°€ ìˆì—ˆë‹¤. ê·¸ë˜ì„œ ì‹œë‚˜ë¦¬ì˜¤ ê¸°ë°˜ìœ¼ë¡œ ì‹œìŠ¤í…œ ì•„í‚¤í…ì³ë¥¼ êµ¬ì„±í•˜ê³  í•„ìš”í•œ ê¸°ìˆ ë“¤ì„ í™œìš©í•´ë³´ì! ë¼ëŠ” ìƒê°ì„ í–ˆë‹¤. ê·¸ë¦¬ê³  ì‡¼í•‘ëª°ì´ë¼ëŠ” ê°€ìƒì˜ ë„ë©”ì¸ì„ ì„¤ì •í•˜ì—¬ ì°¨ê·¼ì°¨ê·¼ í•œ ë‹¨ê³„ì”© ì‹œìŠ¤í…œì„ ì„±ì¥í•´ë³´ìëŠ” ë§ˆìŒìœ¼ë¡œ í”„ë¡œì íŠ¸ë¥¼ ìˆ˜í–‰í–ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://medium.com/s0okju-tech/projects/home" target="_blank" rel="noopener"
>Projects â€“ S0okJu Tech Labs â€“ Medium&lt;/a> ì˜ OpsAthlan ì‹œë¦¬ì¦ˆ&lt;/li>
&lt;/ul>
&lt;p>ì—¬ë‹´ìœ¼ë¡œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì›¹ ì„œë²„ ê°œë°œ í”„ë¡œì íŠ¸ëŠ” ì„ íƒì— ê·¼ê±°ëŠ” ë¬´ì¡°ê±´ ìˆì–´ì•¼ í•œë‹¤ëŠ” ë¼ˆì €ë¦° ì¡°ì–¸ì„ ë‚¨ê²¼ë‹¤. ê·¸ë˜ì„œ ì°¨ê·¼ì°¨ê·¼ ì„±ì¥í•˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì„¤ì •í•˜ê²Œ ëœ ê²ƒì´ë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://s0okju.github.io/p/todopoint-final-review/" target="_blank" rel="noopener"
>ì™œ TodoPoint í”„ë¡œì íŠ¸ë¥¼ ì‹¤íŒ¨í–ˆëŠ”ê°€?&lt;/a>&lt;/li>
&lt;/ul>
&lt;h4 id="í´ë¼ìš°ë“œ-ìê²©ì¦">í´ë¼ìš°ë“œ ìê²©ì¦
&lt;/h4>&lt;p>ê·¸ ì´ì „ê¹Œì§€ í”„ë¼ì´ë¹— í´ë¼ìš°ë“œ(OpenStack)ì„ ì§‘ì¤‘ì ìœ¼ë¡œ ê³µë¶€í–ˆì§€ë§Œ í˜„ì‹¤ì ìœ¼ë¡œ ë§ì€ ê¸°ì—…ë“¤ì´ í¼ë¸”ë¦­ í´ë¼ìš°ë“œ ì‚¬ìš© ê¸°ìˆ ì„ ìš”êµ¬í•œë‹¤.
ë‹¤í–‰íˆ í”„ë¼ì´ë¹— í´ë¼ìš°ë“œë¥¼ í†µí•´ ì „ë°˜ì ì¸ ë‚´ìš©ì€ ì•Œê³  ìˆì–´ì„œ ê³µë¶€í•˜ëŠ”ë° ìˆ˜ì›”í–ˆë‹¤. ê³µë¶€ì˜ ì¼í™˜ìœ¼ë¡œ ê´€ë ¨ ìê²©ì¦ì„ ì·¨ë“í–ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>NCP Associate&lt;/li>
&lt;li>AWS Solution Architect&lt;/li>
&lt;/ul>
&lt;p>ìê²©ì¦ ê³µë¶€ëŠ” í¼ë¸”ë¦­ í´ë¼ìš°ë“œë¥¼ ì´í•´í•˜ëŠ”ë° í° ë„ì›€ì´ ë˜ì—ˆë‹¤. AWSëŠ” ìƒí™©ì„ ìš°ì„  ì œì‹œí•˜ê³  í•´ê²° ë°©ì•ˆì„ ì„ íƒí•´ì•¼ í•˜ëŠ” ë¬¸ì œê°€ ë§ì•˜ë‹¤. ìˆ˜ ë§ì€ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ í¬ê´„ì ì¸ ì´í•´ì™€ í™œìš© ëŠ¥ë ¥ì´ í•„ìš”í–ˆê³  ì´ë¥¼ ì—°ìŠµí•˜ê²Œ ëœ ê³„ê¸°ê°€ ë˜ì—ˆë‹¤.&lt;/p>
&lt;h4 id="ì•„ì‰¬ìš´-ë¶€ë¶„ì„-ë³´ì™„í•˜ë‹¤">ì•„ì‰¬ìš´ ë¶€ë¶„ì„ ë³´ì™„í•˜ë‹¤.
&lt;/h4>&lt;p>ìƒë°˜ê¸°ë¥¼ ë³´ë©´ ì¿ ë²„ë„¤í‹°ìŠ¤ ê³µë¶€ê°€ ë¶€ì¡±í•œ ê²ƒì— ëŒ€í•´ ì•„ì‰¬ì›€ì´ ë‚¨ì•˜ë‹¤ê³  ë§í–ˆë‹¤. í•œ í•´ê°€ ë§ˆë¬´ë¦¬ ë˜ë˜ ì‹œê¸°ì— ì¿ ë²„ë„¤í‹°ìŠ¤ ê´€ë ¨ í”„ë¡œì íŠ¸ë¥¼ ìˆ˜í–‰í•˜ê²Œ ë˜ì—ˆë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ ì˜¤í¼ë ˆì´í„° ì œì‘ê³¼ ì»¨í…Œì´ë„ˆ ëª¨ë‹ˆí„°ë§ í™˜ê²½ êµ¬ì„± ë‹´ë‹¹ì´ ë˜ì—ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ 2025ë…„ ë¸”ë¡œê·¸ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/2024-review/image-2.png"
width="600"
height="399"
srcset="https://s0okju.github.io/p/2024-review/image-2_hu_beccc74d5d63a3f8.png 480w, https://s0okju.github.io/p/2024-review/image-2_hu_b0c2fb1a046cde37.png 1024w"
loading="lazy"
alt="Good bye 2024"
class="gallery-image"
data-flex-grow="150"
data-flex-basis="360px"
>&lt;/p>
&lt;h3 id="ì˜¬í•´ì˜-í‰ì ">ì˜¬í•´ì˜ í‰ì 
&lt;/h3>&lt;p>ì˜¬í•´ëŠ” ëª¨ë“  ê³¼ì •ì´ ì˜ë¯¸ê°€ ìˆì—ˆë‹¤. ê·¸ë˜ì„œ ë³„ì ìœ¼ë¡œ â­ï¸â­ï¸â­ï¸â­ï¸ 4ì ì„ ì£¼ê³  ì‹¶ë‹¤.&lt;/p></description></item><item><title>HexaCTF - 2. Openstack Terraformì„ í™œìš©í•œ NFS ì„œë²„ ì„¤ì¹˜ ë° í™œìš©</title><link>https://s0okju.github.io/p/hexactf-2/</link><pubDate>Fri, 29 Nov 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/hexactf-2/</guid><description>&lt;h2 id="ì „ì²´-ì•„í‚¤í…ì³-êµ¬ì„±ë„">ì „ì²´ ì•„í‚¤í…ì³ êµ¬ì„±ë„
&lt;/h2>&lt;p>ì €í¬ í”„ë¡œì íŠ¸ëŠ” í¬ê²Œ 3ê°œì˜ ì„œë¸Œë„·ì„ ê°€ì§€ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>Kubernetes Subnet
&lt;ul>
&lt;li>Kubernetes Master, Worker nodes&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Storage Subnet
&lt;ul>
&lt;li>NFS Server&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>DevOps Subnet
&lt;ul>
&lt;li>Jenkins Server&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-2/image.png"
width="1064"
height="763"
srcset="https://s0okju.github.io/p/hexactf-2/image_hu_ea2064f9e1730b7c.png 480w, https://s0okju.github.io/p/hexactf-2/image_hu_34ea0a13599035a7.png 1024w"
loading="lazy"
alt="ì „ì²´ ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€"
class="gallery-image"
data-flex-grow="139"
data-flex-basis="334px"
>&lt;/p>
&lt;h2 id="nfs-ì•„í‚¤í…ì³-êµ¬ì„±">NFS ì•„í‚¤í…ì³ êµ¬ì„±
&lt;/h2>&lt;h3 id="ì™œ-í•„ìš”í• ê¹Œ">ì™œ í•„ìš”í• ê¹Œ?
&lt;/h3>&lt;h4 id="ìƒíƒœê°’-ì €ì¥">ìƒíƒœê°’ ì €ì¥
&lt;/h4>&lt;p>ì €í¬ í”„ë¡œì íŠ¸ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½ì—ì„œ ìˆ˜í–‰í•˜ê²Œ ë©ë‹ˆë‹¤. ê·¸ ê³¼ì •ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ì™€ ê°™ì´ ìƒíƒœë¥¼ ì €ì¥í•´ì•¼ í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ í•„ìš”í•˜ê²Œ ë©ë‹ˆë‹¤. ê´€ë¦¬ìëŠ” PVë¡œ ìŠ¤í† ë¦¬ì§€ë¥¼ ì •ì˜í•˜ê³  ìƒíƒœ ì €ì¥ì´ í•„ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ PVCë¥¼ í™œìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì˜êµ¬ì ìœ¼ë¡œ ì €ì¥í•˜ê²Œ ë©ë‹ˆë‹¤.
PVëŠ” ë¡œì»¬ ë””ìŠ¤í¬ì— ì €ì¥í•˜ê±°ë‚˜ NFSì™€ ê°™ì€ í†µì‹ ì´ í•„ìš”í•œ ìŠ¤í† ë¦¬ì§€ ì‹œìŠ¤í…œìœ¼ë¡œ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¡œì»¬ ë””ìŠ¤í¬ì— ì €ì¥í•œë‹¤ëŠ” ê²ƒì€ Worker nodeì˜ ë””ìŠ¤í¬ì— ì €ì¥í•œë‹¤ëŠ” ë§ê³¼ ê°™ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ë°ì´í„° ì €ì¥ì†Œë¥¼ ì™¸ë¶€ì™€ ë¶„ë¦¬í•˜ê³ ì NFSë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h4 id="dynamic-provisioning">Dynamic Provisioning
&lt;/h4>&lt;p>NFSë¥¼ ì„ íƒí•œ í•µì‹¬ì ì¸ ì´ìœ ì…ë‹ˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©ì„ ìœ„í•´ PVCë¥¼ ìš”ì²­í•˜ê²Œ ë˜ë©´ ìš”êµ¬ì‚¬í•­ì— ë§ëŠ” PVì— ë°”ì¸ë”©í•˜ê²Œ ë©ë‹ˆë‹¤. ëª¨ë“  ì‘ì—…ë§ˆë‹¤ ê·¸ì— ìƒì‘í•˜ëŠ” PV-PVC ìŒì„ ë§Œë“¤ì–´ì•¼ í•œë‹¤ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤. ë¶ˆí¸í•¨ì„ í•´ì†Œí•˜ê¸° ìœ„í•´ì„œ PVC ìš”ì²­ì— ëŒ€í•œ PVë¥¼ ìƒì„±í•˜ëŠ” ê³¼ì •ì„ ìë™í™”ëŠ” Dynamic Provisioningì„ í™œìš©í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-2/image-1.png"
width="834"
height="509"
srcset="https://s0okju.github.io/p/hexactf-2/image-1_hu_c10d44b34ed51e15.png 480w, https://s0okju.github.io/p/hexactf-2/image-1_hu_59108b20283660b5.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://www.unixarena.com/2022/04/kubernetes-storage-dynamic-nfs-client-provisioner.html/"
class="gallery-image"
data-flex-grow="163"
data-flex-basis="393px"
>&lt;/p>
&lt;h3 id="nfs-in-nova-vs-manila">NFS in Nova vs Manila
&lt;/h3>&lt;p>ë°ì´í„°ë² ì´ìŠ¤ë¥¼ êµ¬ì¶•í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ EC2 Instanceì—ì„œ DB ì—”ì§„ì„ ì§ì ‘ ì„¤ì¹˜í•˜ë“¯ì´ NFSë¡œ ì§ì ‘ ì¸ìŠ¤í„´ìŠ¤ì— ì§ì ‘ ì„¤ì¹˜í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤.
Openstackì—ëŠ” NFSë¥¼ ì§ì ‘ ì„¤ì¹˜í•  ìˆ˜ ìˆë„ë¡ &lt;a class="link" href="https://docs.openstack.org/manila/latest/" target="_blank" rel="noopener"
>Manila&lt;/a>ë¼ëŠ” íŒŒì¼ ê³µìœ  ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•´ì¤ë‹ˆë‹¤.&lt;/p>
&lt;p>ê³µì‹ë¬¸ì„œì— ì˜í•˜ë©´ NFSëŠ” ì•„ë˜ì™€ ê°™ì€ ê¸°ëŠ¥ì„ ëª©í‘œë¡œ ì‚¼ìŠµë‹ˆë‹¤.&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;ul>
&lt;li>Component based architecture: Quickly add new behaviors&lt;/li>
&lt;li>Highly available: Scale to very serious workloads&lt;/li>
&lt;li>Fault-Tolerant: Isolated processes avoid cascading failures&lt;/li>
&lt;li>Recoverable: Failures should be easy to diagnose, debug, and rectify&lt;/li>
&lt;li>Open Standards: Be a reference implementation for a community-driven api&lt;/li>
&lt;/ul>
&lt;p>ê·¸ ì´ì™¸ì—ë„ í†µí•©ì ì¸ ëŒ€ì‹œë³´ë“œ, ëª¨ë‹ˆí„°ë§, ë¡œê¹… ë„êµ¬ë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ í° ì¥ì ì…ë‹ˆë‹¤.
ê·¸ëŸ¼ì—ë„ Manilaê°€ ì•„ë‹Œ &lt;strong>Novaì— NFSë¥¼ ì„¤ì¹˜í•˜ëŠ” ë°©ì•ˆ&lt;/strong>ì„ ì„ íƒí–ˆìŠµë‹ˆë‹¤.
ì„ íƒí•œ ê°€ì¥ í° ì´ìœ ëŠ” &lt;strong>ì–´ë µë‹¤&lt;/strong>ëŠ” ê²ƒì…ë‹ˆë‹¤. í”„ë¡œì íŠ¸ ì´ì „ì— &lt;a class="link" href="https://medium.com/s0okju-tech/opsathlan-scenario-3-1-hello-mysql-28965a7bc466" target="_blank" rel="noopener"
>ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œì¸ troveë¥¼ ì„¤ì¹˜í•œ ê²½í—˜ì´ ìˆì—ˆìŠµë‹ˆë‹¤. &lt;/a> ì›ì¸ì„ ì°¾ì•˜ì§€ë§Œ í•´ê²°í•˜ì§€ ëª»í•œ ê²½í—˜ì´ ìˆì—ˆìŠµë‹ˆë‹¤. í´ë¼ìš°ë“œì— ì í•©í•œ ì‹œìŠ¤í…œì´ë¼ ë„¤íŠ¸ì›Œí¬, ì¸ì¦ ë“± ê³ ë ¤ì‚¬í•­ì´ ë§ë‹¤ê³  ëŠê¼ˆìŠµë‹ˆë‹¤. ì†Œê·œëª¨ì— ì‰¬ìš´ ë°©ë²•ìœ¼ë¡œ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ nfs-serverì— ì„¤ì¹˜í•˜ëŠ” ë°©ì‹ì„ ì„ íƒí–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="nfs-ì„¤ì¹˜í•˜ê¸°">NFS ì„¤ì¹˜í•˜ê¸°
&lt;/h3>&lt;p>ì„¤ì¹˜í•˜ê¸° ì´ì „ì— NFS ìš”êµ¬ì‚¬í•­ì— ëŒ€í•´ ìƒê°í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h4 id="nfs-ë„¤íŠ¸ì›Œí¬-ìš”êµ¬ì‚¬í•­">NFS ë„¤íŠ¸ì›Œí¬ ìš”êµ¬ì‚¬í•­
&lt;/h4>&lt;ul>
&lt;li>ì¿ ë²„ë„¤í‹°ìŠ¤ ì„œë¸Œë„·ê³¼ í†µì‹ í•´ì•¼ í•œë‹¤.&lt;/li>
&lt;li>nfs serverë¥¼ ì„¤ì¹˜í•˜ê¸° ìœ„í•´ ì™¸ë¶€ì™€ í†µì‹ í•´ì•¼ í•œë‹¤.&lt;/li>
&lt;/ul>
&lt;p>ìœ„ì˜ ìš”êµ¬ì‚¬í•­ì— ë§ê²Œ storage subnetì€ public, kubernetes subnetì˜ routerë¡œ ì—°ê²°í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-2/image-2.png"
width="789"
height="750"
srcset="https://s0okju.github.io/p/hexactf-2/image-2_hu_844b9b0fc6631666.png 480w, https://s0okju.github.io/p/hexactf-2/image-2_hu_98afd115106ed716.png 1024w"
loading="lazy"
alt="ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€"
class="gallery-image"
data-flex-grow="105"
data-flex-basis="252px"
>&lt;/p>
&lt;h3 id="terraform-ìœ¼ë¡œ-êµ¬ì„±í•˜ê¸°">Terraform ìœ¼ë¡œ êµ¬ì„±í•˜ê¸°
&lt;/h3>&lt;h4 id="ë„¤íŠ¸ì›Œí¬">ë„¤íŠ¸ì›Œí¬
&lt;/h4>&lt;p>storageë¼ëŠ” prefixë¥¼ ê°€ì§„ networkì™€ subnetë¥¼ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë¼ìš°í„°ë¥¼ ì •ì˜í•˜ì—¬ ì„œë¡œ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ë¥¼ ì—°ê²°í•©ë‹ˆë‹¤.
Openstackì˜ Neutronì˜ ê²½ìš°ì—ëŠ” í¬ê²Œ ê°€ìƒ ë¼ìš°í„°ì™€ ì„œë¸Œë„·ì˜ ì—°ê²° ê´€ê³„ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. ì´ëŠ” ì‹¤ì œ ë¬¼ë¦¬ì ì¸ ë„¤íŠ¸ì›Œí¬ í™˜ê²½ì²˜ëŸ¼ ë¼ìš°í„° ì¸í„°í˜ì´ìŠ¤ì— ë„¤íŠ¸ì›Œí¬ ì¼€ì´ë¸”ì„ ê½‚ëŠ” í˜•ì‹ê³¼ ìœ ì‚¬í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ Neutron ë‚´ë¶€ì—ì„œëŠ” ì„œë¸Œë„·ì´ í• ë‹¹ëœ ë„¤íŠ¸ì›Œí¬ì— ë…¼ë¦¬ í¬íŠ¸ë¥¼ ë§Œë“¤ê³  ì´ë¥¼ ë¼ìš°í„°ì— ì—°ê²°í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Get the existing public network
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">data&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_network_v2&amp;#34; &amp;#34;public_network&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">public_network_name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Get the existing public router
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">data&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_router_v2&amp;#34; &amp;#34;public_router&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">public_router_name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Create the storage network
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_network_v2&amp;#34; &amp;#34;storage_network&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">storage_network_name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Create the storage subnet
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_subnet_v2&amp;#34; &amp;#34;storage_subnet&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">storage_subnet_name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> network_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_networking_network_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">storage_network&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> cidr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">storage_subnet_cidr&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> ip_version&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> dns_nameservers&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">dns_nameservers&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Connect the storage subnet to the public router
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_router_interface_v2&amp;#34; &amp;#34;storage_router_interface&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> router_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">openstack_networking_router_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">public_router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> subnet_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_networking_subnet_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">storage_subnet&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì„œë¸Œë„·ì„ ë¼ìš°í„°ì— ì—°ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” &lt;a class="link" href="https://registry.terraform.io/providers/terraform-provider-openstack/openstack/latest/docs" target="_blank" rel="noopener"
>openstack_networking_router_interface_v2&lt;/a>í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤. ì„œë¸Œë„·ì„ ì—°ê²°í•  ë•Œ &lt;code>subnet_id&lt;/code>ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê³  &lt;code>port_id&lt;/code>ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>subnet_idë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ìë™ìœ¼ë¡œ í•´ë‹¹ CIDRì˜ x.x.x.1 ì˜ ì£¼ì†Œì˜ í¬íŠ¸ë¡œ ì—°ê²°ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ í•˜ë‚˜ì˜ ì„œë¸Œë„·ì´ 2ê°œ ì´ìƒì¼ ê²½ìš° subnet_idë¥¼ ë‘ ë²ˆì´ìƒ ì‚¬ìš©í•˜ê²Œ ëœë‹¤ë©´ ì‚¬ìš©ì¤‘ì¸ port IPë¼ëŠ” ì—ëŸ¬ ë©”ì„¸ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Subnet_idë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_router_interface_v2&amp;#34; &amp;#34;storage_router_interface&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> router_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">openstack_networking_router_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">public_router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> subnet_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_networking_subnet_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">storage_subnet&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ê·¸ëŸ´ ê²½ìš° &lt;a class="link" href="https://registry.terraform.io/providers/terraform-provider-openstack/openstack/latest/docs/resources/networking_port_v2" target="_blank" rel="noopener"
>openstack_networking_port_v2&lt;/a> ì—ì„œ ì‚¬ìš©í•  port_ipë¥¼ ì§€ì •í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Portë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_port_v2&amp;#34; &amp;#34;storage_kubernetes_router_port&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;kubernetes-storage-port&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> network_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_networking_network_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">storage_network&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> admin_state_up&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fixed_ip&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> subnet_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_networking_subnet_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">storage_subnet&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> ip_address&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;10.0.50.20&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_router_interface_v2&amp;#34; &amp;#34;storage_kubernetes_interface&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> router_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_networking_router_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">kubernetes_router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> port_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_networking_port_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">storage_kubernetes_router_port&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ì»´í“¨íŒ…-ìì›">ì»´í“¨íŒ… ìì›
&lt;/h4>&lt;p>NFS ì„œë²„ì™€ ê´€ë ¨ëœ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì œì‘í•´ë³´ê² ìŠµë‹ˆë‹¤.
NFS ì„œë²„ëŠ” 2049, 111 í¬íŠ¸ë¥¼ í™œìš©í•©ë‹ˆë‹¤. NFS ì„œë²„ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ ì„œë¸Œë„·ê³¼ ì£¼ë¡œ í†µì‹ í•˜ë¯€ë¡œ Kubernetes subnetì¸ 10.0.10.0/24ì—ì„œ ìš”ì²­í•˜ëŠ” 2049, 111 TCP, UDP ë„¤íŠ¸ì›Œí¬ë¥¼ ëª¨ë‘ í—ˆë½í•´ì¤ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Create the NFS security group
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_secgroup_v2&amp;#34; &amp;#34;nfs_secgroup&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;${var.storage_instance_name}-nfs-secgroup&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> description&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Security group for NFS access&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_secgroup_rule_v2&amp;#34; &amp;#34;nfs_ingress&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> direction&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;ingress&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> ethertype&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;IPv4&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> protocol&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;tcp&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> port_range_min&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">2049&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> port_range_max&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">2049&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> remote_ip_prefix&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;10.0.10.0/24&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> security_group_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_networking_secgroup_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">nfs_secgroup&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ... secgroup ì¼ë¶€ ìƒëµ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Create a port in the storage network for the instance
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_port_v2&amp;#34; &amp;#34;storage_port&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;${var.storage_instance_name}-port&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> network_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_networking_network_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">storage_network&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> security_group_ids&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="k">openstack_networking_secgroup_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">nfs_secgroup&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fixed_ip&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> subnet_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_networking_subnet_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">storage_subnet&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Create a floating IP for the storage instance
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_floatingip_v2&amp;#34; &amp;#34;storage_fip&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> pool&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">public_network_name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Associate the floating IP with the storage instance&amp;#39;s port
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_floatingip_associate_v2&amp;#34; &amp;#34;storage_fip_assoc&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> floating_ip&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_networking_floatingip_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">storage_fip&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">address&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> port_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_networking_port_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">storage_port&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ê·¸ë¦¬ê³  50GB ë¸”ë¡ ìŠ¤í† ë¦¬ì§€(Cinder)ë¥¼ NFS ì¸ìŠ¤í„´ìŠ¤ì— ë¶™ì—¬ì„œ ìƒì„±í•©ë‹ˆë‹¤. ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ë•Œ ì´ì „ì— ì •ì˜í•œ ë³´ì•ˆ ê·¸ë£¹ë„ ì§€ì •í•´ì¤ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_blockstorage_volume_v3&amp;#34; &amp;#34;nfs-volume&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;bfs-volume&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> size&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">50&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Create the storage instance
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_compute_instance_v2&amp;#34; &amp;#34;storage_instance&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">storage_instance_name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> flavor_name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">storage_flavor_name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> image_name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">storage_image_name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> key_pair&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_compute_keypair_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">nfs_keypair&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> security_groups&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="k">openstack_networking_secgroup_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">nfs_secgroup&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">name&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">network&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> port&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_networking_port_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">storage_port&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> metadata&lt;/span> &lt;span class="o">=&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> ssh_user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;ubuntu&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_compute_volume_attach_v2&amp;#34; &amp;#34;nfs-volume-attached&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> instance_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_compute_instance_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">storage_instance&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> volume_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_blockstorage_volume_v3&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">nfs&lt;/span>&lt;span class="err">-&lt;/span>&lt;span class="k">volume&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>NFSëŠ” Private Network í™˜ê²½ì—ë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ nfs ì„¤ì • ì‹œ ì™¸ë¶€ì™€ì˜ ì ‘ê·¼ì´ í•„ìš”í•˜ë¯€ë¡œ floating ipë¥¼ í• ë‹¹í–ˆìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;h2 id="nfs-ì„œë²„-ì„¤ì •">NFS ì„œë²„ ì„¤ì •
&lt;/h2>&lt;h3 id="í™˜ê²½-ì„¤ì •">í™˜ê²½ ì„¤ì •
&lt;/h3>&lt;p>NFS ì„œë²„ëŠ” 50GB ë¸”ë¡ ìŠ¤í† ë¦¬ì§€ì™€ ì—°ê²°ëœ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì´ë¤„ì ¸ ìˆìŠµë‹ˆë‹¤. Horizonì—ì„œ ì¸ìŠ¤í„´ìŠ¤ì˜ ì •ë³´ë¥¼ ë³´ë©´ ë¶€ì°©ëœ ë³¼ë¥¨ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-2/image-3.png"
width="483"
height="97"
srcset="https://s0okju.github.io/p/hexactf-2/image-3_hu_f441246ff546ab2e.png 480w, https://s0okju.github.io/p/hexactf-2/image-3_hu_d1495e51d241a717.png 1024w"
loading="lazy"
alt="Horizonì—ì„œ í™•ì¸í•œ Volume"
class="gallery-image"
data-flex-grow="497"
data-flex-basis="1195px"
>&lt;/p>
&lt;p>sshì— ì ‘ì†í•´ë³´ë©´ ë§ˆìš´íŒ…ëœ ë³¼ë¥¨ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-2/image-4.png"
width="402"
height="173"
srcset="https://s0okju.github.io/p/hexactf-2/image-4_hu_b3ee19f95f714682.png 480w, https://s0okju.github.io/p/hexactf-2/image-4_hu_1acd0a07b7a1b29d.png 1024w"
loading="lazy"
alt="ë””ìŠ¤í¬ ì •ë³´"
class="gallery-image"
data-flex-grow="232"
data-flex-basis="557px"
>&lt;/p>
&lt;p>ì¶”í›„ ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ì‚¬ìš©ë  ëª¨ë“  ë°ì´í„°ëŠ” ë³¼ë¥¨ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•  ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ë³¼ë¥¨ì„ ext4 í˜•íƒœë¡œ í¬ë§·í•˜ì—¬ &lt;code>/mnt/data&lt;/code> ê²½ë¡œì— ë§ˆìš´íŒ…í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-2/image-5.png"
width="401"
height="239"
srcset="https://s0okju.github.io/p/hexactf-2/image-5_hu_7c6d75a808f784a2.png 480w, https://s0okju.github.io/p/hexactf-2/image-5_hu_7fa07b74adc3aba.png 1024w"
loading="lazy"
alt="Mounting ì´í›„"
class="gallery-image"
data-flex-grow="167"
data-flex-basis="402px"
>&lt;/p>
&lt;p>&lt;code>nfs-server&lt;/code> ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•œ í›„ &lt;code>/etc/exports&lt;/code> íŒŒì¼ì„ ìˆ˜ì •í•©ë‹ˆë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ ì„œë¸Œë„·ì´ ë¸”ë¡ ìŠ¤í† ë¦¬ì§€ì— ìˆëŠ” &lt;code>/mnt/data&lt;/code> ì— ì½ê³  ì“¸ ìˆ˜ ìˆë„ë¡ ê¶Œí•œì„ ì„¤ì •í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">/mnt/data 10.0.10.0/24(rw,sync,no_subtree_check)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>ìì„¸í•œ ì‚¬í•­ì€ &lt;a class="link" href="https://dongle94.github.io/ubuntu/ubuntu-nfs-setting/" target="_blank" rel="noopener"
>[Ubuntu] NFS ì„œë²„ ë° í´ë¼ì´ì–¸íŠ¸ êµ¬ì„± - Dongleâ€™s ê°œë°œë…¸íŠ¸&lt;/a> ë¥¼ ì°¸ê³ í•˜ì‹œê¸¸ ë°”ëë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;h3 id="í…ŒìŠ¤íŠ¸í•˜ê¸°">í…ŒìŠ¤íŠ¸í•˜ê¸°
&lt;/h3>&lt;p>ìš°ì„  ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ NFS ì„œë²„ IPì¸ &lt;code>10.0.50.170&lt;/code>ê°€ ì •ìƒì ìœ¼ë¡œ í†µì‹ í•œì§€ í™•ì¸í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-2/image-6.png"
width="486"
height="205"
srcset="https://s0okju.github.io/p/hexactf-2/image-6_hu_d155203b5275d652.png 480w, https://s0okju.github.io/p/hexactf-2/image-6_hu_d2b0cae3c8e5c27b.png 1024w"
loading="lazy"
alt="Ping Test"
class="gallery-image"
data-flex-grow="237"
data-flex-basis="568px"
>&lt;/p>
&lt;p>NFS ì„œë²„ì— Hello World ë¬¸ìì—´ì´ ìˆëŠ” &lt;code>test.txt&lt;/code> íŒŒì¼ì„ ì •ì˜í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-2/image-7.png"
width="471"
height="160"
srcset="https://s0okju.github.io/p/hexactf-2/image-7_hu_86508c0a3216c6dd.png 480w, https://s0okju.github.io/p/hexactf-2/image-7_hu_201d04b770c861d6.png 1024w"
loading="lazy"
alt="nfs serverì—ì„œ ì„ì‹œ íŒŒì¼ ìƒì„±"
class="gallery-image"
data-flex-grow="294"
data-flex-basis="706px"
>&lt;/p>
&lt;p>ë§ˆìš´íŒ…ì—ì„œ í™•ì¸í•´ë³´ë©´ ë°ì´í„°ê°€ ì •ìƒì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo mount 10.0.50.170:/mnt/server /mnt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-2/image-8.png"
width="430"
height="141"
srcset="https://s0okju.github.io/p/hexactf-2/image-8_hu_e745c2b685e4b796.png 480w, https://s0okju.github.io/p/hexactf-2/image-8_hu_390a7c36ead38d0.png 1024w"
loading="lazy"
alt="ì¿ ë²„ë„¤í‹°ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ NFS ë§ˆìš´íŒ…"
class="gallery-image"
data-flex-grow="304"
data-flex-basis="731px"
>&lt;/p>
&lt;h2 id="í™œìš©í•˜ê¸°---harbor-in-kubernetes">í™œìš©í•˜ê¸° - Harbor in Kubernetes
&lt;/h2>&lt;p>Harborë¥¼ ì„¤ì •í•˜ê¸° ì´ì „ì— Dynamic provisionerë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤. &lt;a class="link" href="https://github.com/kubernetes-sigs/nfs-subdir-external-provisioner#with-helm" target="_blank" rel="noopener"
>nfs-subdir-external-provisioner&lt;/a> ë¥¼ ì‚¬ìš©í–ˆìœ¼ë©° helmì„ í†µí•´ ì‰½ê²Œ ì„¤ì¹˜í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">helm install nfs-subdir-external-provisioner nfs-subdir-external-provisioner/nfs-subdir-external-provisioner &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --set nfs.server&lt;span class="o">=&lt;/span>10.0.50.170 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --set nfs.path&lt;span class="o">=&lt;/span>/mnt/data
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>&lt;a class="link" href="https://jeongchul.tistory.com/728" target="_blank" rel="noopener"
>Harbor Kubernetes Helm ì„¤ì¹˜ â€” Jeongchul Kim&lt;/a> ë¸”ë¡œê·¸ë¥¼ ì°¸ê³ í•˜ì—¬ harborë¥¼ ì„¤ì¹˜í–ˆìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>values.ymì˜ &lt;code>persistence&lt;/code> ì—ì„œ nfs-subdir-external-provisionerì—ì„œ ìƒì„±í•œ storageClassë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì‹¤í–‰ë˜ë©´ ì •ìƒì ìœ¼ë¡œ ì‘ë™ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-2/image-9.png"
width="891"
height="124"
srcset="https://s0okju.github.io/p/hexactf-2/image-9_hu_237f146736854c37.png 480w, https://s0okju.github.io/p/hexactf-2/image-9_hu_f48fab1511c52eed.png 1024w"
loading="lazy"
alt="Harbor PVC ëª©ë¡"
class="gallery-image"
data-flex-grow="718"
data-flex-basis="1724px"
>&lt;/p>
&lt;p>ë§Œì•½ì— ì„¤ì¹˜í•˜ë‹¤ê°€ ì•„ë˜ì™€ ê°™ì´ helper programì´ í•„ìš”í•˜ë‹¤ëŠ” ì—ëŸ¬ ë©”ì„¸ì§€ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Output&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">mount&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">lib&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">kubelet&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pods&lt;/span>&lt;span class="o">/.../&lt;/span>&lt;span class="n">volumes&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">kubernetes&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">io&lt;/span>&lt;span class="o">~&lt;/span>&lt;span class="n">nfs&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">nfs&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">pv&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">bad&lt;/span> &lt;span class="n">option&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">several&lt;/span> &lt;span class="n">filesystems&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="o">.&lt;/span> &lt;span class="n">nfs&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">cifs&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">you&lt;/span> &lt;span class="n">might&lt;/span> &lt;span class="n">need&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">sbin&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">mount&lt;/span>&lt;span class="o">.&amp;lt;&lt;/span>&lt;span class="n">type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">helper&lt;/span> &lt;span class="n">program&lt;/span>&lt;span class="o">.&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì‹¤ì œë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ Mountingì„ í• ë•Œ &lt;code>mount&lt;/code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ëŠ” &lt;code>nfs-common&lt;/code> íŒ¨í‚¤ì§€ì— ìˆëŠ” ëª…ë ¹ì–´ë¡œ ë…¸ë“œì— &lt;code>nfs-common&lt;/code> ë¥¼ ì§ì ‘ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-2/image-10.png"
width="1774"
height="218"
srcset="https://s0okju.github.io/p/hexactf-2/image-10_hu_147b9e208e0766d3.png 480w, https://s0okju.github.io/p/hexactf-2/image-10_hu_2b2ba354d49931ce.png 1024w"
loading="lazy"
alt="Mounting Error"
class="gallery-image"
data-flex-grow="813"
data-flex-basis="1953px"
>&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°
&lt;/h2>&lt;p>ì§€ê¸ˆê¹Œì§€ NFSë¥¼ êµ¬ì¶•í•˜ê¸° ìœ„í•´ Terraformìœ¼ë¡œ ì¸í”„ë¼ í™˜ê²½ì„ ì„¤ì •í•˜ê³  ì¸ìŠ¤í„´ìŠ¤ì— nfs ì„œë²„ë¥¼ ì„¤ì •í–ˆìŠµë‹ˆë‹¤. ë‹¤ìŒì—ëŠ” Jenkins ì¸í”„ë¼ í™˜ê²½ì„ êµ¬ì„±í•˜ê³  ì–´ë–»ê²Œ Harbor Registryì— ë¹Œë“œí•œ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ Pushí•˜ëŠ”ì§€ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://docs.openstack.org/manila/latest/" target="_blank" rel="noopener"
>OpenStack Shared Filesystems (manila) documentation â€” manila 19.1.0.dev52 documentation&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>HexaCTF - 1. ì¸í”„ë¼ í”Œë«í¼ ì„ ì •ê³¼ ì„œë²„ ì´ì „ ì‹œ ë§ˆì£¼í•œ ë¬¸ì œ</title><link>https://s0okju.github.io/p/hexactf-1/</link><pubDate>Mon, 25 Nov 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/hexactf-1/</guid><description>&lt;h2 id="ctf-í”„ë¡œì íŠ¸">CTF í”„ë¡œì íŠ¸
&lt;/h2>&lt;p>CTFë€ í•´í‚¹ ëŒ€íšŒë¡œ ì°¸ê°€ìê°€ ì˜ë„ì ìœ¼ë¡œ ì·¨ì•½í•œ í”„ë¡œê·¸ë¨ì´ë‚˜ ì›¹ì‚¬ì´íŠ¸ì— ìˆ¨ê²¨ì§„ í”Œë˜ê·¸ë¥¼ ì°¾ëŠ” ê²Œì„&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>ì…ë‹ˆë‹¤. ëŒ€í‘œì ì¸ CTF ì‚¬ì´íŠ¸ë¡œëŠ” &lt;a class="link" href="https://dreamhack.io/" target="_blank" rel="noopener"
>ë“œë¦¼í•µ&lt;/a>ì´ ìˆìŠµë‹ˆë‹¤.
í˜„ì¬ í•´í‚¹ ë™ì•„ë¦¬ ì†Œì†ìœ¼ë¡œ ì£¼ë³€ì— CTFì— í™œë°œí•˜ê²Œ ì°¸ê°€í•˜ëŠ” ì¹œêµ¬ë“¤ì´ ë§ì´ ìˆìŠµë‹ˆë‹¤. ì € ë˜í•œ CTFëŠ” ì•„ë‹ˆì§€ë§Œ ë¬¸ì œ ì œì‘ì— ê´€ì‹¬ì´ ë§ìŠµë‹ˆë‹¤. í•´í‚¹ì´ë¼ëŠ” ê´€ì‹¬ì‚¬ë¥¼ ê°€ì§„ ì¸ì›ì´ ëª¨ì—¬ CTFì— ëŒ€í•œ ì•„ì´ë””ì–´ë¥¼ ë‚˜ëˆ„ê²Œ ë˜ì—ˆê³ , ì´í›„ ì§ì ‘ ì‚¬ì´íŠ¸ë¥¼ êµ¬ì¶•í•˜ê³  ëŒ€íšŒë¥¼ ê°œìµœí•˜ê¸°ë¡œ ê²°ì •í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ctf-ì œì‘-í•„ìˆ˜-ìš”ì†Œ---ì»¨í…Œì´ë„ˆ">CTF ì œì‘ í•„ìˆ˜ ìš”ì†Œ - ì»¨í…Œì´ë„ˆ
&lt;/h2>&lt;p>CTF ë¬¸ì œ ì¤‘ì—ëŠ” í˜¸ìŠ¤íŒ…ëœ ì·¨ì•½í•œ ì›¹ì‚¬ì´íŠ¸ê°€ í•„ìš”í•  ìˆ˜ ìˆê³ , ì·¨ì•½í•œ ìš´ì˜ì²´ì œ í™˜ê²½ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°ê° í•˜ë‚˜ì˜ í™˜ê²½ì„ êµ¬ì„±í•´ì„œ ì‚¬ìš©ìì—ê²Œ ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ´ê²½ìš° ë‹¤ë¥¸ ì‚¬ìš©ìì˜ ë¬¸ì œ í’€ì´ë¥¼ ì•Œ ìˆ˜ ìˆê³  ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ë°œë¹ ë¥´ê²Œ ë¬¸ì œë¥¼ í•´ê²°í•˜ë©´ ë‹¤ë¥¸ ì‚¬ìš©ìëŠ” ë¬¸ì œë¥¼ í’€ ìˆ˜ ì—†ê²Œ ë©ë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ í•´í‚¹ ëŒ€íšŒì˜ ì˜ë¯¸ê°€ ì—†ì–´ì§ˆ ê²ƒì…ë‹ˆë‹¤. ë¬¸ì œ í™˜ê²½ì˜ ë¶„ë¦¬ê°€ í•„ìš”í•˜ë‹¤ê³  íŒë‹¨í–ˆê³  ê²½ëŸ‰í™”ëœ ì‹¤í–‰ í™˜ê²½ì¸ ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ ê²°ì •í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ì¿ ë²„ë„¤í‹°ìŠ¤">ì¿ ë²„ë„¤í‹°ìŠ¤
&lt;/h2>&lt;p>ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ëŸ¬ë‹ ì»¤ë¸Œê°€ ìˆëŠ” í”Œë«í¼ì…ë‹ˆë‹¤. ì € ë˜í•œ ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ê¸°ë³¸ ê°œë…ë§Œ ì•Œì§€ ì˜¨ì „íˆ ì‚¬ìš©í•´ë³¸ ê²½í—˜ì€ ì—†ì—ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ &lt;strong>ì»¨í…Œì´ë„ˆë¥¼ ê´€ë¦¬í•œë‹¤ëŠ” ì¸¡ë©´ì—ì„œ ì¿ ë²„ë„¤í‹°ìŠ¤ë§Œí¼ ì¢‹ì€ í”Œë«í¼ì´ ì—†ì–´ì„œ ì„ íƒí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>Python Docker SDKì—ì„œ ì„œë¹„ìŠ¤ë¥¼ ê°œë°œí•˜ê³  ìˆì„ë•Œ ì œê°€ ê³ ë¯¼í–ˆë˜ ê²ƒì´ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>30ë¶„ í›„ì—ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ì¤‘ë‹¨ì‹œì¼œì•¼ í•˜ëŠ”ë° ì–´ë–»ê²Œ í•´ì•¼í•˜ì§€?&lt;/li>
&lt;li>2ê°œ ì´ìƒì˜ ì»¨í…Œì´ë„ˆê°€ í•„ìš”í•œ ê²½ìš°ì—ëŠ” ì–´ë–»ê²Œ ë…¼ë¦¬ì ìœ¼ë¡œ ë¶„ë¦¬í•´ì„œ ê´€ë¦¬í•˜ê³  ëª¨ë‹ˆí„°ë§í•˜ì§€?&lt;/li>
&lt;li>Health Check ì–´ë–»ê²Œ í•˜ì§€?&lt;/li>
&lt;/ol>
&lt;p>ëª¨ë“  ê³ ë¯¼ì˜ í•´ê²°ë°©ì•ˆì€ &lt;strong>ì§ì ‘ êµ¬í˜„&lt;/strong>í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤. ì§ì ‘ êµ¬í˜„í•˜ëŠ” ê²ƒë³´ë‹¤ëŠ” ì¦ëª…ëœ í”Œë«í¼ì„ í™œìš©í•˜ëŠ” ê²ƒì´ ì ì ˆí•˜ë‹¤ê³  íŒë‹¨í–ˆê³  ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì„ íƒí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ìš´ì˜-í”Œë«í¼-ì„ ì •---openstack">ìš´ì˜ í”Œë«í¼ ì„ ì • - Openstack
&lt;/h2>&lt;p>&lt;a class="link" href="https://www.redhat.com/ko/resources/openstack-platform-datasheet" target="_blank" rel="noopener"
>OpenStackì´ë€&lt;/a>ì´ë€ í’€ë§ëœ ê°€ìƒ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬Â &lt;a class="link" href="https://www.redhat.com/ko/topics/cloud-computing/what-is-private-cloud" target="_blank" rel="noopener"
>í”„ë¼ì´ë¹—&lt;/a>Â ë°Â &lt;a class="link" href="https://www.redhat.com/ko/topics/cloud-computing/what-is-public-cloud" target="_blank" rel="noopener"
>í¼ë¸”ë¦­&lt;/a>Â í´ë¼ìš°ë“œë¥¼ êµ¬ì¶•í•˜ê³  ê´€ë¦¬í•˜ëŠ” ì˜¤í”ˆì†ŒìŠ¤ í”Œë«í¼ë¥¼ ëœ»í•©ë‹ˆë‹¤.&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>
ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œ ì¸í”„ë¼ ë‹´ë‹¹ì„ ë§¡ê²Œ ë˜ë©´ì„œ í™ˆì„œë²„ë¥¼ ê°€ì§€ê³  CTFë¥¼ ìš´ì˜í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
ì €ëŠ” í™ˆì„œë²„ì— Openstackë¥¼ êµ¬ì¶•í•˜ê³  í™œìš©í•œ ê²½í—˜ì´ ìˆìŠµë‹ˆë‹¤. Openstackë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ê°€ì¥ í¸ë¦¬í–ˆë˜ ë¶€ë¶„ì€ &lt;strong>IaCë¥¼ í†µí•´ ì¸í”„ë¼ë¥¼ ì‰½ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤ëŠ” ì &lt;/strong>ì´ì—ˆìŠµë‹ˆë‹¤. ë˜í•œ ë‹¤ì–‘í•œ ìŠ¤í† ë¦¬ì§€ ì¢…ë¥˜ê°€ ìˆìœ¼ë©° ì—­í• ì— ë”°ë¼ í™œìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒë„ í° ë§¤ë ¥ì´ì—ˆìŠµë‹ˆë‹¤.
ìš´ì˜ ë‚œì´ë„ëŠ” ë†’ì§€ë§Œ í´ë¼ìš°ë“œë§Œì´ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ì¥ì ì„ í™œìš©í•˜ê³  ì‹¶ì–´ Openstackì„ ì„ íƒí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ì„œë²„-êµ¬ì¶•---ì œí•œëœ-í™˜ê²½ì—ì„œ-ëŠë‚€-ê²ƒ">ì„œë²„ êµ¬ì¶• - ì œí•œëœ í™˜ê²½ì—ì„œ ëŠë‚€ ê²ƒ
&lt;/h2>&lt;p>ì§‘ì— ìˆëŠ” í™ˆì„œë²„ë¥¼ ë‹¤ë¥¸ ì¥ì†Œë¡œ ì´ì „í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì´í›„ Openstack ì„œë²„ë¥¼ í˜„ì¬ í™˜ê²½ì— ë§ê²Œ ì„¤ì •í•´ì•¼ í–ˆìŠµë‹ˆë‹¤. ì‘ì—…ì—ëŠ” ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì´ í° ë¹„ì¤‘ì„ ì°¨ì§€í–ˆìŠµë‹ˆë‹¤. ì„¤ì • ê³¼ì •ì—ì„œ ëŠë‚€ì ì„ ì ì–´ë³´ê³ ì í•©ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="nat-gateway-ì˜-í•„ìš”ì„±">NAT Gateway ì˜ í•„ìš”ì„±
&lt;/h3>&lt;p>Public Cloudì—ì„œ Private Subnet ë‚´ì— ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ê°€ ì¸í„°ë„·ê³¼ ì ‘ì†í•˜ê¸° ìœ„í•´ì„œëŠ” NAT Gatewayê°€ í•„ìš”í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-1/image.png"
width="581"
height="510"
srcset="https://s0okju.github.io/p/hexactf-1/image_hu_5f5e5bd567aa439.png 480w, https://s0okju.github.io/p/hexactf-1/image_hu_b68bf485a9687392.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://docs.aws.amazon.com/ko_kr/vpc/latest/userguide/nat-gateway-scenarios.html"
class="gallery-image"
data-flex-grow="113"
data-flex-basis="273px"
>&lt;/p>
&lt;p>ìœ„ì˜ ìƒí™©ê³¼ ìœ ì‚¬í•˜ê²Œ ì„œë²„ì˜ ì‚¬ì„¤ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ì— ì ‘ê·¼í•´ì•¼ í•  ì¼ì´ ìˆì—ˆìŠµë‹ˆë‹¤. ì˜ˆë¡œ 172.19.0.2ì— ì ‘ê·¼í•˜ê³  ì‹¶ì€ë° ê°™ì€ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ì— ìˆì§€ ì•Šìœ¼ë¯€ë¡œ ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ &lt;code>enp2s0&lt;/code> ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ NATë¡œ ì‚¬ìš©í•˜ë©´ 172.19.0.2ì— ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/hexactf-1/image-1.png"
width="969"
height="755"
srcset="https://s0okju.github.io/p/hexactf-1/image-1_hu_fed93365860df3c7.png 480w, https://s0okju.github.io/p/hexactf-1/image-1_hu_205f793a9ba41934.png 1024w"
loading="lazy"
alt="êµ¬ì„±ë„"
class="gallery-image"
data-flex-grow="128"
data-flex-basis="308px"
>&lt;/p>
&lt;p>ì„œë²„ì— enp2s0ê°€ NATì´ë©° ì‚¬ì„¤ ë„¤íŠ¸ì›Œí¬ì¸ enp2s0.191ì— íŠ¸ë˜í”½ì„ í—ˆìš©í•´ì£¼ëŠ” ë°©í™”ë²½ ê·œì¹™ì„ ì¶”ê°€í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># enp2s0 ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ë‚˜ê°€ëŠ” ëª¨ë“  íŠ¸ë˜í”½ì˜ ì†ŒìŠ¤ì— NAT ìˆ˜í–‰ &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo iptables -t nat -A POSTROUTING -o enp2s0 -j MASQUERADE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># enp2s0ì— ë“¤ì–´ì™€ br-exë¡œ ë‚˜ê°€ëŠ” ICMP íŠ¸ë˜í”½ì„ í—ˆìš©í•œë‹¤.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo iptables -A FORWARD -i enp2s0 -o enp2s0.191 -p icmp -j ACCEPT
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># br-exë¡œ ë“¤ì–´ì™€ì„œ enp2s0ë¡œ ë‚˜ê°€ëŠ” ICMP íŠ¸ë˜í”½ì„ í—ˆìš©í•œë‹¤.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo iptables -A FORWARD -i enp2s0.191 -o enp2s0 -p icmp -j ACCEPT
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Private Subnet ë‚´ì— ìˆëŠ” ë¦¬ì†ŒìŠ¤ê°€ ì™¸ë¶€ ì¸í„°ë„·ê³¼ í†µì‹ í•  ìˆ˜ ìˆë„ë¡ NAT Gatewayê°€ í•„ìš”í•©ë‹ˆë‹¤.
ì´ëŠ” ì˜¨í”„ë¡œë¯¸ìŠ¤ í™˜ê²½ì—ì„œë„ í•´ë‹¹ë©ë‹ˆë‹¤. ì˜¨í”„ë¡œë¯¸ìŠ¤ í™˜ê²½ì—ì„œ ì‚¬ì„¤ ë„¤íŠ¸ì›Œí¬ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œëŠ” NAT ê¸°ëŠ¥ì´ í•„ìš”í•˜ë©° ì´ëŠ” &lt;strong>ê³µìš©(Public) ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¡œ êµ¬ì„±&lt;/strong>ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë˜ì•¼ ì™¸ë¶€ì™€ ì—°ê²°í•˜ì—¬ í†µì‹ í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.
Public Cloudì—ì„œ NAT Gatewayë¥¼ Public Subnetì— ë°°ì¹˜í•˜ëŠ” ì´ìœ ë„ ì˜¨í”„ë¡œë¯¸ìŠ¤ì™€ ë™ì¼í•  ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>í˜„ì¬ í”„ë¡œì íŠ¸ì—ì„œëŠ” NATë¥¼ í™œìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. vlanì„ ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¡œ í™œìš©í•˜ê³  ì‹¶ì—ˆìœ¼ë‚˜ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ê²°êµ­ enp2s0ë¥¼ Public IP í• ë‹¹ì— ì‚¬ìš©ë˜ëŠ” ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤(&lt;strong>br-ex&lt;/strong>)ë¡œ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ip-ë¶€ì¡±">IP ë¶€ì¡±
&lt;/h3>&lt;p>&lt;strong>ìƒˆë¡œìš´ ì¥ì†Œì—ì„œ ê°€ì¥ í° ê³ ë¯¼ê±°ë¦¬ëŠ” IP Pool ì„¤ì •&lt;/strong>ì´ì—ˆìŠµë‹ˆë‹¤. Openstackì€ Floating IP Pool ë‚´ì—ì„œ ì™¸ë¶€ì— ë…¸ì¶œí•  IPë¥¼ í• ë‹¹ë°›ê²Œ ë©ë‹ˆë‹¤. ì‹¤ì œ ìš´ì˜ì„ ìœ„í•œ IP, ê°œë°œì„ ìœ„í•œ IP ë“± ìƒê°ë³´ë‹¤ IPë¥¼ í• ë‹¹ë°›ì•„ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤.
í˜„ì¬ í™˜ê²½ì—ì„œëŠ” ë‹¤ì–‘í•œ ì„œë²„ì˜ IPê°€ ë¶ˆê·œì¹™ì ìœ¼ë¡œ í• ë‹¹ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ë§ì€ ì‚¬ëŒì´ ì¸í„°ë„·ì„ í™œìš©í•˜ëŠ” ê³µê°„ì´ê¸°ì— ë¬´ë¶„ë³„í•˜ê²Œ IPë¥¼ í• ë‹¹í•  ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê¼­ í•„ìš”í•œ IP ê°œìˆ˜ì—ì„œ ì¼ì‹œì ìœ¼ë¡œ í• ë‹¹ë°›ì„ ê²ƒì„ ê³ ë ¤í•´ 10ê°œë¥¼ í• ë‹¹í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>ì¿ ë²„ë„¤í‹°ìŠ¤ : Master, node 2ê°œ&lt;/li>
&lt;li>ê°œë°œ ê´€ë ¨ : Jenkins&lt;/li>
&lt;li>ê¸°íƒ€(ì¼ì‹œì ) : MySQL ê´€ë¦¬ìš© ë“±ë“±..&lt;/li>
&lt;/ul>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°
&lt;/h2>&lt;p>ì§€ê¸ˆê¹Œì§€ í”„ë¡œì íŠ¸ê°€ ì™œ ì´ëŸ¬í•œ í”Œë«í¼ì„ ì„ íƒí–ˆëŠ”ì§€ ì„¤ëª…í–ˆìŠµë‹ˆë‹¤. ë˜í•œ ì„œë²„ë¥¼ ë‹¤ë¥¸ ê³³ì— ì´ì „í•˜ê²Œ ë˜ë©´ì„œ ìƒê¸´ ê²½í—˜ì„ ë³´ì—¬ë“œë ¸ìŠµë‹ˆë‹¤.
ë‹¤ìŒí¸ì—ëŠ” ì „ì²´ì ì¸ êµ¬ì„±ë„ì™€ í•¨ê»˜ ì°¾ì•„ì˜¤ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://en.wikipedia.org/wiki/Capture_the_flag_%28cybersecurity%29" target="_blank" rel="noopener"
>https://en.wikipedia.org/wiki/Capture_the_flag_(cybersecurity)&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://www.redhat.com/ko/topics/openstack" target="_blank" rel="noopener"
>https://www.redhat.com/ko/topics/openstack&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>OpsAthlan 3-1. Hello MySQL</title><link>https://s0okju.github.io/p/opsathlan-3-1/</link><pubDate>Mon, 04 Nov 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/opsathlan-3-1/</guid><description>&lt;h2 id="ì‹œë‚˜ë¦¬ì˜¤">ì‹œë‚˜ë¦¬ì˜¤
&lt;/h2>&lt;p>ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì„¤ì¹˜í•˜ê³  ì½ê¸°ì™€ ì“°ê¸°ë¥¼ íƒìƒ‰í•´ë³´ì&lt;/p>
&lt;h3 id="êµ¬ì„±ë„">êµ¬ì„±ë„
&lt;/h3>&lt;ol>
&lt;li>Jenkinsë¥¼ í™œìš©í•œ ì»¨í…Œì´ë„ˆ ìë™ ë¹Œë“œ ë° docker-compose ë°°í¬&lt;/li>
&lt;li>Novaì— Mysql ì„œë²„ ì„¤ì¹˜ ë° volumeì— ë°ì´í„° ì €ì¥&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-3-1/image.png"
width="1140"
height="460"
srcset="https://s0okju.github.io/p/opsathlan-3-1/image_hu_f31c09a612fdea3a.png 480w, https://s0okju.github.io/p/opsathlan-3-1/image_hu_89a4fa1a418eb7ba.png 1024w"
loading="lazy"
alt="ì „ì²´ êµ¬ì„±ë„"
class="gallery-image"
data-flex-grow="247"
data-flex-basis="594px"
>&lt;/p>
&lt;h2 id="trove-ì„¤ì¹˜-ì‹¤íŒ¨">Trove ì„¤ì¹˜ ì‹¤íŒ¨
&lt;/h2>&lt;p>ì´ˆê¸° ì„¤ê³„ì—ì„œëŠ” RDSì™€ ìœ ì‚¬í•˜ë‹¤ê³  ìƒê°í•œ&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup> ì„œë¹„ìŠ¤ì¸ Troveë¥¼ í™œìš©í•´ì„œ êµ¬ì„±í•  ì˜ˆì •ì´ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ°ë° ë”°ë¡œ ë„¤íŠ¸ì›Œí¬ë¥¼ êµ¬ì¶•í•˜ê³  ì„¤ì¹˜í•´ë³´ë©´ì„œ ë‹¤ì–‘í•œ ì˜¤ë¥˜ì‚¬í•­ì„ ë§ˆì£¼í–ˆìŠµë‹ˆë‹¤. ì›ì¸ì€ ëŒ€ëµì ìœ¼ë¡œ ì°¾ì•˜ìœ¼ë‚˜ êµ¬ì²´ì ì¸ í•´ê²° ë°©ì•ˆì„ ì°¾ì§€ ëª»í•´ì„œ &lt;strong>Nova ì¸ìŠ¤í„´ìŠ¤ì— mysql ì„œë²„ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì „í™˜&lt;/strong>í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ì˜¤ë¥˜ì‚¬í•­">ì˜¤ë¥˜ì‚¬í•­
&lt;/h3>&lt;p>ìš°ì„  Troveê°€ ë¬´ì—‡ì¸ì§€ ì•Œì•„ë´…ì‹œë‹¤. &lt;a class="link" href="https://wiki.openstack.org/wiki/Trove" target="_blank" rel="noopener"
>ê³µì‹ë¬¸ì„œ&lt;/a>ì— ì˜í•˜ë©´ troveëŠ” ë‹¤ë¥¸ í¼ë¸”ë¦­ í´ë¼ìš°ë“œì˜ ë°ì´í„°ë² ì´ìŠ¤ ì„œë¹„ìŠ¤ê³¼ ìœ ì‚¬í•œ ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì•ˆì •ì„±ì„ ìœ„í•œ ëŒ€ë¶€ë¶„ì˜ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>Trove is &lt;strong>Database as a Service&lt;/strong> for OpenStack. It&amp;rsquo;s designed to run entirely onÂ &lt;a class="link" href="https://wiki.openstack.org/wiki/OpenStack" title="OpenStack"
target="_blank" rel="noopener"
>OpenStack&lt;/a>, with the goal of allowing users to quickly and easily utilize the features of a relational or non-relational database without the burden of handling complex administrative tasks.
&amp;hellip; Initially, the service will focus on providing resource isolation at high performance while &lt;strong>automating complex administrative tasks including deployment, configuration, patching, backups, restores, and monitoring.&lt;/strong>&lt;/p>&lt;/blockquote>
&lt;p>ì €ëŠ” Kolla-Ansibleë¥¼ ì‚¬ìš©í•˜ê³  ìˆì–´ ì‰½ê²Œ ë¦¬ì†ŒìŠ¤ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. &lt;code>globals.yml&lt;/code> ì—ì„œ trove ë¦¬ì†ŒìŠ¤ ë¶€ë¶„ì„ yesë¡œ ë°”ê¾¸ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤. ì„¤ì •ì„ ì¶”ê°€í•˜ê³  ì¬ë°°í¬í•˜ë©´ ì´ 3ê°œì˜ trove ì»¨í…Œì´ë„ˆê°€ ìƒì„±ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-3-1/image-1.png"
width="569"
height="126"
srcset="https://s0okju.github.io/p/opsathlan-3-1/image-1_hu_fcc5fc92feacc3f9.png 480w, https://s0okju.github.io/p/opsathlan-3-1/image-1_hu_ecfb01e6231c6060.png 1024w"
loading="lazy"
alt="trove ì„œë¹„ìŠ¤ ê´€ë ¨ ì»¨í…Œì´ë„ˆ"
class="gallery-image"
data-flex-grow="451"
data-flex-basis="1083px"
>&lt;/p>
&lt;p>TroveëŠ” Nova ì¸ìŠ¤í„´ìŠ¤ ë‚´ì—ì„œ ì‘ë™ë©ë‹ˆë‹¤. ê´€ë ¨ ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ì•„ì„œ glaceì— ì—…ë¡œë“œí•œ í›„ datastore versionì„ ì •ì˜í• ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Image ë‹¤ìš´ë¡œë“œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://tarballs.opendev.org/openstack/trove/images/trove-master-guest-ubuntu-jammy.qcow2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ì´ë¯¸ì§€ Glanceë¡œ ì—…ë¡œë“œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">openstack image create Trove-Ubuntu --disk-format qcow2 --container-format bare --public --tag trove --tag mysql --file trove-master-guest-ubuntu-jammy.qcow2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># datastore version ì •ì˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">openstack datastore version create 5.7.29 mysql mysql &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span> --image-tags trove,mysql --active --default --version-number 5.7.29
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ìœ„ì˜ ëª…ë ¹ì–´ë¥¼ ëª¨ë‘ ìˆ˜í–‰í•œ í›„ ì•„ë˜ì˜ ëª…ë ¹ì–´ë¥¼ í™•ì¸í•´ë³´ë©´ mysqlì— í•´ë‹¹ë˜ëŠ” datastoreë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-3-1/image-2.png"
width="538"
height="103"
srcset="https://s0okju.github.io/p/opsathlan-3-1/image-2_hu_6883ceb9aca8d146.png 480w, https://s0okju.github.io/p/opsathlan-3-1/image-2_hu_856bc01d71a3a345.png 1024w"
loading="lazy"
alt="datastore í™•ì¸"
class="gallery-image"
data-flex-grow="522"
data-flex-basis="1253px"
>&lt;/p>
&lt;p>ê·¸ë¦¬ê³  trove ê´€ë¦¬ ë„¤íŠ¸ì›Œí¬ë¥¼ ë”°ë¡œ ë§Œë“  í›„ì— ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">openstack database instance create test_db &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --flavor m1.medium &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --size &lt;span class="m">10&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --nic net-id&lt;span class="o">={&lt;/span>custom trove manangement network id&lt;span class="o">}&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --database testdb &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --users tester:mypassword &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --datastore mysql &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --datastore-version 5.7.29 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --allowed-cidr 0.0.0.0/0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ëª…ë ¹ì–´ ìˆ˜í–‰ ì´í›„ ë¹Œë“œ ì‹œê°„ì´ ê¸¸ì—ˆìŠµë‹ˆë‹¤. Timeout ì—ëŸ¬ê°€ ë°œìƒí•  ê²ƒì´ë¼ê³  ì˜ˆìƒí–ˆê³ , ìƒê°í•œëŒ€ë¡œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-3-1/image-3.png"
width="1529"
height="171"
srcset="https://s0okju.github.io/p/opsathlan-3-1/image-3_hu_441c481c934e614b.png 480w, https://s0okju.github.io/p/opsathlan-3-1/image-3_hu_6d5d606e9be556a2.png 1024w"
loading="lazy"
alt="trove ìƒì„± ì—ëŸ¬"
class="gallery-image"
data-flex-grow="894"
data-flex-basis="2145px"
>&lt;/p>
&lt;p>trove - api ì—ì„œ taskmanagerë¡œ ì‘ì—…ì„ ìˆ˜í–‰í• ë•Œ message bus ë¶€ë¶„ì—ì„œ ë¬¸ì œê°€ ìƒê¸´ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-3-1/image-4.png"
width="300"
height="184"
srcset="https://s0okju.github.io/p/opsathlan-3-1/image-4_hu_e9833adf3828b2b2.png 480w, https://s0okju.github.io/p/opsathlan-3-1/image-4_hu_20fe353ca2d78f1b.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://www.odbms.org/2016/02/10-things-you-should-know-about-openstack-trove-the-open-source-database-as-a-service/"
class="gallery-image"
data-flex-grow="163"
data-flex-basis="391px"
>&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-3-1/image-5.png"
width="1060"
height="448"
srcset="https://s0okju.github.io/p/opsathlan-3-1/image-5_hu_dbec9d141b136f5c.png 480w, https://s0okju.github.io/p/opsathlan-3-1/image-5_hu_6f1fcae678aef8c5.png 1024w"
loading="lazy"
alt="trove timeout error"
class="gallery-image"
data-flex-grow="236"
data-flex-basis="567px"
>&lt;/p>
&lt;p>ìš°ë¦¬ì˜ ëª©ì ì€ ê°„ë‹¨í•˜ê²Œ APIë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— ëŒ€ê·œëª¨ì— ì í•©í•œ ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œì´ ì•„ë‹ˆì—¬ë„ ê´œì°®ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ &lt;strong>ê°„ë‹¨í•˜ê²Œ Nova ì¸ìŠ¤í„´ìŠ¤ ë‚´ì— Mysql ì„œë²„ë¥¼ ì„¤ì¹˜í•˜ëŠ” ë°©ë²•&lt;/strong>ì„ ì„ íƒí–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="í”„ë¡œë¹„ì €ë‹provisioning">í”„ë¡œë¹„ì €ë‹(Provisioning)
&lt;/h2>&lt;blockquote>
&lt;p>í”„ë¡œë¹„ì €ë‹(Provisioning) ì´ë€ ì˜ë¯¸ëŠ” ì˜ì–´ ì§ì—­í•œ ê·¸ëŒ€ë¡œ &amp;ldquo;ì œê³µí•˜ëŠ”ê²ƒ&amp;rdquo; ì´ë‹¤.Â 
ì–´ë–¤ ì¢…ë¥˜ì˜ ì„œë¹„ìŠ¤ë“ Â &lt;strong>ì‚¬ìš©ìì˜ ìš”êµ¬ì— ë§ê²Œ ì‹œìŠ¤í…œ ìì²´ë¥¼ ì œê³µ í•˜ëŠ” ê²ƒ&lt;/strong>ì„Â í”„ë¡œë¹„ì €ë‹ì´ë¼ê³  í•˜ë©° ì œê³µí•´ì¤„ ìˆ˜ ìˆëŠ” ê²ƒì€ ì¸í”„ë¼ ìì›ì´ë‚˜ ì„œë¹„ìŠ¤, ë˜ëŠ” ì¥ë¹„ê°€ ë  ìˆ˜ë„ ìˆë‹¤.&lt;/p>
&lt;p>ì¶œì²˜ - &lt;a class="link" href="https://jins-dev.tistory.com/entry/%ED%94%84%EB%A1%9C%EB%B9%84%EC%A0%80%EB%8B%9DProvisioning-%EC%9D%B4%EB%9E%80" target="_blank" rel="noopener"
>Jins&amp;rsquo; Dev Inside - í”„ë¡œë¹„ì €ë‹ì´ë€?&lt;/a>&lt;/p>&lt;/blockquote>
&lt;p>ì•ìœ¼ë¡œëŠ” ì¸í”„ë¼ë¥¼ ìƒì„±, í™˜ê²½ì„ ì„¤ì • ê³¼ì •ì„ í”„ë¡œë¹„ì €ë‹ì´ë¼ëŠ” ìš©ì–´ë¡œ ì¹­í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ë¦¬ì†ŒìŠ¤-ìƒì„±">ë¦¬ì†ŒìŠ¤ ìƒì„±
&lt;/h3>&lt;p>ì €í¬ëŠ” í¬ê²Œ 2ê°€ì§€ì˜ Nova ì¸ìŠ¤í„´ìŠ¤ê°€ í•„ìš”í•©ë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>Docker, Jenkins ì„œë²„ê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ -&amp;gt; &lt;strong>Nova ì¸ìŠ¤í„´ìŠ¤&lt;/strong>&lt;/li>
&lt;li>Block Storage(Cinder)ì™€ ì—°ê²°ë˜ì–´ ìˆìœ¼ë©° MySQL Serverê°€ ì„¤ì¹˜ëœ ì¸ìŠ¤í„´ìŠ¤ -&amp;gt; Block &lt;strong>Storage(Cinder)ê°€ ì—°ê²°ëœ Nova ì¸ìŠ¤í„´ìŠ¤&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-3-1/image.png"
width="1140"
height="460"
srcset="https://s0okju.github.io/p/opsathlan-3-1/image_hu_f31c09a612fdea3a.png 480w, https://s0okju.github.io/p/opsathlan-3-1/image_hu_89a4fa1a418eb7ba.png 1024w"
loading="lazy"
alt="ì „ì²´ êµ¬ì„±ë„"
class="gallery-image"
data-flex-grow="247"
data-flex-basis="594px"
>&lt;/p>
&lt;p>Openstackì—ì„œëŠ” Nova ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ Volume(Block Storage)ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‰½ê²Œ AWSì˜ EBSë¼ê³  ìƒê°í•˜ì‹œë©´ ë©ë‹ˆë‹¤.&lt;br>
ì•ì„œ ë§í–ˆë“¯ì´ Trove ì„œë¹„ìŠ¤ ì„¤ì¹˜ë¥¼ ì‹¤íŒ¨í•˜ê²Œ ë˜ë©´ì„œ ëŒ€ì•ˆì±…ìœ¼ë¡œ Novaì— MySQL ì„œë²„ë¥¼ ì„¤ì¹˜í•˜ëŠ” ë°©ì•ˆì„ ì„ íƒí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. Volumeì´ ì—°ê²°ëœ Nova Instanceë¥¼ í™œìš©í•˜ì—¬ &lt;strong>ë°ì´í„°ë² ì´ìŠ¤ì˜ ë°ì´í„°ê°€ Block Storageì— ì˜êµ¬ì ìœ¼ë¡œ ì €ì¥í•  ìˆ˜ ìˆê²Œ êµ¬ì„±&lt;/strong>í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Block Storage Volume for MySQL Instance
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_blockstorage_volume_v3&amp;#34; &amp;#34;db_volume&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;${var.project_name}-db-volume&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> size&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">volume_size&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Nova Instance with Volume (MySQL Server)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_compute_instance_v2&amp;#34; &amp;#34;db_instance&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;${var.project_name}-db-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> image_name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">image&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> flavor_name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">flavor&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> key_pair&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_compute_keypair_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">keypair&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">network&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> port&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_networking_port_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">db_port&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> metadata&lt;/span> &lt;span class="o">=&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> ssh_user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;ubuntu&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Attach Volume to MySQL Instance
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_compute_volume_attach_v2&amp;#34; &amp;#34;db_volume_attach&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> instance_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_compute_instance_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">db_instance&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> volume_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">openstack_blockstorage_volume_v3&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">db_volume&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ìœ„ì˜ ì½”ë“œë¥¼ í¬í•¨í•œ 2ê°œì˜ Nova Instanceë¥¼ ìƒì„±í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-3-1/image-6.png"
width="534"
height="534"
srcset="https://s0okju.github.io/p/opsathlan-3-1/image-6_hu_94e427a8f5d9f424.png 480w, https://s0okju.github.io/p/opsathlan-3-1/image-6_hu_305549788cf8ba30.png 1024w"
loading="lazy"
alt="ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€"
class="gallery-image"
data-flex-grow="100"
data-flex-basis="240px"
>&lt;/p>
&lt;p>ë³¸ë˜ë¼ë©´ ê´€ë¦¬ ë„¤íŠ¸ì›Œí¬ì™€ ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ê°€ ë¶„ë¦¬ë˜ì–´ì•¼ í•˜ì§€ë§Œ í†µí•©ë˜ì–´ ìˆëŠ” ê´€ê³„ë¡œ ëª¨ë‘ floating ipë¥¼ í• ë‹¹í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;br>
ë§Œì•½ì— ë„¤íŠ¸ì›Œí¬ê°€ ì—­í• ì— ë”°ë¼ ë¶„ëª…í•˜ê²Œ ë¶„ë¦¬ë˜ì–´ ìˆë‹¤ë©´ web-instanceëŠ” ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ë¡œ êµ¬ì„±í•˜ê³  db-instanceëŠ” ê´€ë¦¬ ë„¤íŠ¸ì›Œí¬ ipë¥¼ í• ë‹¹ë°›ì•„ì•¼ í•  ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-3-1/image-7.png"
width="720"
height="243"
srcset="https://s0okju.github.io/p/opsathlan-3-1/image-7_hu_bb6e2db3eb986ddf.png 480w, https://s0okju.github.io/p/opsathlan-3-1/image-7_hu_ef8807c6f11ded7f.png 1024w"
loading="lazy"
alt="Nova Instance ëª©ë¡"
class="gallery-image"
data-flex-grow="296"
data-flex-basis="711px"
>&lt;/p>
&lt;p>ë°ì´í„° ë² ì´ìŠ¤ ì„œë²„ë¥¼ ì„¤ì¹˜í•  &lt;code>OpsAthlan-03-db-instance&lt;/code> ì¸ìŠ¤í„´ìŠ¤ë¥¼ í™•ì¸í•´ ë³´ê² ìŠµë‹ˆë‹¤. í•´ë‹¹ ì •ë³´ì— ë“¤ì–´ê°€ë³´ë©´ &lt;code>OpsAthlan-03-db-volume&lt;/code> &lt;strong>volumeì´ ì¸ìŠ¤í„´ìŠ¤ì˜ /dev/vdb ê²½ë¡œë¡œ ë§ˆìš´íŒ…&lt;/strong>ë˜ì—ˆìŒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-3-1/image-8.png"
width="465"
height="559"
srcset="https://s0okju.github.io/p/opsathlan-3-1/image-8_hu_7dfdc3a64402eccd.png 480w, https://s0okju.github.io/p/opsathlan-3-1/image-8_hu_6fc84c3f2e651575.png 1024w"
loading="lazy"
alt="Novaì— Attachëœ Volume ì •ë³´"
class="gallery-image"
data-flex-grow="83"
data-flex-basis="199px"
>&lt;/p>
&lt;h3 id="mysql-ì„œë²„-ì„¤ì¹˜">MySQL ì„œë²„ ì„¤ì¹˜
&lt;/h3>&lt;p>ì²˜ìŒì—ëŠ” Ansibleë¥¼ í™œìš©í•˜ì—¬ í•œë²ˆì— MySQL ì„œë²„ë¥¼ ì„¤ì¹˜í•  ì˜ˆì •ì´ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì €ì¥ ê²½ë¡œ ìˆ˜ì • ì‘ì—…ì´ ìš”êµ¬ë˜ë©´ì„œ ìë™í™”ëŠ” í˜ë“¤ë‹¤ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ìƒë‹¹íˆ ì‘ì—…ì´ ë²ˆê±°ë¡œìš´ ê´€ê³„ë¡œ &lt;a class="link" href="https://jongsky.tistory.com/81" target="_blank" rel="noopener"
>JONGSKYë‹˜ì˜ ë¸”ë¡œê·¸(ì‹œê°„ì˜ ë†ë„) - MySQL ì €ì¥ê²½ë¡œ ë³€ê²½í•˜ê¸°(feat. ubuntu)&lt;/a> ë¡œ ëŒ€ì²´í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ìœ„ì˜ ë°©ë²•ì„ ëª¨ë‘ ë”°ë¼í•˜ë©´ mysql ì„œë²„ ì„¤ì¹˜ê°€ ì™„ë£Œë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-3-1/image-9.png"
width="739"
height="202"
srcset="https://s0okju.github.io/p/opsathlan-3-1/image-9_hu_a57512bfc759a4cc.png 480w, https://s0okju.github.io/p/opsathlan-3-1/image-9_hu_1db43807fdf4bdcd.png 1024w"
loading="lazy"
alt="mysql server ì •ìƒ ì‹¤í–‰ ìƒíƒœ"
class="gallery-image"
data-flex-grow="365"
data-flex-basis="878px"
>&lt;/p>
&lt;p>&lt;code>web-instance&lt;/code> ì— mysql clientë¥¼ ì„¤ì¹˜í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•´ ë³´ê² ìŠµë‹ˆë‹¤. mysql ì„œë²„ì— ê³„ì •ì„ ë§Œë“  í›„ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ë©´ ì—°ê²°í•  ìˆ˜ ì—†ë‹¤ëŠ” ì˜¤ë¥˜ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. &lt;strong>&lt;code>db-instance&lt;/code> security groupì— mysql ì„œë²„ í¬íŠ¸ì¸ 3306 ê·œì¹™ì„ ì¶”ê°€í•´ë„ ë˜‘ê°™ì€ ì˜¤ë¥˜ê°€ ë°œìƒ&lt;/strong>ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-3-1/image-10.png"
width="803"
height="67"
srcset="https://s0okju.github.io/p/opsathlan-3-1/image-10_hu_b0e69f8a16a00faf.png 480w, https://s0okju.github.io/p/opsathlan-3-1/image-10_hu_ae5c25dad2f3a6f4.png 1024w"
loading="lazy"
alt="Mysql ì—°ê²° ì˜¤ë¥˜"
class="gallery-image"
data-flex-grow="1198"
data-flex-basis="2876px"
>&lt;/p>
&lt;p>&lt;code>/etc/mysql/mysql.conf.d/mysqld.cnf&lt;/code> mysql ì„¤ì • íŒŒì¼ì— ì™¸ë¶€ í†µì‹ ì„ í—ˆìš©í•´ì£¼ë©´ ì •ìƒì ìœ¼ë¡œ ì—°ê²°í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">bind-address = 0.0.0.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ë‹¤ìŒ-ì´ì•¼ê¸°">ë‹¤ìŒ ì´ì•¼ê¸°
&lt;/h2>&lt;p>ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ë¥¼ êµ¬ì„±í–ˆìœ¼ë‹ˆ jenkinsë¥¼ í†µí•œ CI/CDë¥¼ êµ¬ì¶•í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>ì™„ì „ ê´€ë¦¬í˜• ì„œë¹„ìŠ¤ëŠ” ì•„ë‹™ë‹ˆë‹¤!&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>í´ë¼ìš°ë“œ ë„¤íŠ¸ì›Œí¬ - í´ë¼ìš°ë“œì™€ VLAN</title><link>https://s0okju.github.io/p/cloud-network-1/</link><pubDate>Sun, 27 Oct 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/cloud-network-1/</guid><description>&lt;h2 id="lanì´ë€">LANì´ë€
&lt;/h2>&lt;p>LAN(Local Address Network)ì€ ìœ„í‚¤ë°±ê³¼ì— ì˜í•˜ë©´ ë„¤íŠ¸ì›Œí¬ ë§¤ì²´ë¥¼ ì´ìš©í•˜ì—¬ ê°€ê¹Œìš´ ì§€ì—­ì„ í•œë° ë¬¶ì€ ì»´í“¨í„° ë„¤íŠ¸ì›Œí¬&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>ì…ë‹ˆë‹¤.
ê·¸ëŸ°ë° ì´ ë§ ìì²´ëŠ” ìƒë‹¹íˆ ì¶”ìƒì ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. ì—¬ëŸ¬ ê¸€ì„ ì°¾ë˜ ì¤‘ &lt;a class="link" href="https://aws-hyoh.tistory.com/" target="_blank" rel="noopener"
>ë„¤íŠ¸ì›Œí¬ ì—”ì§€ë‹ˆì–´ í™˜ì˜ì˜ ê¸°ìˆ  ë¸”ë¡œê·¸&lt;/a>ì—ì„œ &lt;a class="link" href="https://aws-hyoh.tistory.com/85" target="_blank" rel="noopener"
>LANì— ëŒ€í•´ ì˜ ì„¤ëª…í•œ ê¸€&lt;/a>ì„ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ì§‘ê³¼ ê°™ì€ ì†Œê·œëª¨ ë„¤íŠ¸ì›Œí¬ì—ì„œë¶€í„° ì‚¬ë¬´ì‹¤, íšŒì‚¬ì™€ ê°™ì€ ì¤‘ê·œëª¨ ì´ìƒì˜ ë„¤íŠ¸ì›Œí¬ì— ì´ë¥´ê¸°ê¹Œì§€ &lt;strong>ë™ì¼í•œ IP ëŒ€ì—­ê³¼ ë™ì¼í•œ Subnet Maskë¥¼ ì‚¬ìš©&lt;/strong>í•œë‹¤ë©´ í¬ê¸°ì™€ ìƒê´€ ì—†ì´ LANì´ë¼ê³  ë¶€ë¥¼ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>ì¶œì²˜ - &lt;a class="link" href="https://aws-hyoh.tistory.com/85" target="_blank" rel="noopener"
>ë„¤íŠ¸ì›Œí¬ ì—”ì§€ë‹ˆì–´ í™˜ì˜ì˜ ê¸°ìˆ ë¸”ë¡œê·¸ : LAN ì‰½ê²Œ ì´í•´í•˜ê¸° &lt;/a>&lt;/p>&lt;/blockquote>
&lt;p>ì˜ˆì‹œë¥¼ ë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤. ì €ëŠ” í˜„ì¬ í™ˆ ì„œë²„ë¥¼ ìš´ì˜í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê¸°ê¸°ì˜ IPì£¼ì†Œë¥¼ í™•ì¸í•˜ê²Œ ë˜ë©´ 192.168.50.xë¼ëŠ” ë™ì¼í•œ IP ëŒ€ì—­ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ë‹¤ì‹œë§í•´ ì €ëŠ” LANì„ ì“°ê³  ìˆë‹¤ê³  ë³´ë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/cloud-network-1/image.png"
width="441"
height="291"
srcset="https://s0okju.github.io/p/cloud-network-1/image_hu_c98354d26bb085c.png 480w, https://s0okju.github.io/p/cloud-network-1/image_hu_2dc8ce16dd3e0a80.png 1024w"
loading="lazy"
alt="í™ˆ ì„œë²„ êµ¬ì„±ë„"
class="gallery-image"
data-flex-grow="151"
data-flex-basis="363px"
>&lt;/p>
&lt;p>ì—¬ê¸° ë¬¸ì œê°€ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤. ë§Œì•½ì— ë‹¤ì–‘í•œ IP ëŒ€ì—­ì„ ì“°ê³  ì‹¶ë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œìš”? ë¬¼ë¦¬ì ì¸ ì¥ì¹˜ë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤ë§Œ ìƒí™©ì— ë”°ë¼ì„œëŠ” ë¶ˆê°€ëŠ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜ ë‹¤ë¥¸ í•´ê²° ë°©ì•ˆìœ¼ë¡œ VLANì´ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="vlan">VLAN
&lt;/h2>&lt;p>í•˜ë‚˜ì˜ ë‹¨ì¼ ë„¤íŠ¸ì›Œí¬ëŠ” í•˜ë‚˜ì˜ ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì˜ì—­ì´ë©° ì´ëŸ¬í•œ êµ¬ê°„ì„ LANì´ë¼ê³  í•©ë‹ˆë‹¤. ì´ë•Œ VLANì€ LAN ë…¼ë¦¬ì ìœ¼ë¡œ ë¸Œë¡œë“œìºìŠ¤íŠ¸ ë„ë©”ì¸ì„ ë‚˜ëˆ„ëŠ” ì˜ì—­ì´ë¼ê³  í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¦‰ í•˜ë‚˜ì˜ ìŠ¤ìœ„ì¹˜ ë§Œìœ¼ë¡œë„ &lt;strong>ì—¬ëŸ¬ ê°œì˜ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ì„ ì‚¬ìš©&lt;/strong>í•  ìˆ˜ ìˆê²Œ ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/cloud-network-1/image-1.png"
width="645"
height="363"
srcset="https://s0okju.github.io/p/cloud-network-1/image-1_hu_ee5e790b4a245ea4.png 480w, https://s0okju.github.io/p/cloud-network-1/image-1_hu_7711525fca5f5511.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://yoursmaddy.medium.com/vlans-segmenting-networks-for-better-performance-and-security-306d5d6b47a"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;/p>
&lt;p>&lt;strong>VLANì€ ë„¤íŠ¸ì›Œí¬ë¥¼ ë¶„í• ë§Œí•˜ì§€ ì„œë¡œ í†µì‹ í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.&lt;/strong> ìœ„ì˜ ê·¸ë¦¼ì²˜ëŸ¼ VLAN2ì˜ íŒ¨í‚·ì„ VLAN3ì— ë³´ë‚¼ ìˆ˜ ì—†ê²Œ ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ L3 ìŠ¤ìœ„ì¹˜ ë˜ëŠ” ë¼ìš°í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ VLAN ê°„ì˜ ë¼ìš°íŒ…ì„ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>L3 ìŠ¤ìœ„ì¹˜ì™€ ë¼ìš°í„°ëŠ” ì´ˆê¸°ì—ëŠ” ê¸°ìˆ ì ì¸ ì°¨ì´ê°€ ìˆì—ˆìœ¼ë‚˜ ê¸°ìˆ ì˜ ë°œì „ìœ¼ë¡œ ì°¨ì´ê°€ ê±°ì˜ ì—†ë‹¤ê³  í•©ë‹ˆë‹¤.&lt;br>
L3 ìŠ¤ìœ„ì¹˜ê°€ L2 ìŠ¤ìœ„ì¹˜ + ë¼ìš°í„°ì˜ íŠ¹ì§•ì„ ê°€ì§€ê³  ìˆìœ¼ë©°, VLANì„ ì‚¬ìš©í•˜ê¸°ê°€ ë” íš¨ìœ¨ì ì´ë¼ê³  í•©ë‹ˆë‹¤. &lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>&lt;/p>&lt;/blockquote>
&lt;p>VLANì€ ì´ì™€ ê°™ì€ ì„¤ëª…ì´ ì „ë¶€ëŠ” ì•„ë‹™ë‹ˆë‹¤. ìŠ¤ìœ„ì¹˜ ê°„ ì–´ë–»ê²Œ í†µì‹ í• ì§€ ë“±ë“± ê´€ë ¨ëœ ì´ì•¼ê¸°ê°€ ë§ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´í•´ë¥¼ ìœ„í•´ ë„¤íŠ¸ì›Œí¬ë¥¼ ë¶„í• í•œë‹¤ëŠ” ì ë§Œ ì•Œì•„ì£¼ì„¸ìš”.&lt;/p>
&lt;h2 id="vlanê³¼-cloud-network">VLANê³¼ Cloud Network
&lt;/h2>&lt;p>í¼ë¸”ë¦­ í´ë¼ìš°ë“œì—ì„œëŠ” VPCë¥¼ ì •ì˜í•œ í›„ Private, Public ì„œë¸Œë„·ì„ ì •ì˜í•˜ê²Œ ë©ë‹ˆë‹¤. ë‹¹ì—°í•œ ë§ì´ì§€ë§Œ ë¬¼ë¦¬ì ì¸ ì¥ì¹˜ì™€ 1:1 ë§¤ì¹­í•˜ë‹¤ë³´ë©´ &amp;ldquo;ì–´ë–»ê²Œ?&amp;rdquo; ë¼ëŠ” ë¬¼ìŒë§Œ ë‚¨ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤. ìë£Œë¥¼ ì°¾ì•„ë³´ë©´ì„œ ë‚´ë¦° ê²°ë¡ ì€ í´ë¼ìš°ë“œ ë„¤íŠ¸ì›Œí‚¹ì˜ í•µì‹¬ì€ &lt;strong>ê°€ìƒí™”&lt;/strong>ë¼ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>Cloudì—ì„œëŠ” ê°€ìƒ ë¼ìš°í„°ë¥¼ í†µí•´ Network(VPC)ë¥¼ êµ¬ì„±í•˜ê³ , VLANì„ í™œìš©í•˜ì—¬ Subnetì„ êµ¬ì„±í•˜ê²Œ ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  í´ë¼ìš°ë“œ ë¦¬ì†ŒìŠ¤ëŠ” Subentì—ì„œ ipë¥¼ í• ë‹¹ë°›ì•„ ë„¤íŠ¸ì›Œí¬ ë²”ìœ„ ë‚´ì—ì„œ í†µì‹ í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/cloud-network-1/image-2.png"
width="1108"
height="516"
srcset="https://s0okju.github.io/p/cloud-network-1/image-2_hu_30c21a0346101b54.png 480w, https://s0okju.github.io/p/cloud-network-1/image-2_hu_ea70babc91ac5d84.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://www.shapeblue.com/a-beginners-guide-to-cloudstack-networking/"
class="gallery-image"
data-flex-grow="214"
data-flex-basis="515px"
>&lt;/p>
&lt;h2 id="ë‹¤ìŒ-ì´ì•¼ê¸°---openstackë¥¼-í†µí•´-ì•Œì•„ë³´ëŠ”-í´ë¼ìš°ë“œ-ë„¤íŠ¸ì›Œí¬">ë‹¤ìŒ ì´ì•¼ê¸° - Openstackë¥¼ í†µí•´ ì•Œì•„ë³´ëŠ” í´ë¼ìš°ë“œ ë„¤íŠ¸ì›Œí¬
&lt;/h2>&lt;p>Openstackì€ Cloud OSë¡œ ì˜¤í”ˆì†ŒìŠ¤ì…ë‹ˆë‹¤. AWSì™€ ê°™ì€ í¼ë¸”ë¦­ í´ë¼ìš°ë“œ ë‚´ë¶€êµ¬ì¡°ëŠ” ê³µê°œë˜ì§€ ì•Šì•˜ì§€ë§Œ Openstackë¥¼ í†µí•´ í° í‹€ì˜ í´ë¼ìš°ë“œ êµ¬ì¡°ë¥¼ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;br>
Openstackì€ ë„¤íŠ¸ì›Œí¬ êµ¬ì„± ì‹œ OVSë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. Openstackì—ì„œë„ ë‹¤ë¥¸ í¼ë¸”ë¦­ í´ë¼ìš°ë“œì²˜ëŸ¼ Subnet ê°œë…ì´ ì¡´ì¬í•˜ë©° VLAN ê¸°ìˆ ì„ ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>OVSëŠ” ë‹¤ì¤‘ ê³„ì¸µ ìŠ¤ìœ„ì¹˜ì˜ ì˜¤í”ˆì†ŒìŠ¤ êµ¬í˜„ì²´ë¡œ ì—¬ëŸ¬ í”„ë¡œí† ì½œ ë° í‘œì¤€ì„ ì§€ì›í•˜ë©´ì„œ í•˜ë“œì›¨ì–´ ê°€ìƒí™” í™˜ê²½ì„ ìœ„í•œ ìŠ¤ìœ„ì¹­ ìŠ¤íƒì„ ì œê³µí•©ë‹ˆë‹¤.&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>&lt;/p>&lt;/blockquote>
&lt;p>&lt;img src="https://s0okju.github.io/p/cloud-network-1/image-3.png"
width="1194"
height="534"
srcset="https://s0okju.github.io/p/cloud-network-1/image-3_hu_4ef0c5b138d2708.png 480w, https://s0okju.github.io/p/cloud-network-1/image-3_hu_a7ac7913109366c.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://platform9.com/blog/getting-started-openstack-neutron/"
class="gallery-image"
data-flex-grow="223"
data-flex-basis="536px"
>&lt;/p>
&lt;p>í˜„ì¬ í™ˆì„œë²„ë¡œ Openstackë¥¼ í™œìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ê¸€ì—ì„œ í™ˆì„œë²„ë¥¼ í†µí•´ ì–´ë–»ê²Œ ë„¤íŠ¸ì›Œí¬ê°€ êµ¬ì„±ë˜ì—ˆëŠ”ì§€ ìì„¸íˆ ë§ì”€ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h1 id="reference">Reference
&lt;/h1>&lt;ul>
&lt;li>&lt;a class="link" href="https://aws-hyoh.tistory.com/75" target="_blank" rel="noopener"
>https://aws-hyoh.tistory.com/75&lt;/a>&lt;/li>
&lt;/ul>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://ko.wikipedia.org/wiki/%EA%B7%BC%EA%B1%B0%EB%A6%AC_%ED%86%B5%EC%8B%A0%EB%A7%9D" target="_blank" rel="noopener"
>https://ko.wikipedia.org/wiki/%EA%B7%BC%EA%B1%B0%EB%A6%AC_%ED%86%B5%EC%8B%A0%EB%A7%9D&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” ë„¤íŠ¸ì›Œí¬ ì›ë¦¬, Gene ì €ì, ì˜ì§„ë‹·ì»´&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>&lt;a class="link" href="https://en.wikipedia.org/wiki/Open_vSwitch" target="_blank" rel="noopener"
>https://en.wikipedia.org/wiki/Open_vSwitch&lt;/a>&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Terraform - Workspace</title><link>https://s0okju.github.io/p/terraform-workspace/</link><pubDate>Wed, 23 Oct 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/terraform-workspace/</guid><description>&lt;h2 id="introduction">Introduction
&lt;/h2>&lt;p>í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ì—ëŠ” í•˜ë‚˜ì˜ ìƒíƒœ íŒŒì¼ì´ ì¡´ì¬í•œë‹¤. ê·¸ëŸ¬ë©´ ê¶ê¸ˆì¦ì„ ê°€ì§€ê²Œ ëœë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>Q. ë§Œì•½ì— ê°œë°œ, ìš´ì˜ ì½”ë“œë¥¼ ì§ ë‹¤ê³  í•œë‹¤ë©´ ì–´ë–»ê²Œ ì§¤ê¹Œ?&lt;br>
A. ê³µí†µì˜ ê¸°ëŠ¥ì´ í¬í•¨ëœ root ëª¨ë“ˆì„ ë§Œë“  í›„ ìš´ì˜, ê°œë°œ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“ ë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ê³µí†µì˜ ì¸í”„ë¼ ë¦¬ì†ŒìŠ¤ê°€ í¬í•¨ëœ ëª¨ë“ˆ ìƒì„±í•  ê²ƒì´ë‹¤. ë³„ë„ì˜ ëª¨ë“ˆì„ ìƒì„±í•˜ê²Œ ëœë‹¤ë©´ ê³µí†µ ëª¨ë“ˆì˜ ìƒíƒœ ê´€ë¦¬ ë¬¸ì œë¥¼ ë¹¼ë†“ì„ ìˆ˜ ì—†ì„ ê²ƒì´ë‹¤.&lt;/p>
&lt;p>ê°œë°œ, ìš´ì˜ ì½”ë“œë¥¼ í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ì— êµ¬í˜„í•˜ê²Œ ë˜ë©´ í™˜ê²½ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ì‹¤í–‰ë˜ëŠ” ë¶€ë¶„ì´ ì¡´ì¬í•˜ê²Œ ëœë‹¤. ê²°êµ­ ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ì¡°ê±´ë¬¸ì´ ì½”ë“œë¥¼ ë” ë³µì¡í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.&lt;/p>
&lt;p>ìš´ì˜, ê°œë°œ í”„ë¡œì íŠ¸ë¥¼ ë¶„ë¦¬í•˜ëŠ” ê²ƒë„ ë¬¸ì œì´ë‹¤. ê°œë°œì´ ì™„ë£Œëœ í›„ì—ëŠ” ìš´ì˜ì— ì˜®ê²¨ì•¼ í•˜ëŠ”ë° ê°œë°œìê°€ ì¼ë¦¬ë¦¬ ì½”ë“œë¥¼ ì˜®ê¸°ëŠ” ê²ƒì€ ë°”ëŒì§í•˜ì§€ ì•Šì„ ê²ƒì´ë‹¤.(ì‚¬ëŒì€ ëˆ„êµ¬ë‚˜ ì‹¤ìˆ˜ë¥¼ í•˜ê²Œ ëœë‹¤.)
Terraformì€ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ &lt;a class="link" href="https://developer.hashicorp.com/terraform/language/state/workspaces" target="_blank" rel="noopener"
>Workspace&lt;/a>ë¼ëŠ” ê°œë…ì„ ë„ì…í–ˆë‹¤.&lt;/p>
&lt;h2 id="workspace">Workspace
&lt;/h2>&lt;p>Terraformì€ ìœ„ì™€ ê°™ì€ ë¬¸ì œì ì„ í•´ê²°í•˜ê¸° ìœ„í•´ Workspaceì„ ë„ì…í•˜ê²Œ ë˜ì—ˆë‹¤. WorkspaceëŠ” í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ì— ì—¬ëŸ¬ê°œì˜ ìƒíƒœíŒŒì¼ì„ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. ê°„ë‹¨í•˜ê²Œ ë§í•´ì„œ WorkspaceëŠ” &lt;strong>ìƒíƒœ íŒŒì¼ì„ ê´€ë¦¬í•˜ëŠ” ê·¸ë¦‡&lt;/strong>ì´ë¼ê³  ë³´ë©´ ëœë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ìì„¸í•œ ëª…ë ¹ì–´ëŠ” &lt;a class="link" href="https://developer.hashicorp.com/terraform/cli/commands/workspace" target="_blank" rel="noopener"
>ê³µì‹ í™ˆí˜ì´ì§€&lt;/a>ë¥¼ ì°¸ê³ í•˜ê¸¸ ë°”ëë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;h2 id="multiple-workspace-backend">Multiple Workspace Backend
&lt;/h2>&lt;p>ìƒíƒœ íŒŒì¼ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•´ Remote Backendë¥¼ ì‚¬ìš©í•œë‹¤. &lt;a class="link" href="https://developer.hashicorp.com/terraform/language/state/workspaces#backends-supporting-multiple-workspaces" target="_blank" rel="noopener"
>ê³µì‹ í™ˆí˜ì´ì§€&lt;/a>ì— ì˜í•˜ë©´ ì•„ë˜ì˜ ì„œë¹„ìŠ¤ë§Œ multiple Backendë¥¼ ì§€ì›í•´ì¤€ë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://developer.hashicorp.com/terraform/language/settings/backends/azurerm" target="_blank" rel="noopener"
>AzureRM&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://developer.hashicorp.com/terraform/language/settings/backends/consul" target="_blank" rel="noopener"
>Consul&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://developer.hashicorp.com/terraform/language/settings/backends/cos" target="_blank" rel="noopener"
>COS&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://developer.hashicorp.com/terraform/language/settings/backends/gcs" target="_blank" rel="noopener"
>GCS&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://developer.hashicorp.com/terraform/language/settings/backends/kubernetes" target="_blank" rel="noopener"
>Kubernetes&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://developer.hashicorp.com/terraform/language/settings/backends/local" target="_blank" rel="noopener"
>Local&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://developer.hashicorp.com/terraform/language/settings/backends/oss" target="_blank" rel="noopener"
>OSS&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://developer.hashicorp.com/terraform/language/settings/backends/pg" target="_blank" rel="noopener"
>Postgres&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://developer.hashicorp.com/terraform/language/settings/backends/remote" target="_blank" rel="noopener"
>Remote&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://developer.hashicorp.com/terraform/language/settings/backends/s3" target="_blank" rel="noopener"
>S3&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="example">Example
&lt;/h2>&lt;h3 id="ìš”êµ¬ì‚¬í•­">ìš”êµ¬ì‚¬í•­
&lt;/h3>&lt;ol>
&lt;li>S3ì— Multiple Backendë¥¼ ì„¤ì •í•œë‹¤.&lt;/li>
&lt;li>ì‹¤ìˆ˜ë¥¼ ì¤„ì´ê¸° ìœ„í•´ defaultì„ devë¡œ ì„¤ì •í•œë‹¤.&lt;/li>
&lt;li>ë³€ìˆ˜ë¥¼ í™œìš©í•˜ì—¬ dev, prd Workspaceë¥¼ ë¶„ë¦¬í•œë‹¤.&lt;/li>
&lt;/ol>
&lt;h3 id="ì½”ë“œ">ì½”ë“œ
&lt;/h3>&lt;p>terraform blockì—ëŠ” ì–´ëŠë•Œì™€ ë‹¤ë¦„ì—†ì´ S3 Backendë¥¼ ì„¤ì •í•˜ë©´ ëœë‹¤.
S3ë¡œ Multiple Backendë¥¼ ì„¤ì •í•˜ê²Œ ë˜ë©´ &lt;code>env:/&lt;/code> í•˜ìœ„ í´ë”ì— ì›Œí¬ ìŠ¤í˜ì´ìŠ¤ì— ë§ê²Œ ìƒíƒœ íŒŒì¼ì´ ì €ì¥ëœë‹¤. í•˜ì§€ë§Œ ê²½ìš°ì— ë”°ë¼ì„œëŠ” env íŒŒì¼ëª…ì„ ë°”ê¾¸ê³  ì‹¶ì„ ê²ƒì´ë‹¤. ê·¸ëŸ´ë•Œ &lt;code>workspace_key_prefix&lt;/code>ë¥¼ ì‚¬ìš©í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="k">terraform&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">required_providers&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> aws&lt;/span> &lt;span class="o">=&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> source&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;hashicorp/aws&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> version&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;~&amp;gt; 5.0&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">backend&lt;/span> &lt;span class="s2">&amp;#34;s3&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> bucket&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;tf-backend-d7mekz&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> key&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;terraform.tfstate&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> region&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;ap-northeast-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> workspace_key_prefix&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;temp&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ë³€ìˆ˜ë¥¼ í™œìš©í•´ defaultë¥¼ dev Workspaceë¡œ ì§€ì •í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="k">variable&lt;/span> &lt;span class="s2">&amp;#34;env&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> type&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;string&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> default&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;dev&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>workspace ëª…ì„ ë³€ìˆ˜ë¡œ ì§€ì •í•˜ì—¬ ê³µí†µì˜ ëª¨ë“ˆì— ëŒ€ì…í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="s2">&amp;#34;main_vpc&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> source&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;./custom_vpc&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> env&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">terraform&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">workspace&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ë³€ìˆ˜ë¥¼ í™œìš©í•´ workspaceì— ë§ëŠ” ë¦¬ì†ŒìŠ¤ ì´ë¦„ì„ ì§€ì •í–ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="n">count&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="n"> var.env&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;default&amp;#34;&lt;/span> &lt;span class="err">?&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="err">:&lt;/span> &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Countë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • Workspaceì— ë¦¬ì†ŒìŠ¤ë¥¼ ì‹¤í–‰í•˜ì§€ ì•Šë„ë¡ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="k">terraform&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">required_providers&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> aws&lt;/span> &lt;span class="o">=&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> source&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;hashicorp/aws&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> version&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;~&amp;gt; 5.0&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Configure the AWS Provider
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">provider&lt;/span> &lt;span class="s2">&amp;#34;aws&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> region&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;ap-northeast-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Create a VPC
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;aws_vpc&amp;#34; &amp;#34;default&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> cidr_block&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;10.0.0.0/16&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> tags&lt;/span> &lt;span class="o">=&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> Name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;terraform_default_vpc_${var.env}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;aws_subnet&amp;#34; &amp;#34;public_subnet_1&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> vpc_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">aws_vpc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">default&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> cidr_block&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;10.0.0.0/24&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> availability_zone&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">local&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">az_a&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> tags&lt;/span> &lt;span class="o">=&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> Name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;terraform_public_subnet_1_${var.env}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;aws_nat_gateway&amp;#34; &amp;#34;public_nat&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> connectivity_type&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;public&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> subnet_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">aws_subnet&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">public_subnet_1&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="m">0&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;aws_subnet&amp;#34; &amp;#34;private_subnet_1&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> vpc_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">aws_vpc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">default&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> cidr_block&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;10.0.10.0/24&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> availability_zone&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">local&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">az_a&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> tags&lt;/span> &lt;span class="o">=&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> Name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;terraform_private_subnet_1_${var.env}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="conclusion">Conclusion
&lt;/h2>&lt;p>ë‹¤ì–‘í•œ í™˜ê²½ì„ í•˜ë‚˜ì˜ ìƒíƒœ íŒŒì¼ë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì€ ì‰½ì§€ ì•Šë‹¤. ê·¸ë˜ì„œ Terraformì€ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ìœ„í•´ í™˜ê²½ì— ë”°ë¥¸ ìƒíƒœ íŒŒì¼ì„ ë³´ê´€í•  ìˆ˜ ìˆë„ë¡ Workspaceì„ ë„ì…í•˜ê²Œ ë˜ì—ˆë‹¤. ë‹¤ë§Œ Workspaceì„ ë¬´ì¡°ê±´ ì„œë¡œ ë‹¤ë¥¸ í™˜ê²½ì„ ë¶„ë¦¬í• ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤. &lt;strong>ìœ ì‚¬í•˜ì§€ë§Œ ë‹¤ë¥¸ í™˜ê²½ì—ì„œ ì¸í”„ë¼ë¥¼ ìš´ìš©í•´ì•¼ í•  ë•Œ ì‚¬ìš©&lt;/strong>í•´ì•¼ í•œë‹¤.&lt;/p>
&lt;h2 id="reference">Reference
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://medium.com/@blaswan/terraform-workspaces-for-deployment-environments-2deff99356f6" target="_blank" rel="noopener"
>Terraformì˜ Workspaceë¥¼ ì´ìš©í•´ ë°°í¬ í™˜ê²½ ë¶„ë¦¬í•˜ê¸°&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://developer.hashicorp.com/terraform/language/state/workspaces" target="_blank" rel="noopener"
>Terraform Workspaces&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>ëª¨ì•„ë¦¬ì›€ ë°±ì—”ë“œ - API ê°œë°œ ì‹œ ë§ˆì£¼í•œ ë¬¸ì œë“¤</title><link>https://s0okju.github.io/p/moarium-backend-1/</link><pubDate>Wed, 16 Oct 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/moarium-backend-1/</guid><description>&lt;h2 id="resttemplate-vs-webclient">RestTemplate vs WebClient
&lt;/h2>&lt;p>ë‘˜ì€ Rest ë°©ì‹ APIë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” í´ë˜ìŠ¤ì´ë‹¤.
RestTemplate = Blocking, WebClient = Non Blokcing ë°©ì‹ì´ë¼ê³  í•œë‹¤. ë¬¼ë¡  WebClientë„ Blocking ë°©ì‹ì€ ì§€ì›í•œë‹¤.&lt;br>
ì—¬ëŸ¬ ì´ìœ  ì¤‘ì—ì„œ &lt;a class="link" href="https://dzone.com/articles/raw-performance-numbers-spring-boot-2-webflux-vs-s" target="_blank" rel="noopener"
>íŠ¹ì • ì„ê³„ì ì„ ë„˜ê²Œ ë˜ë©´ RestTemplateëŠ” ê¸‰ê²©í•˜ê²Œ ì†ë„ê°€ ì €í•˜&lt;/a>ëœë‹¤. ê·¸ëŸ¬ë¯€ë¡œ &lt;strong>ê·œëª¨ê°€ ìˆëŠ” í”„ë¡œì íŠ¸ì—ì„œ WebClientë¥¼ ì“°ëŠ”ê²Œ ë” ì¢‹ë‹¤&lt;/strong>.&lt;/p>
&lt;blockquote>
&lt;p>ìš”ì¦˜ì€ WebClientë¥¼ ì“°ëŠ” ì¶”ì„¸ë¼ê³  í•œë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ë¬¼ë¡  ëª¨ì•„ë¦¬ì›€ í”„ë¡œì íŠ¸ëŠ” ì†Œê·œëª¨ë¼ Blocking ë°©ì‹ìœ¼ë¡œ íŠ¸ë˜í”½ì„ ê°ë‹¹í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ RestTemplateë¥¼ ì±„íƒí–ˆë‹¤.&lt;/p>
&lt;h2 id="api-ê°œë°œ-ì‹œ-ë§ˆì£¼í•œ-ë¬¸ì œë“¤">API ê°œë°œ ì‹œ ë§ˆì£¼í•œ ë¬¸ì œë“¤
&lt;/h2>&lt;h3 id="ì´ìŠˆ-2-camelcaseë¡œ-ì¸í•œ-google-api-bad-request-ë¬¸ì œ">ì´ìŠˆ 2. CamelCaseë¡œ ì¸í•œ Google API Bad Request ë¬¸ì œ
&lt;/h3>&lt;p>Google API ìš”ì²­ì€ í™•ì¸í–ˆìœ¼ë‚˜ access_tokenì´ í•„ìš”í•˜ë‹¤ë©° bad requestë¥¼ ë³´ì—¬ì¤¬ë‹¤. ë¬¸ì œê°€ ë¬´ì—‡ì´ë‚˜ ê³ ë¯¼í•˜ë˜ ì°°ë‚˜ ê³µì‹ ë¬¸ì„œë¥¼ ë´¤ë”ë‹ˆ, request, responseê°€ snake caseì˜€ë‹¤. ê·¸ë˜ì„œ Request, Response DTOëŠ” &lt;a class="link" href="https://d-life93.tistory.com/411" target="_blank" rel="noopener"
>JsonNaming&lt;/a>ì„ í™œìš©ë¥¼ Snake Caseë¡œ ë³€ê²½ì‹œì¼°ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@AllArgsConstructor&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@NoArgsConstructor&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Data&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Builder&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@JsonNaming&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">PropertyNamingStrategies&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">SnakeCaseStrategy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// camel case -&amp;gt; snake case&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">GoogleOAuthLoginReqDto&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">clientId&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">redirectUri&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">clientSecret&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">grantType&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">code&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ì´ìŠˆ-2-spring---value-getterê°€-nullì´-ë˜ëŠ”-ê²½ìš°">ì´ìŠˆ 2. [[Spring - @Value]] getterê°€ nullì´ ë˜ëŠ” ê²½ìš°
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Component&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Data&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">GoogleOAuthLoginApiClient&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">OAuthLoginApiClient&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">GoogleOAuthProfile&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Value&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;${google.auth.url}&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">googleAuthUrl&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Value&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;${google.login.url}&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">googleLoginUrl&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Value&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;${google.auth.scope}&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">scopes&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RestTemplate&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">restTemplate&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RestTemplateBuilder&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">errorHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RestTemplateResponseErrorHandler&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="na">build&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ObjectMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">objectMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ObjectMapper&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getTokenURI&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Auth: &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">getGoogleAuthUrl&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UriComponentsBuilder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">fromHttpUrl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">getGoogleAuthUrl&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s">&amp;#34;/token&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">toUriString&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://s0okju.github.io/p/moarium-backend-1/image.png"
width="726"
height="53"
srcset="https://s0okju.github.io/p/moarium-backend-1/image_hu_ef1d882a474cfaad.png 480w, https://s0okju.github.io/p/moarium-backend-1/image_hu_330c8f6b6d89837.png 1024w"
loading="lazy"
alt="ì—ëŸ¬ ë©”ì„¸ì§€"
class="gallery-image"
data-flex-grow="1369"
data-flex-basis="3287px"
>&lt;/p>
&lt;p>&lt;code>getGoogleAuthUrl()&lt;/code> ê°€ ê³„ì† nullì„ ì¶œë ¥í•´ì„œ í•´ê²°ì±…ì„ ëª¨ìƒ‰í•˜ê³ ì í–ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>Propertiesê°€ ì˜ ì ìš©ë˜ì—ˆëŠ”ê°€? -&amp;gt; Yes&lt;/li>
&lt;li>@Valueë¥¼ ì“°ëŠ” í´ë˜ìŠ¤ì— Beanì„ ì˜ ë“±ë¡í–ˆëŠ”ê°€? -&amp;gt; Yes&lt;/li>
&lt;li>GoogleOAuthLoginApiClientì˜ ì˜ì¡´ì„± ì£¼ì…ì„ ì˜ ìˆ˜í–‰í–ˆëŠ”ê°€? -&amp;gt; No&lt;/li>
&lt;/ol>
&lt;p>ê²°êµ­ 3ë²ˆì˜ ë¬¸ì œì˜€ë‹¤. ë°”ë¡œ ì˜ì¡´ì„± ì£¼ì…í•˜ì§€ ì•Šê³  new ìƒì„±ìë¥¼ ë§Œë“  ê²ƒì´ì—ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">OAuthLoginService&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">GoogleOAuthProfile&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">requestGoogleOAuthLogin&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">authCode&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">OAuthLoginApiClient&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">GoogleOAuthProfile&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">client&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">GoogleOAuthLoginApiClient&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">accessToken&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">requestOAuthClientAccessToken&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">authCode&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">requestOauthInfo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">accessToken&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">JsonProcessingException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RuntimeException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>Springì—ì„œ ì‹±ê¸€í†¤ìœ¼ë¡œ ê´€ë¦¬ë˜ëŠ” ë¹ˆì´ ì•„ë‹Œ ìƒˆë¡œìš´ ê°ì²´ë¡œ ìƒì„±í•˜ê²Œ ë˜ë©´ @Value ì• ë…¸í…Œì´ì…˜ìœ¼ë¡œ ì„¤ì • íŒŒì¼ì„ ì½ì–´ë“¤ì´ëŠ” ë³€ìˆ˜ëŠ” nullë¡œ ê°’ì´ ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì¶œì²˜ - &lt;a class="link" href="https://gyucheolk.tistory.com/88" target="_blank" rel="noopener"
>gyucheolk í‹°ìŠ¤í† ë¦¬, [Spring] @Value ì• ë…¸í…Œì´ì…˜ null ì ê²€&lt;/a>&lt;/p>&lt;/blockquote>
&lt;p>ê·¸ë˜ì„œ ìƒˆë¡œìš´ ê°ì²´ê°€ ì•„ë‹Œ ì˜ì¡´ì„± ì£¼ì…ìœ¼ë¡œ ì½”ë“œë¥¼ ìˆ˜ì •í–ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">OAuthLoginService&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">GoogleOAuthLoginApiClient&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">authLoginApiClient&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">OAuthLoginService&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">GoogleOAuthLoginApiClient&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">authLoginApiClient&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">authLoginApiClient&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">authLoginApiClient&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">GoogleOAuthProfile&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">requestGoogleOAuthLogin&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">authCode&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">OAuthLoginApiClient&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">GoogleOAuthProfile&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">client&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">authLoginApiClient&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">accessToken&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">requestOAuthClientAccessToken&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">authCode&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">requestOauthInfo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">accessToken&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">JsonProcessingException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RuntimeException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>íŒ€ì›ì—ê²Œ ì¡°ì–¸ì„ ì–»ì—ˆëŠ”ë°, ì„œë¹„ìŠ¤ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì•„ë‹Œ ê²ƒì„ ì£¼ì…í• ë•Œ ëª…ì‹œí•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ê³  í•œë‹¤.&lt;/p></description></item><item><title>ê¸€ë˜í•  ê²°ì‹¬</title><link>https://s0okju.github.io/p/geultto-1/</link><pubDate>Sat, 12 Oct 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/geultto-1/</guid><description>&lt;p>ë‚˜ëŠ” ì†Œê·œëª¨ ì‘ë¬¸ ìŠ¤í„°ë””ë¥¼ í†µí•´ &lt;a class="link" href="https://zzsza.notion.site/ac5b18a482fb4df497d4e8257ad4d516" target="_blank" rel="noopener"
>ê¸€ë˜&lt;/a>ë¥¼ ì•Œê²Œ ë˜ì—ˆë‹¤. ìŠ¤í„°ë”” ëª¨ì§‘ ì„¤ëª…ê¸€ì—ëŠ” ê¸€ë˜ í•©ê²©ì„ ìœ„í•œ ê¸€ì“°ê¸° ì—°ìŠµì´ë¼ê³  ì í˜€ ìˆì—ˆë‹¤. ë‚¨ì€ í•œ ê¸°ìˆ˜ê°€ ë§ˆì§€ë§‰ì´ ë  ê²ƒì´ë‹¤ëŠ” ëª¨ì§‘ í˜ì´ì§€ë¥¼ ë³´ê³  ëª¨ì§‘ ì•Œë¦¼ ë©”ì¼ì„ ì‹ ì²­í–ˆë‹¤.&lt;br>
ìŠí˜€ì§ˆë•Œ ì¯¤ ê¸€ë˜ ëª¨ì§‘ ë©”ì¼ì„ ë°›ê²Œ ë˜ì—ˆë‹¤. ë‚˜ì˜ ì¼ìƒ, ìê¸°ì†Œê°œ ë“± ë‹¤ì–‘í•œ ì§ˆë¬¸ì— ëŒ€í•œ ë‹µì„ ê¸€ë¡œ ì¨ê°€ë©´ì„œ ëª‡ë…„ë™ì•ˆì˜ ë…¸ë ¥ì„ ì •ë¦¬í–ˆê³  ë‚˜ì˜ ë°”ë¨ê³¼ í•¨ê»˜ ê¸€ë˜ì— í•©ê²©í•˜ê²Œ ë˜ì—ˆë‹¤.&lt;/p>
&lt;h2 id="ê¸€ë˜ì—ì„œ-ë‚˜ì˜-ë°©í–¥">ê¸€ë˜ì—ì„œ ë‚˜ì˜ ë°©í–¥
&lt;/h2>&lt;p>ìš°ì„  ê¸€ë˜ëŠ” ì†Œëª¨ì„ë¶€í„° ì‹œì‘í•´ì„œ ì»¤í”¼ì±—ê¹Œì§€ ë‹¤ì–‘í•œ í™œë™ì´ ìˆë‹¤. ê¸€ì“°ê¸°ì™€ ì‚¬ëŒë“¤ê³¼ì˜ ì†Œí†µ ë‘ ë§ˆë¦¬ í† ë¼ë¥¼ ì¡ì„ ìˆ˜ ìˆë‹¤ë©´ ì¢‹ê² ì§€ë§Œ ì‹œê°„ ê´€ê³„ìƒ ëª¨ë‘ ì±™ê¸¸ ìˆ˜ ì—†ì„ ê²ƒ ê°™ì•˜ë‹¤. ê·¸ë˜ì„œ ë‚˜ëŠ” &lt;strong>ê¸€ì“°ê¸°ì— ì´ˆì &lt;/strong>ì„ ë§ì¶”ê¸°ë¡œ ê²°ì‹¬í–ˆë‹¤.&lt;/p>
&lt;h2 id="otë¥¼-ë“¤ìœ¼ë©´ì„œ">OTë¥¼ ë“¤ìœ¼ë©´ì„œ&amp;hellip;
&lt;/h2>&lt;p>OTë¥¼ ë“¤ìœ¼ë©´ì„œ ê°€ì¥ ê¸°ì–µì— ë‚¨ì€ ë¬¸ì¥ì´ ìˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ê³µë¶€í•˜ê³  ê¸€ì“°ê¸°&lt;/p>&lt;/blockquote>
&lt;p>ì§€ê¸ˆê¹Œì§€ ê¸°ìˆ  ê´€ë ¨ëœ ê¸€ì„ ì¨ì™”ë‹¤. ê¸€ì“°ëŠ” ê³¼ì •ì—ì„œ ê³µë¶€ë¥¼ í–ˆê³  ê·¸ ê³¼ì •ì—ì„œ ë§ì€ ìˆ˜ì • ì‘ì—…ì´ ìˆ˜í–‰ë˜ì—ˆë‹¤. ë‹¨ì ì€ ë’¤ë¡œ ê°ˆìˆ˜ë¡ í˜ì´ ë¹ ì§„ë‹¤ëŠ” ì ì´ì—ˆë‹¤. ë¶„ëª…íˆ ë…¼ë¦¬ì ìœ¼ë¡œ ë§ì§€ ì•ŠìŒì—ë„ ìˆ˜ì •ì„ ë©ˆì¶”ê³  ë°”ë¡œ ë¸”ë¡œê·¸ì— ì—…ë¡œë“œí–ˆë‹¤. ì´ëŸ¬í•œ íŒ¨í„´ì„ ì•Œì•„ì„œ ê·¸ëŸ°ì§€ ìœ„ì˜ ë¬¸ì¥ì€ ë‚˜ì˜ ì˜ëª»ëœ ê¸€ì“°ê¸°ì˜ íƒœë„ë¥¼ ìƒê¸°ì‹œì¼œì¤¬ë‹¤.&lt;/p>
&lt;h2 id="ì§€ê¸ˆê¹Œì§€-ë‚˜ëŠ”-ì–´ë–¤-ê¸€ì“°ê¸°ë¥¼-í•´ì™”ë‚˜">ì§€ê¸ˆê¹Œì§€ ë‚˜ëŠ” ì–´ë–¤ ê¸€ì“°ê¸°ë¥¼ í•´ì™”ë‚˜?
&lt;/h2>&lt;p>ì´ˆë°˜ì—ëŠ” ì™„ë²½í•˜ê²Œ ì¨ì•¼í•œë‹¤ëŠ” ìƒê°ì´ ê¸€ì“°ê¸°ë¥¼ ì–´ë µê²Œ ë§Œë“¤ì—ˆë‹¤. í•´ê²°ì±…ìœ¼ë¡œ ê¸°ìˆ  ê´€ë ¨ëœ ê²ƒë§Œí¼ì€ ê°€ê¸‰ì ì´ë©´ ê°€ë³ê²Œ ì •ë¦¬í•˜ë ¤ê³  ë…¸ë ¥í–ˆë‹¤. ì¶”ê°€ì ìœ¼ë¡œ ê³µë¶€í• ë•Œë§ˆë‹¤ ë‚´ìš©ì„ ì¶”ê°€í–ˆê³  pageë¥¼ ì„ë² ë”©í•˜ì—¬ ë‚´ìš©ì„ ì—°ê²°í•˜ëŠ” í˜•ì‹ì„ ì‚¬ìš©í–ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/geultto-1/image.png"
width="528"
height="187"
srcset="https://s0okju.github.io/p/geultto-1/image_hu_11276c2f56793300.png 480w, https://s0okju.github.io/p/geultto-1/image_hu_ad2452bdf5d0313e.png 1024w"
loading="lazy"
alt="í•„ê¸° ë…¸íŠ¸"
class="gallery-image"
data-flex-grow="282"
data-flex-basis="677px"
>&lt;/p>
&lt;p>ë‹¨ì ìœ¼ë¡œëŠ” ë¸”ë¡œê·¸ì— &lt;strong>ê¸€ì„ ì“¸ë•Œë§ˆë‹¤ ë‚´ê°€ ì •ë¦¬í•´ë‘” ì´ë¡ ì„ ë³´ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì &lt;/strong>ì´ì—ˆë‹¤. ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ë‚´ìš©ì„ ì¶”ê°€í•˜ì§€ ì•Šì€ ì ë„ ë¬¸ì œì˜€ë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/geultto-1/image-1.png"
width="873"
height="753"
srcset="https://s0okju.github.io/p/geultto-1/image-1_hu_d161fff2e461f895.png 480w, https://s0okju.github.io/p/geultto-1/image-1_hu_fc620f67aec6a280.png 1024w"
loading="lazy"
alt="ì˜µì‹œë””ì–¸ ê·¸ë˜í”„"
class="gallery-image"
data-flex-grow="115"
data-flex-basis="278px"
>&lt;/p>
&lt;p>ë©”ëª¨ë¼ëŠ” ì œëª©ì— íŒŒì¼ë§Œ ê³„ì† ìƒê²¨ë‚˜ë©´ì„œ ì˜¨ë¼ì¸ ë…¸íŠ¸ëŠ” í˜¼ì¡ìŠ¤ëŸ¬ìš´ ë©”ëª¨ì¥ì´ ë˜ì–´ ìˆì—ˆë‹¤.&lt;/p>
&lt;h2 id="ê¸€ë˜ì—ì„œ-ì“°ê³ -ì‹¶ì€-ê¸€">ê¸€ë˜ì—ì„œ ì“°ê³  ì‹¶ì€ ê¸€
&lt;/h2>&lt;p>ì§€ê¸ˆê¹Œì§€ í•´ì™”ë˜ ê²ƒì²˜ëŸ¼ &lt;strong>ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ ë°°ìš´ ë‚´ìš© ìœ„ì£¼&lt;/strong>ë¡œ ì‘ì„±í•  ê²ƒ ê°™ë‹¤.&lt;br>
ê¸°ë³¸ì ì¸ ì´ë¡ ì€ ì±…ê³¼ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì˜ ì •ì„±ìŠ¤ëŸ¬ìš´ ê¸€ë§Œìœ¼ë¡œë„ ì¶©ë¶„í•˜ë‹¤ê³  ìƒê°í•œë‹¤. ì¢‹ì€ ë‚´ìš©ì€ ì¶œì²˜ë¥¼ ì œëŒ€ë¡œ ë‚¨ê¸°ë©´ì„œ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê³¼ì •ì„ ê¸€ë¡œ ì‘ì„±í•˜ê³ ì í•œë‹¤.&lt;/p>
&lt;h2 id="ê¸€ë˜í• -ê²°ì‹¬">ê¸€ë˜í•  ê²°ì‹¬
&lt;/h2>&lt;p>ë‚˜ëŠ” 6ê°œì›” ê°„ì˜ ê¸€ì“°ê¸°ë¥¼ ìˆ˜í–‰í•˜ë©´ì„œ ì§€ì¼œì•¼ í•˜ëŠ” ë‚˜ë§Œì˜ ê·œì¹™ì„ ìƒê°í–ˆë‹¤.&lt;/p>
&lt;h3 id="ì¦‰ê°-ì •ë¦¬í•˜ê¸°">ì¦‰ê° ì •ë¦¬í•˜ê¸°
&lt;/h3>&lt;p>ìƒˆë¡œìš´ ì´ë¡ ì„ ê³µë¶€í•˜ê²Œ ë˜ë©´ ê·¸ëƒ¥ ë„˜ì–´ê°€ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•˜ëŠ” ë¶€ë¶„ì„ ì‘ì„±í•˜ëŠ” ê²ƒì´ë‹¤. ë˜í•œ ê¸°ì¡´ì— ìˆëŠ” ë‚´ìš©ì„ ì •ë¦¬í•˜ë©´ì„œ ë‚¨ê²¨ì§„ íŒŒì¼ì„ ì •ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤.
ì¦‰ê° ì •ë¦¬í•˜ëŠ” ê²ƒì´ ê¸€ë˜ í™œë™ì— í•„ìš”í•˜ë‹¤ê³  ìƒê°í•œë‹¤.&lt;br>
OTì—ì„œ ë§í–ˆë“¯ì´ ì¶©ë¶„í•œ í•™ìŠµì„ ìœ„í•´ì„œëŠ” ë‚´ìš©ì„ ê¸€ë¡œ ì •ë¦¬í•˜ëŠ” ê²ƒì´ í•„ìš”í•˜ë‹¤. ë‹¨ìˆœí•œ ëˆˆê³¼ ê·€ë¡œ í•™ìŠµí•˜ëŠ” ê²ƒì€ ë‹¨í¸ì ìœ¼ë¡œ ì´í•´í•  ìˆ˜ ìˆì–´ë„ ë‹¤ë¥¸ ì§€ì‹ê³¼ì˜ ì—°ê²°ì„±ì„ ì œë•Œ íŒŒì•…í•˜ì§€ ëª»í•  ìˆ˜ ìˆë‹¤. ì§€ê¸ˆê¹Œì§€ì˜ ê¸€ì“°ê¸°ì—ì„œë„ ì—°ê²°ì„±ì„ íŒŒì•…í•˜ì§€ ëª»í•´ ì¤‘ê°„ì— ì¤‘ë‹¨ëœ ê²½í—˜ì´ ë§ì•„ ì´ë²ˆ ê¸°íšŒì— ì œëŒ€ë¡œ ì‹¤ì²œí•˜ê³  ì‹¶ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤.&lt;/p>
&lt;h3 id="ì–´ë ¤ìš´-ê²ƒì„-ì‰½ê²Œ-í’€ì–´ì“°ê¸°">ì–´ë ¤ìš´ ê²ƒì„ ì‰½ê²Œ í’€ì–´ì“°ê¸°
&lt;/h3>&lt;p>í™”ë ¤í•œ ì–¸ì–´ë¡œ ê¸€ì“°ëŠ” ê²ƒì€ ì˜ì™¸ë¡œ ì‰¬ìš¸ ìˆ˜ ìˆê² ë‹¤ëŠ” ìƒê°ì´ ë“ ë‹¤. ì˜¤íˆë ¤ ì‰¬ìš´ ì˜ˆì‹œë¡œ ì„¤ëª…í•˜ëŠ” ê²ƒì´ ë§ì€ í•™ìŠµëŸ‰ì„ ìš”êµ¬í•˜ëŠ” ê²ƒ ê°™ë‹¤. ë°˜ëŒ€ë¡œ ë…ìë¼ê³  ìƒê°í–ˆì„ë•Œ ì „ë¬¸ì„± ìˆëŠ” ê°„ê²°í•œ ë¬¸ì¥ì€ ì´í•´ê°€ ì•ˆë ë•Œê°€ ë§ì•˜ë‹¤. ê¸¸ì§€ë§Œ ì‰¬ìš´ ë‚´ìš©ì´ ë¨¸ë¦¬ ì†ì— ì˜ ë‚¨ì•˜ë‹¤.&lt;br>
ì´ë²ˆ ê¸€ì“°ê¸°ì—ëŠ” ì–´ë µê³  ë³µì¡í•œ ë‚´ìš©ì´ ìˆìœ¼ë©´ ì‰½ê²Œ í’€ì–´ì¨ë³´ë ¤ê³  í•œë‹¤. ë¬¼ë¡  ê°™ì€ ì¡°ê°€ ì¸í”„ë¼ë¥¼ ì „ë¬¸ì ìœ¼ë¡œ ê³µë¶€í•˜ëŠ” ì‚¬ëŒë“¤ ë°–ì— ì—†ë‹¤. ê·¸ë˜ë„ ì¸í”„ë¼ ì§êµ°ì€ ì•Œì•„ì•¼ í•˜ëŠ” ë²”ìœ„ê°€ ë§ê³  ì¡° ë‚´ì— ê´€ì‹¬ ë§ì€ ì‚¬ëŒì´ ë§ê¸°ì— ë”ìš± ì‰½ê²Œ ì¨ì•¼ í•œë‹¤ê³  ìƒê°í•œë‹¤.&lt;/p>
&lt;h3 id="ê¸€ì˜-ì™„ì„±--3ë²ˆ-ì½ì–´ë³´ê¸°">ê¸€ì˜ ì™„ì„± = 3ë²ˆ ì½ì–´ë³´ê¸°
&lt;/h3>&lt;p>ê¸€ì˜ ì™„ì„±ì„ ë…¼í•˜ë©´ ëë„ ì—†ë‹¤ê³  ìƒê°í•œë‹¤. ì£¼ê´€ì ì¸ ì˜ì—­ì´ë¼ì„œ ë‹µë„ ì—†ë‹¤. ê·¸ë˜ì„œ ë‚˜ëŠ” ê¸€ì˜ ì™„ì„±ì€ 3ë²ˆì€ ê²€í† í•˜ê³  ê¸€ì„ ì—…ë¡œë“œí•  ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;h3 id="ì•½ì†-ì˜-ì§€í‚¤ê¸°">ì•½ì† ì˜ ì§€í‚¤ê¸°
&lt;/h3>&lt;p>ì´ê±´ ê¸€ ì œì¶œ ë¿ë§Œ ì•„ë‹ˆë¼ ëª¨ì„ì—ì„œ ì•½ì†í•œ ëª¨ë“  ê²ƒì´ í•´ë‹¹ëœë‹¤. ë” ë‚˜ì•„ê°€ &amp;ldquo;ê°™ì€ ì¡°ì— ìˆëŠ” ì‚¬ëŒë“¤ì˜ ê¸€ì„ ì½ê³  ì½”ë©˜íŠ¸ ë‚¨ê¸°ê¸°&amp;quot;ë¼ëŠ” ì•½ì†ë„ í•˜ê³  ì‹¶ë‹¤.&lt;br>
ê¸€ì„ ì“°ëŠ” ê²ƒë„ ì¤‘ìš”í•˜ì§€ë§Œ ì½ê³  ì˜ê²¬ì„ ë§í•˜ëŠ” ê²ƒë„ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•œë‹¤. ì¸ìƒ ê¹Šì€ ê¸€ì´ë¼ë©´ ê°ìƒí‰ì„ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ì‚¬ëŒì´ ë  ìˆ˜ ìˆë„ë¡ ì½”ë©˜íŠ¸ ë‚¨ê¸°ê¸° ì•½ì†ë„ ì§€í‚¤ê³  ì‹¶ë‹¤.&lt;/p></description></item><item><title>ì™œ TodoPoint í”„ë¡œì íŠ¸ë¥¼ ì‹¤íŒ¨í–ˆëŠ”ê°€?</title><link>https://s0okju.github.io/p/todopoint-final-review/</link><pubDate>Wed, 09 Oct 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/todopoint-final-review/</guid><description>&lt;h2 id="todopoint-í”„ë¡œì íŠ¸ì—-ëŒ€í•œ-ì†Œê°œ">TodoPoint í”„ë¡œì íŠ¸ì— ëŒ€í•œ ì†Œê°œ
&lt;/h2>&lt;p>Todopointë€ ë¬¸ì ê·¸ëŒ€ë¡œ í•  ì¼ì„ ì™„ìˆ˜í•˜ë©´ í¬ì¸íŠ¸ë¥¼ ì§€ê¸‰í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì…ë‹ˆë‹¤. ê³„íšì„ ì œëŒ€ë¡œ ì™„ìˆ˜í•˜ì§€ ëª»í•œ ì‚¬ëŒë“¤ì—ê²Œ ê°•ì œì„±ì„ ë¶€ì—¬í•˜ê³ ì ê¸°íší•œ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/todopoint-final-review/image.png"
width="986"
height="876"
srcset="https://s0okju.github.io/p/todopoint-final-review/image_hu_43c288f07ecb4a1c.png 480w, https://s0okju.github.io/p/todopoint-final-review/image_hu_624f494e075821fc.png 1024w"
loading="lazy"
alt="ì´ˆê¸°ì— ê¸°íší•œ êµ¬ì„±ë„"
class="gallery-image"
data-flex-grow="112"
data-flex-basis="270px"
>&lt;/p>
&lt;p>í”„ë¡œì íŠ¸ ê¸°íšì˜ ì°½ì˜ì„±ì˜ ë³„ê°œë¡œ ê°œì¸ì˜ MSAì— ëŒ€í•œ í•™ìŠµê³¼ ê¸°ìˆ  ì—­ëŸ‰ì„ í–¥ìƒí•˜ê¸° ìœ„í•´ ì‹œì‘í•œ í”„ë¡œì íŠ¸ì˜€ìŠµë‹ˆë‹¤. ì‹¤ì œë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‘ë™ì‹œí‚¤ê¸° ìœ„í•´ ì¿ ë²„ë„¤í‹°ìŠ¤ í™ˆ ì„œë²„ë¥¼ êµ¬ì¶•í•˜ê¸°ë„ í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ 3ê°œì›”ì´ë€ ê¸´ ì‹œê°„ ë™ì•ˆ ì˜ˆìƒì¹˜ ëª»í•œ ì‚½ì§ˆë¡œ ì œëŒ€ë¡œ ë§ˆë¬´ë¦¬í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì§€ê¸ˆë¶€í„° í”„ë¡œì íŠ¸ ì‹¤íŒ¨ì˜ ì›ì¸ì„ ì†Œê°œí•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ì˜ëª»ëœ-ì–¸ì–´-ì„ íƒ">ì˜ëª»ëœ ì–¸ì–´ ì„ íƒ
&lt;/h2>&lt;p>ì €ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì œì‘í•˜ë©´ì„œ Goë¼ëŠ” ì–¸ì–´ì™€ Gin ì›¹ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ê·¸ë•Œ ë‹¹ì‹œ Go ì–¸ì–´ë¥¼ í•œë²ˆë„ ëª»í•´ë´¤ìŠµë‹ˆë‹¤. ë‹¨ìˆœí•˜ê²Œ í•´ë³´ê³  ì‹¶ì€ ì–¸ì–´ë¼ì„œ ì„ íƒí–ˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ì„ íƒìœ¼ë¡œ ì¸í•´ ì˜ˆìƒì¹˜ ëª»í•œ ì‹œê°„ì„ ì“°ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ìƒˆë¡œìš´-ê¸°ìˆ ì„-ì‚¬ìš©í• ë•ŒëŠ”-ê³ ë¯¼í•´ë³´ì">ìƒˆë¡œìš´ ê¸°ìˆ ì„ ì‚¬ìš©í• ë•ŒëŠ” ê³ ë¯¼í•´ë³´ì
&lt;/h3>&lt;p>ì•ì„œ ë§í–ˆë“¯ì´ ê·¸ë•Œ ë‹¹ì‹œ Goì–¸ì–´ëŠ” ì²˜ìŒì´ì—ˆìŠµë‹ˆë‹¤. ì¤€ë¹„ë‹¨ê³„ë¡œ ê°„ë‹¨í•˜ê²Œ Go ì–¸ì–´ ë¬¸ë²•ë§Œ ìµíˆê³  ë°”ë¡œ Ginì„ ì“°ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;br>
GoëŠ” ë…íŠ¹í•œ ë¬¸ë²• ì²´ê³„ë¥¼ ê°€ì§€ê³  ìˆì–´ ë‹¤ë¥¸ ì–¸ì–´ì— ë¹„í•´ ì‘ìš©í•˜ê¸° ì–´ë ¤ì› ìŠµë‹ˆë‹¤. íŠ¹íˆ êµ¬ì¡°ë¥¼ ì§œëŠ”ë° ì–´ë ¤ì›€ì„ ê²ªì—ˆìŠµë‹ˆë‹¤. ê°ì²´ì§€í–¥ ì–¸ì–´ì§€ë§Œ í”íˆ ì•Œê³  ìˆëŠ” í´ë˜ìŠ¤ ê¸°ë°˜ ê°ì²´ì§€í–¥ íŒ¨í„´ê³¼ëŠ” ë‹¤ë¥´ë‹¤ëŠ” ì ì´ ì–´ë ¤ì› ìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//go:generate mockery --name Store --case underscore&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">Store&lt;/span> &lt;span class="kd">interface&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">Create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">gin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">info&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">UserInfo&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">error&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">FindOne&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">gin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">uid&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Me&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">Update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">gin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">uid&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">me&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Me&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">error&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">UserService&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">store&lt;/span> &lt;span class="nx">Store&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">NewUserService&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">store&lt;/span> &lt;span class="nx">Store&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">UserService&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">UserService&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">store&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">store&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">s&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">UserService&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">gin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">uid&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">me&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Me&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">httputils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">BaseResponse&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">httputils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NetError&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">store&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">uid&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">me&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">httputils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewNetError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">codes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">UpdateFailed&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">httputils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewSuccessBaseResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">nil&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ê²°êµ­ ê¹ƒí—ˆë¸Œì— ë² ìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì°¾ì•„ë‹¤ë‹ˆë©´ì„œ ëŒ€ëµ í•œë‹¬ ë™ì•ˆ ì½”ë“œë¥¼ 2ë²ˆ ìƒˆë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì£¼ë¡œ Error êµ¬ì¡°ì²´, íŒ¨í‚¤ì§€ êµ¬ì¡° ë“± ë¶€ì¡±í•˜ë‹¤ê³  ìƒê°í•˜ëŠ” ë¶€ë¶„ì„ ì „ë¶€ ë‹¤ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/todopoint-final-review/image-1.png"
width="924"
height="584"
srcset="https://s0okju.github.io/p/todopoint-final-review/image-1_hu_f2f2af6e5a76518f.png 480w, https://s0okju.github.io/p/todopoint-final-review/image-1_hu_3e9f40b08c04e8a7.png 1024w"
loading="lazy"
alt="ë²„ì „ì´ 2ê°œì¸ ì„œë¹„ìŠ¤"
class="gallery-image"
data-flex-grow="158"
data-flex-basis="379px"
>&lt;/p>
&lt;p>ê°ê°ì˜ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“œëŠ” ê²ƒì€ ì–´ë µì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ &lt;strong>ê³µí†µ ëª¨ë“ˆ&lt;/strong>ì´ë¼ëŠ” ê²ƒì„ ë§Œë“¤ë ¤ê³  í–ˆì„ë•Œ ëª¨ë“  ê²ƒì´ ê¼¬ì´ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤.
ê³µí†µ ëª¨ë“ˆì—ëŠ” í•„ìš”í•œ ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ë‚˜ ì „ì²´ì ìœ¼ë¡œ í†µì¼ëœ í˜•ì‹ì˜ êµ¬ì¡°ì²´(http responseê°’, ì˜¤ë¥˜ ë©”ì„¸ì§€ íƒ€ì… ë“±)ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
GoëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì €ì¥ì†Œë¡œ githubë¥¼ ì£¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. ê³µí†µ ëª¨ë“ˆì„ githubì— ì—…ë¡œë“œí•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¹Œë“œí• ë•Œë§ˆë‹¤ ì œì‘í•œ ê³µí†µ ëª¨ë“ˆì„ ë‹¤ìš´ë¡œë“œ ë°›ê³  ì‚¬ìš©í•´ì•¼ í• ê¹Œìš”? ê°œë°œ ì´ˆê¸° ë‹¨ê³„ë¼ ê³µí†µ ëª¨ë“ˆ ìˆ˜ì •ì´ ì¦ìŠµë‹ˆë‹¤. ì¦‰, ìˆ˜ì •ì‚¬í•­ì„ ë°˜ì˜í• ë•Œ ë¹„íš¨ìœ¨ì ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ë•Œ ë‹¹ì‹œ &amp;ldquo;ê³µí†µ ëª¨ë“ˆì´ í•„ìš”í•œê°€?&amp;ldquo;ì— ëŒ€í•´ ë§ì´ ìƒê°í–ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì €ëŠ” ê°œì¸ì ìœ¼ë¡œ í•„ìš”í•˜ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ ë‹¤ë¥´ê² ì§€ë§Œ ê³µí†µì ì¸ ë¶€ë¶„ì´ ë§ì„ìˆ˜ë¡ ëª¨ë“ˆí™”í•˜ì—¬ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì´ë¼ê³  ìƒê°í–ˆê¸° ë•Œë¬¸ì´ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŒ€ì‹ ì–´ëŠì •ë„ êµ¬ì¡°ê°€ ì™„ì„±ëœ ìƒíƒœì—ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤ê³  ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì™¸ë¶€ ë‹¤ìš´ë¡œë“œ ì™¸ì— ë‹¤ë¥¸ ë°©ë²•ì´ ìˆì—ˆìŠµë‹ˆë‹¤. GoëŠ” Workspaceë¼ëŠ” ê°œë…ì´ ìˆìœ¼ë©° go.work íŒŒì¼ì„ í†µí•´ ëª…ì‹œì ìœ¼ë¡œ ëª¨ë“ˆì„ í¬í•¨ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-mod" data-lang="mod">&lt;span class="line">&lt;span class="cl">&lt;span class="n">go&lt;/span> &lt;span class="mf">1.22&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">use&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">..&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">..&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">modules&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">v2&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">common&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">..&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">..&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">modules&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">v2&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">database&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">d7mysql&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">..&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">..&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">modules&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">v2&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">database&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">d7redis&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>WorkspaceëŠ” ë¡œì»¬ ì‚¬ìš©ì— ì í•©í•˜ë‹¤ëŠ” ì˜ê²¬ì´ ìˆìŠµë‹ˆë‹¤.&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>&lt;/blockquote>
&lt;p>ë§Œë“  Go ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì»¨í…Œì´ë„ˆë¡œ ì‹¤í–‰ì‹œí‚¤ê¸° ìœ„í•´ì„œëŠ” Dockerfileë¡œ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.&lt;br>
ìš°ì„  go ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ ë¹Œë“œí•˜ê¸° ìœ„í•´ì„œëŠ” ê³µí†µ ëª¨ë“ˆì„ ëª¨ë‘ ë³µì‚¬í•˜ê³  &lt;code>go work use&lt;/code> ë¥¼ ìˆ˜í–‰í•œ í›„ &lt;code>$GOPATH/src&lt;/code>ì— ëª¨ë“ˆì„ ì €ì¥í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ê°œë°œ í™˜ê²½ê³¼ ë„ì»¤ ë‚´ë¶€ í™˜ê²½ì´ ë‹¬ë¼ì„œ ë„ì»¤ ë‚´ë¶€ì— go work useë¥¼ í•  ìˆ˜ ìˆë„ë¡ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì œì‘í•œ í›„ Dockerfileë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-Dockerfile" data-lang="Dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Stage 1: Build modules&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> golang:1.22 as modules-build&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> modules/v2/common /modules/common&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> modules/v2/database/d7redis /modules/database/d7redis&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> modules/v2/database/d7mysql /modules/database/d7mysql&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /app&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> scripts/init_workspace.sh /app/init_workspace.sh&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> auth-service/v2/workspace.packages.json /app/workspace.packages.json&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> apt-get update &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt-get install -y jq&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> chmod +x init_workspace.sh &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> ./init_workspace.sh&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> cat go.work&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> auth-service/v2 /app&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> auth-service/v2/go.mod /app/go.mod&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> auth-service/v2/go.sum /app/go.sum&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> go mod download&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> &lt;span class="nv">CGO_ENABLED&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span> &lt;span class="nv">GOOS&lt;/span>&lt;span class="o">=&lt;/span>linux go build -a -installsuffix cgo -o /bin/main main.go&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># stage 2&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> scratch&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> --from&lt;span class="o">=&lt;/span>modules-build /bin/main /bin/main&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">EXPOSE&lt;/span>&lt;span class="s"> 3001&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">CMD&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;/bin/main&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ê²°êµ­ í•´ê²°í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ê²½ë¡œ ë¬¸ì œ, ëª¨ë“ˆì´ ì œëŒ€ë¡œ ì„¤ì •ë˜ì§€ ì•ŠëŠ” ë¬¸ì œ ë“± ì›ì¸ì€ ë‹¤ì–‘í–ˆìŠµë‹ˆë‹¤.&lt;br>
í•´ê²°ì±…ì„ ëª¨ìƒ‰í•˜ë‹¤ê°€ ëŠë‚€ê±´ &amp;ldquo;ë‚´ê°€ Goë¥¼ ì ì ˆí•˜ê²Œ ì‚¬ìš©í•œ ê²ƒì´ ë§ë‚˜?&amp;rdquo; ì˜€ìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ê±°ìŠ¬ëŸ¬ ì˜¬ë¼ê°€ &lt;strong>MSAë¥¼ ì±„íƒí•œ ê²ƒì´ ë¬¸ì œì˜€ë‹¤ëŠ” ê²°ë¡ ì— ë„ë‹¬&lt;/strong>í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤-í•˜ì§€-ë§ì•˜ì–´ì•¼-í–ˆë‹¤">ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í•˜ì§€ ë§ì•˜ì–´ì•¼ í–ˆë‹¤.
&lt;/h2>&lt;p>ê²°êµ­ ëª¨ë“  ì›ì¸ì€ &lt;strong>ì•„ë¬´ ìƒê° ì—†ì´ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¥¼ ë„ì…&lt;/strong>í–ˆê¸° ë•Œë¬¸ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. ê·¸ë•Œ ë‹¹ì‹œ MSAë¼ê³  ë¶ˆë¦¬ëŠ” ìš©ì–´ê°€ íŠ¸ë Œë“œì²˜ëŸ¼ ë– ì˜¬ëê³ , ê·œëª¨ê°€ ìˆëŠ” ê¸°ì—…ì´ í•´ë‹¹ ëŠ¥ë ¥ì„ ìš”êµ¬í•˜ë©´ì„œ ëŠ¥ë ¥ì´ í•„ìˆ˜ë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.&lt;br>
&lt;strong>ì™œ ê·œëª¨ê°€ ìˆëŠ” ê¸°ì—…ì´ MSAë¥¼ ì‚¬ìš©í•˜ëŠ”ê°€?&lt;/strong> ì— ëŒ€í•œ ì—­ì§ˆë¬¸ì„ ìƒê°í•˜ì§€ ëª»í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;br>
ê¸°ì—…ì´ MSAë¥¼ ì±„íƒí•œ ì´ìœ ëŠ” &lt;strong>ì„œë¹„ìŠ¤ ê°„ ê²°í•©ë„ë¥¼ ë‚®ì¶° ìš”êµ¬ì‚¬í•­ì— ëŒ€í•œ ë¹ ë¥¸ ëŒ€ì²˜&lt;/strong>í•˜ê¸° ìœ„í•´ì„œ ë¼ê³  ìƒê°í•©ë‹ˆë‹¤.
ì œ í”„ë¡œì íŠ¸ëŠ” MSAë¡œ í• ë§Œí¼ í° ì„œë¹„ìŠ¤ê°€ ì•„ë‹ˆì˜€ê³  ì´ë¥¼ êµ¬í˜„í•  ëŠ¥ë ¥ì„ ê°€ì§€ê³  ìˆì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì¦‰ &lt;strong>ì˜¤ë²„ ì—”ì§€ë‹ˆì–´ë§&lt;/strong>ì„ í•œ ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ì‹¤íŒ¨-ì´í›„ì˜-ìƒˆë¡œìš´-ì‹œì‘">ì‹¤íŒ¨ ì´í›„ì˜ ìƒˆë¡œìš´ ì‹œì‘
&lt;/h2>&lt;p>ì´ í”„ë¡œì íŠ¸ë¥¼ ìˆ˜í–‰í•˜ë©´ì„œ ë§ì€ ì‹œê°„ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ë…¸ë ¥ ëì— ì™„ì„±ëœ ê²ƒì´ í•˜ë‚˜ ì—†ìœ¼ë‹ˆ í•œí¸ìœ¼ë¡œëŠ” ì•„ì‰½ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.&lt;br>
í•˜ì§€ë§Œ ì´ í”„ë¡œì íŠ¸ê°€ ì €ì—ê²ŒëŠ” ìƒˆë¡œìš´ ì‹œì‘ì„ ì•Œë ¸ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;br>
&lt;strong>&amp;ldquo;ê¸°ì´ˆë¶€í„° ê³µë¶€í•  ì˜ˆì •ì´ë¼ë©´ ê¸°ë³¸ì ì¸ êµ¬ì„±ë¶€í„° ê³µë¶€í•´ë³´ì.&amp;rdquo;&lt;/strong> ë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤. ì´í›„ë¡œ ì €ëŠ” ê¸°ì´ˆë¶€í„° ê³µë¶€í•  ìˆ˜ ìˆë„ë¡ ì‘ì€ í”„ë¡œì íŠ¸ë¥¼ ê¸°íší•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://www.reddit.com/r/golang/comments/19517hq/what_are_you_using_go_workspaces_for_if_at_all/" target="_blank" rel="noopener"
>https://www.reddit.com/r/golang/comments/19517hq/what_are_you_using_go_workspaces_for_if_at_all/&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>ì„œë²„ êµ¬ì¶•ê¸° - 4. Kolla-ansible ì„¤ì¹˜ ì‹œ ë§ˆì£¼í•œ ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ</title><link>https://s0okju.github.io/p/server-setup-4/</link><pubDate>Tue, 01 Oct 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/server-setup-4/</guid><description>&lt;h2 id="devstackì˜-í•œê³„">DevStackì˜ í•œê³„
&lt;/h2>&lt;p>DevStackìœ¼ë¡œ Openstackì„ ë°°í¬í•˜ë©´ì„œ í° ë¬¸ì œì ì„ ëŠë¼ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>Nova Instanceì— ì§ì ‘ ì ‘ê·¼í•˜ëŠ” ê²ƒì´ ì–´ë µë‹¤.&lt;/li>
&lt;li>ë¦¬ì†ŒìŠ¤ë¥¼ ì¶”ê°€ ë° ì‚­ì œí•˜ëŠ” ê²ƒì´ ì–´ë µë‹¤.&lt;/li>
&lt;/ul>
&lt;p>ìœ„ì˜ ë¬¸ì œì ì€ &lt;strong>ë„¤íŠ¸ì›Œí¬ë¡œ ì¸í•´ ë°œìƒ&lt;/strong>í•œ ê²ƒì…ë‹ˆë‹¤.
ì˜ˆë¡œ ì œê°€ Nova Instanceë¥¼ ìƒì„±í•´ Floating ipë¥¼ í• ë‹¹í•œë‹¤ê³  ê°€ì •í•´ ë´…ì‹œë‹¤. External Networkì˜ IP ë²”ìœ„ê°€ ì™¸ë¶€ì™€ ì—°ê²°ì´ ë¶ˆê°€ëŠ¥í•´ ì§ì ‘ì ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ì—†ê²Œ ë©ë‹ˆë‹¤. ê·¸ëŸ¼ sshë¡œ ì„œë²„ì— ì§ì ‘ ì ‘ì†í•´ì„œ ê´€ë¦¬í•˜ëŠ” ë°©ì•ˆë„ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¼ Openstackì„ ì™œ ì“´ê±°ì§€? í‚¤ëŠ” ì–´ë–»ê²Œ ê´€ë¦¬í•˜ì§€? ë“± ë‹¤ì–‘í•œ ê¼¬ë¦¬ ì§ˆë¬¸ì´ ë”°ë¼ì˜¤ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="kolla-ansible">Kolla Ansible
&lt;/h2>&lt;p>ë°©ì•ˆì„ ëª¨ìƒ‰í•˜ëŠ” ì¤‘ Openstackì€ DevStack ì´ì™¸ì—ë„ ë‹¤ì–‘í•œ ë°°í¬ ë°©ì•ˆì´ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-setup-4/image.png"
width="1083"
height="609"
srcset="https://s0okju.github.io/p/server-setup-4/image_hu_d0a000f910760807.png 480w, https://s0okju.github.io/p/server-setup-4/image_hu_1c212db233c3f527.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://docs.openstack.org/contributors/ko_KR/common/introduction.html"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;/p>
&lt;blockquote>
&lt;p>Kolla Ansibleì´ë€ Ansible í”Œë ˆì´ë¶ì„ í†µí•´ OpenStackì˜ ëª¨ë“  ì„œë¹„ìŠ¤ë¥¼ &lt;strong>ì»¨í…Œì´ë„ˆë¡œ ë°°í¬&lt;/strong>í•˜ê³  ìœ ì§€ ë³´ìˆ˜í•˜ë©° ìš´ì˜í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” í”„ë¡œì íŠ¸ì´ë‹¤. ì´ë¥¼ í†µí•´ ë³µì¡í•œ ì„¤ì¹˜ ê³¼ì •ê³¼ ìˆ˜ë™ ì„¤ì •ì„ ìµœì†Œí™”í•˜ê³ , ì¬í˜„ ê°€ëŠ¥í•œ í™˜ê²½ì„ ì œê³µí•˜ì—¬ íš¨ìœ¨ì ì´ë©° ì•ˆì •ì ì¸ í´ë¼ìš°ë“œ ì¸í”„ë¼ ìš´ì˜ì„ ê°€ëŠ¥í•˜ê²Œ í•œë‹¤.&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>&lt;/blockquote>
&lt;p>ì¦‰ ìš°ë¦¬ê°€ ì„¤ì •í•œ ì‹œìŠ¤í…œ ì„œë¹„ìŠ¤ë¥¼ ì»¨í…Œì´ë„ˆ í˜•íƒœë¡œ êµ¬ì¶•ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-setup-4/image-1.png"
width="983"
height="925"
srcset="https://s0okju.github.io/p/server-setup-4/image-1_hu_8352fe0984792688.png 480w, https://s0okju.github.io/p/server-setup-4/image-1_hu_50ffe7b3191fc881.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://velog.io/@larshavin/Kolla-Ansible%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-OpenStack-%EC%84%A4%EC%B9%98-1"
class="gallery-image"
data-flex-grow="106"
data-flex-basis="255px"
>&lt;/p>
&lt;h2 id="ì„¤ì¹˜">ì„¤ì¹˜
&lt;/h2>&lt;blockquote>
&lt;p>ì„¤ì¹˜ëŠ” &lt;a class="link" href="https://parandol.tistory.com/72" target="_blank" rel="noopener"
>íŒŒë€ëŒë‹˜ì˜ ë¸”ë¡œê·¸ - Kolla-ansibleë¡œ Openstack All-in-one ì„¤ì¹˜í•˜ê¸°(Installing Openstack All-in-one with Kolla-ansible)&lt;/a>ë¥¼ ì ê·¹ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;h3 id="ì„¤ì¹˜-ëª©ë¡">ì„¤ì¹˜ ëª©ë¡
&lt;/h3>&lt;p>Kolla-ansibleì˜ ì¥ì ì€ ì›í•˜ëŠ” ë¦¬ì†ŒìŠ¤ ì„ íƒê³¼ ì„¤ì •ì´ ì‰½ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ê·¸ë˜ì„œ ì €ëŠ” ê¸°ë³¸ì ì¸ ë¦¬ì†ŒìŠ¤ë¥¼ ì„ íƒí•˜ì—¬ ì„¤ì¹˜í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;strong>ì„¤ì¹˜í•  ë¦¬ì†ŒìŠ¤&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Keystone&lt;/li>
&lt;li>Glance&lt;/li>
&lt;li>Nova&lt;/li>
&lt;li>Neutron&lt;/li>
&lt;li>Cinder&lt;/li>
&lt;li>Swift&lt;/li>
&lt;li>Horizon&lt;/li>
&lt;/ul>
&lt;h3 id="all-in-one-or-node">all-in-one or node?
&lt;/h3>&lt;p>ì˜¤í”ˆìŠ¤íƒì€ í¬ê²Œ 3ê°€ì§€ ë…¸ë“œê°€ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>Controller node : ì „ì²´ ì˜¤í”ˆìŠ¤íƒ ì„œë¹„ìŠ¤ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ ê´€ë¦¬ ë° ë…¸ë“œ ê°„ ì—°ê²°ì„ ì˜í•´ì„œëŠ” ìµœì†Œí•œ 2ê°œ ì´ìƒì˜ ì¸í„°ë„· ì¸í„°í˜ì´ìŠ¤ê°€ í•„ìš”í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>Compute node : Nova ê¸°ë°˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‘ë™í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” í•˜ì´í¼ë°”ì´ì €ë¥¼ ì‹¤í–‰í•˜ëŠ” ë…¸ë“œì…ë‹ˆë‹¤.&lt;/li>
&lt;li>Network node : ë‹¤ì–‘í•œ ë„¤íŠ¸ì›Œí¬ ì„œë¹„ìŠ¤ ì—ì´ì „íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©°, ì´ë¥¼ ê°€ìƒ ë„¤íŠ¸ì›Œí¬ì— ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì—°ê²°í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-setup-4/image-2.png"
width="626"
height="686"
srcset="https://s0okju.github.io/p/server-setup-4/image-2_hu_3563153eabd2edd.png 480w, https://s0okju.github.io/p/server-setup-4/image-2_hu_e1b4bbd897ee5577.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://docs.oracle.com/cd/E36784_01/html/E54155/archover.html"
class="gallery-image"
data-flex-grow="91"
data-flex-basis="219px"
>&lt;/p>
&lt;p>ì—¬ëŸ¬ ê°€ì´ë“œë¥¼ ë³´ë©´ ë…¸ë“œë“¤ì€ ë¬¼ë¦¬ì ìœ¼ë¡œ ë¶„ë¦¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì„œë²„ ë‚´ ê°€ìƒë¨¸ì‹ ì„ êµ¬ì¶•í•˜ì—¬ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë³µì¡í•œ ê´€ê³„ë¡œ &lt;strong>ì„œë¹„ìŠ¤ ê¸°ëŠ¥ì„ í•˜ë‚˜ì˜ í˜¸ìŠ¤íŠ¸ì— ì„¤ì¹˜í•  ìˆ˜ ìˆëŠ” all-in-one&lt;/strong>&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>ì„ ì„ íƒí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="openstack-ë„¤íŠ¸ì›Œí¬">Openstack ë„¤íŠ¸ì›Œí¬
&lt;/h2>&lt;p>&lt;strong>ê°€ì¥ ì–´ë µê³  ì•ìœ¼ë¡œ ê³„ì† ê³µë¶€í•´ì•¼ í•˜ëŠ” ë¶„ì•¼&lt;/strong>ì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì™„ì „íˆ ì´í•´í•œ ê²ƒì€ ì•„ë‹ˆì§€ë§Œ ì•Œê³  ìˆëŠ” ê·¸ëŒ€ë¡œ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì˜¤í”ˆ ìŠ¤íƒì—ì„œ ë„¤íŠ¸ì›Œí¬ëŠ” Management, Tunnel, External ë„¤íŠ¸ì›Œí¬ê°€ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>Management Network : ê´€ë¦¬ìš© ë„¤íŠ¸ì›Œí¬ë¡œ ê° ì»´í¬ë„ŒíŠ¸ì™€ ê´€ë ¨ëœ APIë¥¼ í˜¸ì¶œí•˜ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤.&lt;/li>
&lt;li>Tunnel Network : vm instance ê°„ ë„¤íŠ¸ì›Œí¬ë¥¼ êµ¬ì¶•í•˜ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤.&lt;/li>
&lt;li>External Network : vm instanceê°€ ì¸í„°ë„·ê³¼ í†µì‹ í•˜ê¸° ìœ„í•œ ë„¤íŠ¸ì›Œí¬ì…ë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;p>ë„¤íŠ¸ì›Œí¬ ì„œë¹„ìŠ¤ëŠ” í¬ê²Œ ë‘ ê°€ì§€ ì˜µì…˜ì´ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>Provider Network : ê°€ìƒ ë„¤íŠ¸ì›Œí¬ë¥¼ ë¬¼ë¦¬ì  ë„¤íŠ¸ì›Œí¬ë¡œ ì—°ê²°í•©ë‹ˆë‹¤. ì¦‰ ë¬¼ë¦¬ì ì¸ ë„¤íŠ¸ì›Œí¬ê°€ vm ì¸ìŠ¤í„´ìŠ¤ê°€ í™œìš©í•˜ëŠ” ë„¤íŠ¸ì›Œí¬ê°€ ë©ë‹ˆë‹¤.&lt;/li>
&lt;li>Self-Service Network : ì˜¤í”ˆìŠ¤íƒì„ ì‚¬ìš©í•˜ëŠ” ì‚¬ìš©ìê°€ ì§ì ‘ ìì‹ ë§Œì˜ ë„¤íŠ¸ì›Œí¬ë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆëŠ” ë„¤íŠ¸ì›Œí¬ ì…ë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Provider ë„¤íŠ¸ì›Œí¬ëŠ” ë¶€í•˜ë¶„ì‚° ì„œë¹„ìŠ¤ í˜¹ì€ ë°©í™”ë²½ ì„œë¹„ìŠ¤ ë“± ê³ ê¸‰ ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ì œê°€ ì‚¬ìš©í•˜ëŠ” ì˜µì…˜ì€ ë¹„êµì  ê°„ë‹¨í•œ Provider Network ì…ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="í…ŒìŠ¤íŠ¸ìš©-openstack-ì„œë²„ì˜-ë„¤íŠ¸ì›Œí¬-ì ‘ê·¼-ë¬¸ì œ">í…ŒìŠ¤íŠ¸ìš© Openstack ì„œë²„ì˜ ë„¤íŠ¸ì›Œí¬ ì ‘ê·¼ ë¬¸ì œ
&lt;/h2>&lt;p>kolla-ansibleì—ì„œ ì œê³µí•´ì£¼ëŠ” &lt;code>globals.yml&lt;/code> ë¥¼ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤. í™˜ê²½ íŒŒì¼ì„ ë³´ë©´ Internal, External Networkë¡œ êµ¬ë¶„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.&lt;br>
network_interfaceëŠ” Internal networkì— í•´ë‹¹ë˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì§€ì •í•˜ëŠ” ê²ƒìœ¼ë¡œ ì €ëŠ” ì™¸ë¶€ ì¸í„°ë„·ê³¼ ì—°ê²°ë˜ì§€ ì•ŠëŠ” &lt;code>enp2s0&lt;/code> ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ë°˜ë©´ neutron_external_interfaceëŠ” providerë¡œ ì œê³µí•  ì¸í„°í˜ì´ìŠ¤ë¡œ ì¸í„°ë„·ê³¼ ì—°ê²°í•  ìˆ˜ ìˆëŠ” &lt;code>enp3s0&lt;/code> ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">##############################&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Neutron - Networking Options&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">##############################&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># followed for other types of interfaces.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">network_interface&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;enp2s0&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">neutron_external_interface&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;enp3s0&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ê·¸ë¦¼ì„ ê·¸ë ¤ë³´ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.&lt;br>
(ì•„ë˜ì˜ ê·¸ë¦¼ì€ &lt;code>172.17.0.250/24&lt;/code>ì´ ì•„ë‹ˆë¼ &lt;code>172.16.0.250/24&lt;/code> ì…ë‹ˆë‹¤. )&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-setup-4/image-3.png"
width="504"
height="423"
srcset="https://s0okju.github.io/p/server-setup-4/image-3_hu_a9481fa49341ced5.png 480w, https://s0okju.github.io/p/server-setup-4/image-3_hu_add6a79d669ec86c.png 1024w"
loading="lazy"
alt="ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€"
class="gallery-image"
data-flex-grow="119"
data-flex-basis="285px"
>&lt;/p>
&lt;p>í•˜ì§€ë§Œ ì´ë²ˆ ì˜¤í”ˆìŠ¤íƒ ì„œë²„ëŠ” ì–´ë””ê¹Œì§€ë‚˜ ê°œì¸ìœ¼ë¡œë§Œ ì‚¬ìš©ë˜ëŠ” ê³µê°„ì…ë‹ˆë‹¤. ì¦‰ &lt;strong>í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ë¥¼ ì“°ëŠ” ê²ƒë„ ì € í˜¼ìì´ê³ , ê´€ë¦¬í•˜ëŠ” ê²ƒë„ ì € í˜¼ìì¸ ê²ƒì…ë‹ˆë‹¤&lt;/strong>. ê´€ë¦¬ë¥¼ ìœ„í•œ ë„¤íŠ¸ì›Œí¬ ì ‘ì†(Internal Network)ë„, ì˜¤í”ˆìŠ¤íƒ ë¦¬ì†ŒìŠ¤ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë„¤íŠ¸ì›Œí¬ ì ‘ì†(External Network)ë„ ê°€ëŠ¥í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ëŸ¬ë‚˜ ì €ëŠ” í´ë¼ìš°ë“œ ë¦¬ì†ŒìŠ¤ì˜ APIë¥¼ ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì™œëƒí•˜ë©´ ì„œë¡œ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ì„ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-setup-4/image-4.png"
width="615"
height="510"
srcset="https://s0okju.github.io/p/server-setup-4/image-4_hu_d197fff7b22f75e5.png 480w, https://s0okju.github.io/p/server-setup-4/image-4_hu_a4b6f4b5facc9ec2.png 1024w"
loading="lazy"
alt="ë„¤íŠ¸ì›Œí¬ êµ¬ì„±ë„"
class="gallery-image"
data-flex-grow="120"
data-flex-basis="289px"
>&lt;/p>
&lt;p>ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ë¼ìš°íŒ… í…Œì´ë¸”ì„ ì„¤ì •í•´ì•¼ í•  ê²ƒì…ë‹ˆë‹¤. ë¼ìš°í„°ì— ì§ì ‘ ì„¤ì •í•˜ëŠ” ë°©ë²•ê³¼ ìš´ì˜ì²´ì œì—ì„œ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì´ ìˆëŠ”ë°, ë¬¼ë¦¬ì ìœ¼ë¡œ ë¼ìš°í„°ê°€ í•˜ë‚˜ë§Œ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ìš´ì˜ì²´ì œì—ì„œ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì €ëŠ” ip forwardë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>IP-Forwardë€ ì»¤ë„ ê¸°ë°˜ ë¼ìš°íŒ… í¬ì›Œë”©ìœ¼ë¡œ í•˜ë‚˜ì˜ ì¸í„°í˜ì´ìŠ¤ë¡œ ë“¤ì–´ì˜¨ íŒ¨í‚·ì„ ë‹¤ë¥¸ ì„œë¸Œë„·ì„ ê°€ì§„ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¡œ íŒ¨í‚·ì„ í¬ì›Œë”©ì‹œí‚¤ëŠ” ê²ƒì´ë‹¤.&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Kernel parameter update&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo sysctl -w net.ipv4.conf.all.forwarding&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo sysctl net.ipv4.conf.all.forwarding net.ipv4.conf.all.forwarding &lt;span class="o">=&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>br-ex ì†¡ì‹ ë˜ì–´ enp2s0 ì¸í„°í˜ì´ìŠ¤ì— ìˆ˜ì‹ ë˜ëŠ” ê²ƒì„ í—ˆë½í•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>br-exì€ OpenVSwitch(OVS) ì ìš©ì‹œ ë¬¼ë¦¬ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì™€ ì§ì ‘ ì—°ê²°ë˜ëŠ” ê°€ìƒ ìŠ¤ìœ„ì¹˜ì…ë‹ˆë‹¤. ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ì—ì„œ ê°€ìƒ ë¨¸ì‹ ì„ ì ‘ê·¼í• ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">sudo iptables -I FORWARD -i br-ex -o enp2s0 -j ACCEPT
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo iptables -nL FORWARD
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>í´ë¼ì´ì–¸íŠ¸ë„ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.&lt;br>
192.168.50.27ë¥¼ í†µí•´ 172.16.0.0/24(enp2s0)ì— ì ‘ê·¼í•œë‹¤ëŠ” routing ruleë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">sudo route -n add 172.16.0.0/24 192.168.50.27
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì—¬ê¸°ì„œ ì™œ 192.168.50.27ë¥¼ í†µí•´ 172.16.0.0/24 ë„¤íŠ¸ì›Œí¬ì— ì ‘ê·¼í•œë‹¤ê³  ì„¤ì •í•œ ê²ƒì¼ê¹Œìš”?&lt;br>
ì˜¤í”ˆ ìŠ¤íƒ ì„œë²„ì—ì„œ ip_forwardë¥¼ ì‹œì¼°ìŠµë‹ˆë‹¤. ì¦‰ ì„œë²„ê°€ ë¼ìš°í„°ì˜ ì—­í• ì„ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ê·¸ë˜ì„œ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë¼ìš°íŒ… ë£°ì„ ì„¤ì •í•  ë•Œì—ëŠ” 172.16.0.250/24ì— í¬ì›Œë”©ì„ ì‹œí‚¨ ì„œë²„ì˜ ip ì£¼ì†Œë¡œ ì„¤ì •í•´ì•¼ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ì •ë¦¬">ì •ë¦¬
&lt;/h2>&lt;p>í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ Openstack ì„œë²„ë¥¼ êµ¬ì¶•í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. êµ¬ì¶• ì‹œ ìš”êµ¬ì‚¬í•­ì€ ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆìœ¼ë©´ì„œ ë¦¬ì†ŒìŠ¤ APIì— ì ‘ê·¼ ê°€ëŠ¥í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.
ì„œë¡œ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ì„ ê°€ì ¸ ë¦¬ì†ŒìŠ¤ APIì— ì ‘ê·¼í•˜ì§€ ëª»í–ˆìœ¼ë‚˜ ì„œë²„ì— ip forwardë¥¼ ìˆ˜í–‰í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë¬¸ì œë¥¼ í•´ê²°í•´ ë³´ë‹ˆ Neutronì— ëŒ€í•´ ëª¨ë¥´ê³  ìˆë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ í¬ìŠ¤íŒ…ì€ Neutron í†±ì•„ë³´ê¸°ë¡œ ëŒì•„ì˜¤ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="reference">Reference
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://velog.io/@lijahong/0%EB%B6%80%ED%84%B0-%EC%8B%9C%EC%9E%91%ED%95%98%EB%8A%94-Linux-%EA%B3%B5%EB%B6%80-%EB%B0%A9%ED%99%94%EB%B2%BD-%EC%BB%B4%ED%93%A8%ED%84%B0" target="_blank" rel="noopener"
>https://velog.io/@lijahong/0%EB%B6%80%ED%84%B0-%EC%8B%9C%EC%9E%91%ED%95%98%EB%8A%94-Linux-%EA%B3%B5%EB%B6%80-%EB%B0%A9%ED%99%94%EB%B2%BD-%EC%BB%B4%ED%93%A8%ED%84%B0&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://velog.io/@larshavin/Kolla-Ansible%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-OpenStack-%EC%84%A4%EC%B9%98-1" target="_blank" rel="noopener"
>https://velog.io/@larshavin/Kolla-Ansible%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-OpenStack-%EC%84%A4%EC%B9%98-1&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://blog.naver.com/love_tolty/220237750951" target="_blank" rel="noopener"
>https://blog.naver.com/love_tolty/220237750951&lt;/a>&lt;/li>
&lt;/ul>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://tech.osci.kr/openstack_cinder/" target="_blank" rel="noopener"
>https://tech.osci.kr/openstack_cinder/&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://blog.naver.com/love_tolty/220237750951" target="_blank" rel="noopener"
>https://blog.naver.com/love_tolty/220237750951&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>OpsAthlan 2 - 2. Advanced echo server ë©”íŠ¸ë¦­ ë¶„ì„</title><link>https://s0okju.github.io/p/opsathlan-2-2/</link><pubDate>Sun, 29 Sep 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/opsathlan-2-2/</guid><description>&lt;h2 id="jvmì˜-ë©”ëª¨ë¦¬-ì‚¬ìš©-í˜•íƒœ">JVMì˜ ë©”ëª¨ë¦¬ ì‚¬ìš© í˜•íƒœ
&lt;/h2>&lt;p>JVMì—ëŠ” 3ê°€ì§€ ë©”ëª¨ë¦¬ ì‚¬ìš© í˜•íƒœê°€ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>used: JVMì´ ì‚¬ìš© ì¤‘ì¸ ë©”ëª¨ë¦¬ ì–‘&lt;/li>
&lt;li>committed: JVMì´ ì‹œìŠ¤í…œì—ê²Œ ìš”ì²­í•œ ë©”ëª¨ë¦¬ ì–‘&lt;/li>
&lt;li>max : ì‹¤í–‰ ì¤‘ì¸ í™˜ê²½ì—ì„œ ìµœëŒ€ë¡œ í• ë‹¹í•  ìˆ˜ ìˆëŠ” ë©”ëª¨ë¦¬ ì–‘&lt;/li>
&lt;/ul>
&lt;p>ë©”ëª¨ë¦¬ ìš©ëŸ‰ì€ used &amp;lt;= committed &amp;lt;= maxë¥¼ ë”°ë¥´ëŠ”ë°, used ë©”ëª¨ë¦¬ ì–‘ì´ committed, max ë©”ëª¨ë¦¬ë³´ë‹¤ í¬ê²Œ ëœë‹¤ë©´ OOM(Out Of Memory)ì´ ë°œìƒ&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-2-2/image.png"
width="1280"
height="658"
srcset="https://s0okju.github.io/p/opsathlan-2-2/image_hu_7eff0a0e3e83f7ce.png 480w, https://s0okju.github.io/p/opsathlan-2-2/image_hu_122e62af3cace43b.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://swmobenz.tistory.com/37"
class="gallery-image"
data-flex-grow="194"
data-flex-basis="466px"
>&lt;/p>
&lt;p>ê·¸ë¼íŒŒë‚˜ë¥¼ í™•ì¸í•´ë³´ë©´ 3ê°€ì§€ì˜ ë©”ëª¨ë¦¬ í˜•íƒœë¥¼ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-2-2/image-1.png"
width="1132"
height="298"
srcset="https://s0okju.github.io/p/opsathlan-2-2/image-1_hu_fbf00331a397b61c.png 480w, https://s0okju.github.io/p/opsathlan-2-2/image-1_hu_339a5807185ccf79.png 1024w"
loading="lazy"
alt="ê·¸ë¼íŒŒë‚˜ì—ì„œ í™•ì¸í•œ JVM Memory"
class="gallery-image"
data-flex-grow="379"
data-flex-basis="911px"
>&lt;/p>
&lt;h3 id="committed-memoryì˜-ì—­í• ">Committed Memoryì˜ ì—­í• 
&lt;/h3>&lt;blockquote>
&lt;p>&lt;a class="link" href="https://swmobenz.tistory.com/37" target="_blank" rel="noopener"
>YGwanë‹˜ì˜ ë¸”ë¡œê·¸: JVM Memoryì˜ 3ê°€ì§€ ë©”íŠ¸ë¦­ ì§€í‘œ - Committed Memoryë€?&lt;/a>ë¥¼ ì½ì–´ë³´ëŠ” ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>&lt;strong>ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•˜ê³  í•´ì œí•˜ëŠ”ë° í•„ìš”í•œ ì˜¤ë²„í—¤ë“œë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤ëŠ” íŠ¹ì§•&lt;/strong>ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.&lt;br>
JVMì´ ì‹œìŠ¤í…œì„ í†µí•´ ë¯¸ë¦¬ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•˜ì—¬ ì‚¬ìš© ì‹œ ê°€ì§€ê³  ìˆëŠ” ì—¬ìœ  ë©”ëª¨ë¦¬ ê³µê°„ì„ í™œìš©í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë©”ëª¨ë¦¬ë¥¼ ì¦‰ì‹œ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©° ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•˜ëŠ”ë° ë°œìƒí•˜ëŠ” ì˜¤ë²„í—¤ë“œë¥¼ ì¤„ì¼ ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="advanced-echo-server-jvm-ë©”íŠ¸ë¦­-íŠ¹ì§•">Advanced echo server jvm ë©”íŠ¸ë¦­ íŠ¹ì§•
&lt;/h2>&lt;p>ì´ì „ ê¸€ì—ì„œ ìŠ¤í”„ë§ë¶€íŠ¸ ì»¨í…Œì´ë„ˆì˜ ë©”ëª¨ë¦¬ê°€ ì§€ì†ì ìœ¼ë¡œ ì¦ê°€í•œë‹¤ê³  ì–¸ê¸‰í–ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì €ëŠ” jvmì— ë¬¸ì œê°€ ìˆì„ ìˆ˜ ìˆê² ë‹¤ëŠ” ìƒê°ì´ ë“¤ì–´ ê´€ë ¨ ì§€í‘œë¥¼ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;br>
ì²˜ìŒì— ëˆˆì—¬ê²¨ ë´¤ë˜ ê²ƒì€ JVMì˜ committed ë©”ëª¨ë¦¬ ì–‘ì´ ì ì§„ì ìœ¼ë¡œ ì¦ê°€í•˜ê³  ìˆë‹¤ëŠ” ì ì´ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ğŸ˜‚ ì‚¬ì§„ì—ì„œëŠ” ì˜ ë³´ì´ì§€ ì•Šì§€ë§Œ ìì„¸íˆ ë³´ë©´ 1MBì”© ìƒìŠ¹í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-2-2/image-2.png"
width="393"
height="278"
srcset="https://s0okju.github.io/p/opsathlan-2-2/image-2_hu_18af394033c56b55.png 480w, https://s0okju.github.io/p/opsathlan-2-2/image-2_hu_7d2028e9a7d4acdf.png 1024w"
loading="lazy"
alt="JVM ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="339px"
>&lt;/p>
&lt;p>ìì„¸íˆ ì•Œì•„ë³´ê¸° ì „ì— heapê³¼ non-heap ë©”ëª¨ë¦¬ì— ëŒ€í•´ ì•Œì•„ë´…ì‹œë‹¤.&lt;/p>
&lt;ul>
&lt;li>Java Heap : Instanceì™€ ê°ì²´ê°€ ì €ì¥ë˜ëŠ” ê³µê°„ìœ¼ë¡œ ëª¨ë“  Threadì— ì˜í•´ ê³µìœ ë˜ëŠ” ì˜ì—­&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>&lt;/li>
&lt;li>Native Area(non-heap) : OSë ˆë²¨ì—ì„œ ê´€ë¦¬í•˜ëŠ” ì˜ì—­ìœ¼ë¡œ JVM í¬ê¸°ì— ê°•ì œë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— &lt;strong>í”„ë¡œì„¸ìŠ¤ê°€ ì´ìš©í•  ìˆ˜ ìˆëŠ” ë©”ëª¨ë¦¬ ìì›ì„ ìµœëŒ€í•œ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-2-2/image-3.png"
width="844"
height="250"
srcset="https://s0okju.github.io/p/opsathlan-2-2/image-3_hu_3aa78af60af0e37e.png 480w, https://s0okju.github.io/p/opsathlan-2-2/image-3_hu_263681960e80b037.png 1024w"
loading="lazy"
alt="ì¶œì²˜ :Â https://www.samsungsds.com/kr/insights/1232761_4627.html"
class="gallery-image"
data-flex-grow="337"
data-flex-basis="810px"
>&lt;/p>
&lt;p>ë‹¤ì‹œ ëŒì•„ì™€ ì œê°€ ìš´ì˜í•˜ê³  ìˆëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í™•ì¸í•´ ë³¼ê¹Œìš”.&lt;br>
ì •ë§ ê°„ë‹¨í•œ EchoControllerì™€ í”„ë¡œë©”í…Œìš°ìŠ¤ metric ìˆ˜ì§‘ì„ ìœ„í•œ MetricControllerê°€ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@RestController&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">EchoController&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@GetMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/echo&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">echo&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Hello, World!&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë¹„êµì  ë‹¨ìˆœí•˜ê¸° ë•Œë¬¸ì— Heap ì˜ì—­ì˜ ë¬¸ì œëŠ” ì•„ë‹ˆë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.&lt;br>
ê·¸ë˜ë„ JVM Heapë¥¼ í™•ì¸í•´ ë³´ê² ìŠµë‹ˆë‹¤. í™ ë©”ëª¨ë¦¬ì˜ ì‚¬ìš©ëŸ‰ì€ ë§¤ìš° ì ê²Œ ì‚¬ìš©ë˜ì—ˆê³ , ì•ˆì •ì ìœ¼ë¡œ ìœ ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-2-2/image-4.png"
width="793"
height="464"
srcset="https://s0okju.github.io/p/opsathlan-2-2/image-4_hu_da43a9130de5bae4.png 480w, https://s0okju.github.io/p/opsathlan-2-2/image-4_hu_588eb2d140d0d865.png 1024w"
loading="lazy"
alt="JVM Heap Memory ì‚¬ìš©ëŸ‰"
class="gallery-image"
data-flex-grow="170"
data-flex-basis="410px"
>&lt;/p>
&lt;p>non-heap ì˜ì—­ì„ ë´ë´…ì‹œë‹¤.&lt;br>
ë³€í™”í­ì´ ì ì–´ì„œ ì°¨ì´ë¥¼ ëª¨ë¥´ê² ì§€ë§Œ ë©”ëª¨ë¦¬ê°€ ì‚¬ìš©ëŸ‰ì´ ì¡°ê¸ˆì”© ì¦ê°€í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-2-2/image-5.png"
width="475"
height="278"
srcset="https://s0okju.github.io/p/opsathlan-2-2/image-5_hu_80ffab263e3341fa.png 480w, https://s0okju.github.io/p/opsathlan-2-2/image-5_hu_3d49181a476e3d68.png 1024w"
loading="lazy"
alt="JVM Non-Heap Memory ì‚¬ìš©ëŸ‰"
class="gallery-image"
data-flex-grow="170"
data-flex-basis="410px"
>&lt;/p>
&lt;p>ìš°ì„  &lt;a class="link" href="https://ko.wikipedia.org/wiki/%ED%94%84%EB%A1%9C%ED%8C%8C%EC%9D%BC%EB%A7%81_%28%EC%BB%B4%ED%93%A8%ED%84%B0_%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%29" target="_blank" rel="noopener"
>í”„ë¡œíŒŒì¼ë§&lt;/a>ì€ ë¬´ì—‡ì„ ì˜ë¯¸í• ê¹Œìš”. &lt;a class="link" href="https://hudi.blog/jvm-warm-up/" target="_blank" rel="noopener"
>hudi.blog: ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ ì§í›„ ë°œìƒí•˜ëŠ” Latencyì˜ ì›ì¸ê³¼ ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ JVM Warm-up&lt;/a>ë¥¼ ì°¸ê³ í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>JIT ì»´íŒŒì¼ëŸ¬&lt;/strong>ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œÂ &lt;strong>ìì£¼ ì‹¤í–‰ëœë‹¤ê³  íŒë‹¨ë˜ëŠ” íŠ¹ì • ë¶€ë¶„ë§Œì„ ê¸°ê³„ì–´ë¡œ ì»´íŒŒì¼&lt;/strong>í•œë‹¤. ì´ ë¶€ë¶„ì„Â &lt;strong>í•«ìŠ¤íŒŸ(Hotspot)&lt;/strong> ì´ë¼ê³  ë¶€ë¥¸ë‹¤. JIT ì»´íŒŒì¼ëŸ¬ëŠ” ì‹¤í–‰ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë™ì‘ì„ ë¶„ì„í•˜ê³  ì½”ë“œ ì‹¤í–‰ íšŸìˆ˜, ë£¨í”„ ë°˜ë³µ íšŸìˆ˜, ë©”ì†Œë“œ í˜¸ì¶œ ë“±ì˜ ì •ë³´ë¥¼ ì¸¡ì •í•˜ê³  ê¸°ë¡í•œë‹¤. ì´ë¥¼Â &lt;strong>í”„ë¡œíŒŒì¼ë§&lt;/strong>ì´ë¼ê³  í•œë‹¤.&lt;br>
JIT ì»´íŒŒì¼ëŸ¬ëŠ” í”„ë¡œíŒŒì¼ë§ ê²°ê³¼ë¥¼ í† ëŒ€ë¡œ í•«ìŠ¤íŒŸì„ ì‹ë³„í•œë‹¤. í•«ìŠ¤íŒŸì´ ì‹ë³„ë˜ì—ˆë‹¤ë©´, JIT ì»´íŒŒì¼ëŸ¬ëŠ”Â &lt;strong>ë©”ì†Œë“œ ë‹¨ìœ„ë¡œ ë°”ì´íŠ¸ ì½”ë“œë¥¼ ê¸°ê³„ì–´ë¡œ ë²ˆì—­&lt;/strong>í•œë‹¤.
JIT ì»´íŒŒì¼ëŸ¬ëŠ” ì´ë ‡ê²Œ ë²ˆì—­ëœ ê¸°ê³„ì–´ë¥¼Â &lt;strong>ì½”ë“œ ìºì‹œ(Code Cache)&lt;/strong> ë¼ëŠ” ìºì‹œê³µê°„ì— ì €ì¥í•œë‹¤.&lt;/p>
&lt;p>ì¶œì²˜ - &lt;a class="link" href="https://hudi.blog/jvm-warm-up/" target="_blank" rel="noopener"
>https://hudi.blog/jvm-warm-up/&lt;/a>&lt;/p>&lt;/blockquote>
&lt;p>JITëŠ” ì „ì²´ ì½”ë“œë¥¼ ì»´íŒŒì¼ í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ìì£¼ ì‹¤í–‰ë˜ëŠ” ë¶€ë¶„ì—ë§Œ ì»´íŒŒì¼í•˜ë©° ì´ì— ëŒ€í•œ ë°ì´í„°ë¥¼ Code Cacheì— ì €ì¥í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>Non Heapê³¼ ê´€ë ¨ëœ ì§€í‘œë¥¼ í™•ì¸í•´ë´…ì‹œë‹¤.&lt;br>
ì•„ë˜ì˜ ì„¸ ê°€ì§€ ì§€í‘œê°€ ë¯¸ì„¸í•˜ê²Œ ì¦ê°€í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>Metaspace : JVMì´ ë¡œë“œí•œ ë©”íƒ€ë°ì´í„°ë¥¼ ì €ì¥&lt;/li>
&lt;li>CodeHeap : JIT ì»´íŒŒì¼ëŸ¬ ê´€ë ¨ ì§€í‘œ
&lt;ul>
&lt;li>profiled nmethods&lt;/li>
&lt;li>non-profiled nmethods&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-2-2/image-6.png"
width="1888"
height="303"
srcset="https://s0okju.github.io/p/opsathlan-2-2/image-6_hu_8ea4aaec242958a.png 480w, https://s0okju.github.io/p/opsathlan-2-2/image-6_hu_b5ce4ee5c73aea89.png 1024w"
loading="lazy"
alt="JVM Memory Pool(non-heap) ì§€í‘œ"
class="gallery-image"
data-flex-grow="623"
data-flex-basis="1495px"
>&lt;/p>
&lt;p>í•˜ì§€ë§Œ &lt;strong>ì¥ê¸°ì ì¸ ê´€ì ì—ì„œ ë°”ë¼ë´¤ì„ë•Œ ë©”ëª¨ë¦¬ ë‚­ë¹„ì¼ ìˆ˜ ìˆê² ë‹¤ëŠ” ìƒê°&lt;/strong>ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.&lt;br>
íŠ¹íˆ MetaspaceëŠ” JVM í¬ê¸°ì— ê°•ì œë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— í”„ë¡œì„¸ìŠ¤ê°€ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë©”ëª¨ë¦¬ ìì›ì„ ìµœëŒ€í•œ í™œìš©í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ Metaspace ë©”ëª¨ë¦¬ë¥¼ ì œí•œí•˜ì—¬ ìš´ì˜í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.&lt;br>
ì´ëŸ¬í•œ ì„±ëŠ¥ ì œí•œì€ Metaspaceì—ë§Œ ì ìš©ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë‹¤ë¥¸ ì˜ì—­ì—ì„œì˜ ë©”ëª¨ë¦¬ ì‚¬ì´ì¦ˆ ì œí•œì´ í•„ìš”í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-2-2/image-7.png"
width="1600"
height="922"
srcset="https://s0okju.github.io/p/opsathlan-2-2/image-7_hu_bde5af3f07961ba8.png 480w, https://s0okju.github.io/p/opsathlan-2-2/image-7_hu_62dab2ea9282642c.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://cloud.theodo.com/en/blog/jvm-oom"
class="gallery-image"
data-flex-grow="173"
data-flex-basis="416px"
>&lt;/p>
&lt;p>ì•ˆì „í•˜ê²Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìš´ì˜í•˜ê¸° ìœ„í•´ì„œëŠ” ê° ë©”ëª¨ë¦¬ ì˜ì—­ì— ë§ëŠ” ìš”êµ¬ì‚¬í•­ì„ ê³ ë ¤í•˜ì—¬ ê²°ì •í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•©ë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>Java ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ í¬ê²Œ ìœ„ì˜ Heapê³¼ Off-Heap ë‘ ê³µê°„ì„ í™œìš©í•˜ì—¬ ë™ì‘í•˜ëŠ”ë°, ë”°ë¼ì„œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•  ë•Œ ë©”ëª¨ë¦¬ ëª‡ GBë¥¼ í• ë‹¹í•´ì•¼ í•˜ëŠ”ì§€ ê²°ì •í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¨ìˆœíˆ Xmx(Heap ë©”ëª¨ë¦¬ ìµœëŒ€ì¹˜ë¥¼ ê²°ì •í•˜ëŠ” Java ì˜µì…˜) ê°’ë§Œ ìƒê°í•˜ë©´ OOMEì— ë¹ ì§€ê¸° ì‰½ë‹¤. ì‹¤ì œë¡œëŠ” &lt;strong>Xmxì— MaxMetaspaceê°’ì„ ë”í•˜ê³ , ì¶”ê°€ë¡œ í”„ë¡œê·¸ë¨ì—ì„œ NIOë¥¼ ì‚¬ìš©í•´ Native Memoryë¥¼ ì§ì ‘ í• ë‹¹ë°›ëŠ” ë¡œì§ì„ ê³ ë ¤í•´ì„œ Heap + Native Memory ì‚¬ìš©ì´ëŸ‰ìœ¼ë¡œ í• ë‹¹ì„ í•´ì•¼ ë¹„êµì  ì •í™•&lt;/strong>í•˜ë‹¤. íŠ¹íˆ ì»¨í…Œì´ë„ˆì˜ ê²½ìš° ê³„ì‚°ì„ ì¢€ ë” ì •í™•í•˜ê²Œ í•´ì•¼ ì‹œìŠ¤í…œì—ì„œ OOM killedë˜ëŠ” ìƒí™©ì„ ë©´í•  ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>ì¶œì²˜ - &lt;a class="link" href="https://www.samsungsds.com/kr/insights/1232761_4627.html" target="_blank" rel="noopener"
>https://www.samsungsds.com/kr/insights/1232761_4627.html&lt;/a>&lt;/p>&lt;/blockquote>
&lt;h2 id="ì •ë¦¬">ì •ë¦¬
&lt;/h2>&lt;p>ì‹¤ì œë¡œ ë°°í¬í•´ë³´ë©´ì„œ ì»¨í…Œì´ë„ˆì˜ ì§€ì†ì ì¸ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ì¦ê°€í•˜ëŠ” ê²ƒì— ì˜ë¬¸ì ì„ ê°€ì§€ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ìë°” ì»¨í…Œì´ë„ˆì˜ ë©”ëª¨ë¦¬ ì‚¬ìš©ì€ JVMì´ ì»¨íŠ¸ë¡¤í•  ìˆ˜ ì—†ëŠ” ë¶€ë¶„ì´ ë§ì•„ ì¶”ì í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>.&lt;br>
ê·¸ë˜ì„œ ìì„¸íˆ í™•ì¸í•  ìˆ˜ ìˆëŠ” JVM ìœ„ì£¼ë¡œ í™•ì¸í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. non-heap ì˜ì—­ì´ ë¯¸ì„¸í•˜ê²Œ ìƒìŠ¹í•˜ê³  ìˆì—ˆê³ , ì´ëŠ” ì •ìƒì ì¸ ì§€í‘œë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì¥ê¸°ì ìœ¼ë¡œëŠ” ë©”ëª¨ë¦¬ ë‚­ë¹„ê°€ ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë©”ëª¨ë¦¬ ì‚¬ì´ì¦ˆë¥¼ ì œí•œí•˜ì—¬ ìš´ì˜í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="reference">Reference
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://swmobenz.tistory.com/37" target="_blank" rel="noopener"
>https://swmobenz.tistory.com/37&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://hudi.blog/jvm-warm-up/" target="_blank" rel="noopener"
>https://hudi.blog/jvm-warm-up/&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://velog.io/@dongvelop/Spring-Boot-%EC%84%9C%EB%B2%84-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-%EB%8C%80%EC%8B%9C%EB%B3%B4%EB%93%9C%EB%B3%84-%EC%84%A4%EB%AA%85-%EB%B0%8F-%EC%9C%A0%EC%9D%98%EC%82%AC%ED%95%AD#codeheap-non-profiled-nmethods-non-heap" target="_blank" rel="noopener"
>https://velog.io/@dongvelop/Spring-Boot-%EC%84%9C%EB%B2%84-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-%EB%8C%80%EC%8B%9C%EB%B3%B4%EB%93%9C%EB%B3%84-%EC%84%A4%EB%AA%85-%EB%B0%8F-%EC%9C%A0%EC%9D%98%EC%82%AC%ED%95%AD#codeheap-non-profiled-nmethods-non-heap&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.samsungsds.com/kr/insights/1232761_4627.html" target="_blank" rel="noopener"
>https://www.samsungsds.com/kr/insights/1232761_4627.html&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://obv-cloud.com/41" target="_blank" rel="noopener"
>https://obv-cloud.com/41&lt;/a>&lt;/li>
&lt;/ul>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://swmobenz.tistory.com/37" target="_blank" rel="noopener"
>https://swmobenz.tistory.com/37&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://12bme.tistory.com/382" target="_blank" rel="noopener"
>https://12bme.tistory.com/382&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>&lt;a class="link" href="https://stackoverflow.com/questions/53451103/java-using-much-more-memory-than-heap-size-or-size-correctly-docker-memory-limi" target="_blank" rel="noopener"
>https://stackoverflow.com/questions/53451103/java-using-much-more-memory-than-heap-size-or-size-correctly-docker-memory-limi&lt;/a>&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>OpsAthlan 2 - 1. Advanced echo server êµ¬ì¶•</title><link>https://s0okju.github.io/p/opsathlan-2-1/</link><pubDate>Thu, 26 Sep 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/opsathlan-2-1/</guid><description>&lt;h2 id="ì‹œë‚˜ë¦¬ì˜¤">ì‹œë‚˜ë¦¬ì˜¤
&lt;/h2>&lt;p>&lt;a class="link" href="https://s0okju.github.io/p/opsathlan-1/" target="_blank" rel="noopener"
>ì´ì „ê¸€&lt;/a> ì„ ë³´ë‹ˆ ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…Œì´ë„ˆì— ë¬¸ì œê°€ ìƒê¸´ ê²ƒ ê°™ë‹¤. spring boot ì• í”Œë¦¬ì¼€ì´ì…˜ì— ëŒ€í•œ ì§€í‘œë¥¼ ìˆ˜ì§‘í•  ìˆ˜ ìˆë„ë¡ í™˜ê²½ì„ êµ¬ì¶•í•´ë³´ì.&lt;/p>
&lt;h3 id="í™˜ê²½">í™˜ê²½
&lt;/h3>&lt;ul>
&lt;li>Ubuntu 22.04&lt;/li>
&lt;li>Openstack 2024.1&lt;/li>
&lt;/ul>
&lt;h3 id="ì „ì²´-êµ¬ìƒë„">ì „ì²´ êµ¬ìƒë„
&lt;/h3>&lt;p>ì•„ë˜ì™€ ê°™ì´ êµ¬ìƒë©ë‹ˆë‹¤. cAdvisorë¥¼ ì„¤ì •í•œ ì´ìœ ëŠ” ì»¨í…Œì´ë„ˆ ê´€ë ¨ ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•˜ê¸° ìœ„í•´ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.
docker-composeë¥¼ í†µí•´ ì»¨í…Œì´ë„ˆë¥¼ ë°°í¬í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-2-1/image.png"
width="810"
height="750"
srcset="https://s0okju.github.io/p/opsathlan-2-1/image_hu_ad21e66785afcdf9.png 480w, https://s0okju.github.io/p/opsathlan-2-1/image_hu_984a11c238db3a47.png 1024w"
loading="lazy"
alt="ì‚¬ì§„ - OpsAthlan 2 êµ¬ì„±ë„"
class="gallery-image"
data-flex-grow="108"
data-flex-basis="259px"
>&lt;/p>
&lt;blockquote>
&lt;p>ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì»¨í…Œì´ë„ˆë“¤ì˜ ë¦¬ì†ŒìŠ¤ ì§€í‘œë¥¼ ì œê³µí•˜ê¸° ìœ„í•´ cAdvisorë¥¼ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤.&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>&lt;/blockquote>
&lt;h3 id="ì ˆì°¨">ì ˆì°¨
&lt;/h3>&lt;ol>
&lt;li>Terraform, Ansibleë¥¼ í™œìš©í•œ í™˜ê²½ êµ¬ì„±&lt;/li>
&lt;li>í”„ë¡œë©”í…Œìš°ìŠ¤ë¥¼ í™œìš©í•œ ì§€í‘œ ìˆ˜ì§‘&lt;/li>
&lt;li>ê·¸ë¼íŒŒë‚˜ ì‹œê°í™”&lt;/li>
&lt;/ol>
&lt;h2 id="í™˜ê²½-êµ¬ì„±">í™˜ê²½ êµ¬ì„±
&lt;/h2>&lt;p>í´ë¼ìš°ë“œ ë¦¬ì†ŒìŠ¤ì˜ êµ¬ì„± ìì²´ëŠ” &lt;a class="link" href="https://s0okju.github.io/p/opsathlan-1/" target="_blank" rel="noopener"
>ì´ì „&lt;/a>ê³¼ ë³€í™”í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="docker-compose">docker compose
&lt;/h3>&lt;p>ë‹¤ë§Œ í™˜ê²½ êµ¬ì„±ì€ ë³€í–ˆìŠµë‹ˆë‹¤. ê°œë³„ ì»¨í…Œì´ë„ˆë¡œ ë°°í¬í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ docker-composeë¥¼ í†µí•´ ê´€ë ¨ ì»¨í…Œì´ë„ˆë¥¼ ë°°í¬í–ˆìŠµë‹ˆë‹¤. ê·¸ ì´ìœ ëŠ” ì»¨í…Œì´ë„ˆì˜ ê°œìˆ˜ê°€ ë§ì•„ì§ì— ë”°ë¼ ì»¨í…Œì´ë„ˆë¥¼ í° ë¬¶ìŒìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ 4ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ ë°°í¬í•˜ê²Œ ë©ë‹ˆë‹¤&lt;/p>
&lt;ul>
&lt;li>Prometheus&lt;/li>
&lt;li>Grafana&lt;/li>
&lt;li>Springboot application&lt;/li>
&lt;li>cAdvisor&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># docker-compose.yml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.7&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Prometheus service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">prometheus&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">prom/prometheus:latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">prometheus&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./prometheus/prometheus.yml:/etc/prometheus/prometheus.yml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;9090:9090&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Expose Prometheus web UI&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">networks&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">monitoring&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Grafana service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">grafana&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">grafana/grafana:latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">grafana&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;3000:3000&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Expose Grafana web UI&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">networks&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">monitoring&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">depends_on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">prometheus&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Spring Boot app service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">advanced-echo&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">opsathlan-advanced-echo:latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">opsathlan-advanced-echo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;8080:8080&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">networks&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">monitoring&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># cadvsior config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cadvisor&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cadvisor&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">gcr.io/cadvisor/cadvisor:latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;8081:8080&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/:/rootfs:ro&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/var/run:/var/run:ro&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/sys:/sys:ro&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/var/lib/docker/:/var/lib/docker:ro&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># docker container log&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">networks&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">monitoring&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">networks&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">monitoring&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">driver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">bridge&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="í”„ë¡œë©”í…Œìš°ìŠ¤">í”„ë¡œë©”í…Œìš°ìŠ¤
&lt;/h3>&lt;p>í”„ë¡œë©”í…Œìš°ìŠ¤ê°€ ìˆ˜ì§‘í•œ ë©”íŠ¸ë¦­ ì§€í‘œëŠ” springboot container ê´€ë ¨ ì§€í‘œì™€ ì»¨í…Œì´ë„ˆ ê´€ë ¨ ì§€í‘œì…ë‹ˆë‹¤. ê·¸ë˜ì„œ &lt;code>scrape_configs&lt;/code> targetì— ê´€ë ¨ ì»¨í…Œì´ë„ˆ URLë¥¼ ê¸°ì…í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># prometheus.yml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">global&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">scrape_interval&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">10s&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># How often to scrape targets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">scrape_configs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">job_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;opsathlan-advanced-echo&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">static_configs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">targets&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;opsathlan-advanced-echo:8080&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;cadvisor:8080&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">group&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;test&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="docker-composeë¥¼-ì‹¤í–‰í•˜ëŠ”-ansible-playbook">docker composeë¥¼ ì‹¤í–‰í•˜ëŠ” Ansible playbook
&lt;/h3>&lt;p>novaì—ì„œ docker-composeë¥¼ ì‹¤í–‰ì‹œí‚¤ê¸° ìœ„í•´ì„œëŠ” &lt;strong>ê´€ë ¨ ë°”ì´ë„ˆë¦¬ë¥¼ ì„¤ì¹˜&lt;/strong>í•˜ê³ , &lt;strong>í•„ìš”í•œ í™˜ê²½ íŒŒì¼ì„ ì¸ìŠ¤í„´ìŠ¤ì— ë³µì‚¬&lt;/strong>í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í•©ë‹ˆë‹¤. &lt;a class="link" href="https://github.com/S0okJu/OpsAthlan/tree/sc/2/scenario_02/ansible/docker-compose" target="_blank" rel="noopener"
>docker-compose ë¼ëŠ” ansible role&lt;/a>ë¥¼ ë§Œë“¤ì–´ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ê³ , docker composeë¥¼ ì‹¤í–‰ì‹œí‚¤ëŠ” í…ŒìŠ¤í¬ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê°œì¸ì ìœ¼ë¡œ ì‘ì—…í•œ &lt;a class="link" href="https://github.com/S0okJu/OpsAthlan/tree/sc/2/scenario_02/ansible/docker-installation" target="_blank" rel="noopener"
>ë„ì»¤ ì„¤ì¹˜ ansible-role&lt;/a> ë¥¼ í™•ì¸í•´ë³´ë©´ docker ì„¤ì¹˜í• ë•Œ &lt;code>docker-compose plugin&lt;/code>ë¥¼ ì„¤ì¹˜í•˜ê²Œ ë©ë‹ˆë‹¤. ê·¸ë˜ì„œ ë³„ë„ì˜ ì„¤ì¹˜ ì—†ì´ &lt;code>docker compose&lt;/code> ëª…ë ¹ì–´ ë§Œìœ¼ë¡œë„ docker-compose íŒŒì¼ì„ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Update apt cache&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">apt&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">update_cache&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">yes&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Install Docker Engine, CLI, containerd, and plugins&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">apt&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">docker-ce&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">docker-ce-cli&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">containerd.io&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">docker-buildx-plugin&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">docker-compose-plugin&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">state&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">present&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>í”„ë¡œë©”í…Œìš°ìŠ¤ë¥¼ ì‹¤í–‰ì‹œí‚¤ê¸° ìœ„í•´ì„œëŠ” config íŒŒì¼ì„ nova ì¸ìŠ¤í„´ìŠ¤ì— ì§ì ‘ ì €ì¥í•´ì•¼ í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í•©ë‹ˆë‹¤. &lt;code>docker-compose.yml&lt;/code> ë¥¼ ë‹¤ì‹œ í™•ì¸í•´ë³´ë©´ local volumeì´ &lt;code>./prometheus/prometheus.yml&lt;/code> ë¡œ ë˜ì–´ ìˆìŠµë‹ˆë‹¤. íŒŒì¼ ê²½ë¡œëŠ” nova ì¸ìŠ¤í„´ìŠ¤ì˜ íŒŒì¼ ê²½ë¡œë¡œ í•´ë‹¹ íŒŒì¼ ê²½ë¡œì— ë§ê²Œ ì„¤ì • íŒŒì¼(prometheus.yml)ë¥¼ ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># docker-compose.yml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Prometheus service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">prometheus&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">prom/prometheus:latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">prometheus&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./prometheus/prometheus.yml:/etc/prometheus/prometheus.yml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;9090:9090&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Expose Prometheus web UI&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">networks&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">monitoring&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>prometheusì˜ í´ë”ë¥¼ ë§Œë“  í›„ì— ë³µì‚¬í•˜ëŠ” ì‘ì—…ì„ í•˜ë©´ íŒŒì¼ì´ ì €ì¥ë©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Create Prometheus configuration directory&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">file&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;/home/ubuntu/prometheus&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">state&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">directory&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">owner&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;ubuntu&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">group&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;ubuntu&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">mode&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;0755&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Copy Prometheus config file&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">copy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">src&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">./prometheus.yml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dest&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/home/ubuntu/prometheus/prometheus.yml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">owner&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;ubuntu&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">group&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;ubuntu&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">mode&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;0644&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>docker compose ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•˜ë©´ docker-compose íŒŒì¼ì— ì •ì˜ëœ ì»¨í…Œì´ë„ˆë“¤ì„ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Copy docker-compose.yml to the target machine&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">copy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">src&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">./docker-compose.yml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dest&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/home/ubuntu/docker-compose.yml&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Destination on the target machine&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">owner&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;ubuntu&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">group&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;ubuntu&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">mode&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;0644&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Run docker-compose up to start containers&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">command&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker compose up -d&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">chdir&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/home/ubuntu/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">become&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="í”„ë¡œë©”í…Œìš°ìŠ¤ë¥¼-í™œìš©í•œ-ì§€í‘œ-ìˆ˜ì§‘">í”„ë¡œë©”í…Œìš°ìŠ¤ë¥¼ í™œìš©í•œ ì§€í‘œ ìˆ˜ì§‘
&lt;/h2>&lt;p>ë©”íŠ¸ë¦­ ìˆ˜ì§‘, ì‹œê°í™”, ì•Œë¦¼, ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬ ê¸°ëŠ¥ì„ ëª¨ë‘ ì œê³µí•˜ëŠ” ì˜¤í”ˆ ì†ŒìŠ¤ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. Pull ë°©ì‹ìœ¼ë¡œ ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•˜ê³  ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ëŠ” íŠ¹ì§•ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-2-1/image-1.png"
width="1042"
height="745"
srcset="https://s0okju.github.io/p/opsathlan-2-1/image-1_hu_41053c1b5000d2e1.png 480w, https://s0okju.github.io/p/opsathlan-2-1/image-1_hu_316dad82b9ca44a2.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://www.geeksforgeeks.org/prometheus-monitoring/"
class="gallery-image"
data-flex-grow="139"
data-flex-basis="335px"
>&lt;/p>
&lt;p>pull ë°©ì‹ì€ í”„ë¡œë©”í…Œìš°ìŠ¤ê°€ í•„ìš”í•œ ë©”íŠ¸ë¦­ ì§€í‘œë¥¼ ëŒ€ìƒ ì„œë²„ë¡œë¶€í„° ê°€ì ¸ì˜¨ë‹¤ëŠ” ê²ƒê³¼ ê°™ì€ ë§ì…ë‹ˆë‹¤. ê·¸ë˜ì„œ ëŒ€ìƒì´ ë˜ëŠ” ì„œë²„ëŠ” í”„ë¡œë©”í…Œìš°ìŠ¤ê°€ ë©”íŠ¸ë¦­ì„ ë°›ì•„ê°ˆ ìˆ˜ ìˆë„ë¡ endpointë¥¼ ì—´ì–´ë‘¬ì•¼ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ë³´í†µì˜ ë°©ì‹ì´ë¼ë©´ spring boot actuatorë¥¼ í™œìš©í•˜ì—¬ &lt;code>/actuator/metrics&lt;/code> ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì—¬ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-properties" data-lang="properties">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># application.properties&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">management.endpoints.web.exposure.include&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">prometheus,metrics&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">management.endpoint.prometheus.enabled&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">management.prometheus.metrics.export.enabled&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ìœ„ì™€ ê°™ì€ ë°©ì‹ì„ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ EOF ì˜¤ë¥˜ê°€ ë°œìƒí•´ í”„ë¡œë©”í…Œìš°ìŠ¤ê°€ ì •ìƒì ìœ¼ë¡œ ì§€í‘œë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ headerë¥¼ &lt;code>TEXT_PLAIN&lt;/code>ìœ¼ë¡œ ì§€ì •í•´ì£¼ëŠ” controllerë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">io.micrometer.prometheusmetrics.PrometheusMeterRegistry&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@RestController&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@RequiredArgsConstructor&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">MetricsController&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">PrometheusMeterRegistry&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">prometheusMeterRegistry&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@GetMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/metrics&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ResponseEntity&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">metrics&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">scrape&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">prometheusMeterRegistry&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">scrape&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">HttpHeaders&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">headers&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HttpHeaders&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">headers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setContentType&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MediaType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">TEXT_PLAIN&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ResponseEntity&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scrape&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">headers&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HttpStatus&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">OK&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>springboot actuator
ìŠ¤í”„ë§ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ëª¨ë‹ˆí„°ë§ê³¼ ê´€ë¦¬ì— í•„ìš”í•œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>9090 í¬íŠ¸ì— ì ‘ì†í•´ í”„ë¡œë©”í…Œìš°ìŠ¤ web uië¥¼ ë³´ë©´ ìŠ¤í”„ë§ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ cAdvisor ì§€í‘œê°€ ì •ìƒì ìœ¼ë¡œ í†µì‹ ë¨ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-2-1/image-2.png"
width="1447"
height="245"
srcset="https://s0okju.github.io/p/opsathlan-2-1/image-2_hu_ec8ddf7d8eb4e121.png 480w, https://s0okju.github.io/p/opsathlan-2-1/image-2_hu_2bfc4c1f6f167ed5.png 1024w"
loading="lazy"
alt="ì‚¬ì§„ - í”„ë¡œë©”í…Œìš°ìŠ¤ UIì—ì„œ í™•ì¸í•œ Target"
class="gallery-image"
data-flex-grow="590"
data-flex-basis="1417px"
>&lt;/p>
&lt;h2 id="ê·¸ë¼íŒŒë‚˜ë¥¼-í†µí•œ-ì‹œê°í™”">ê·¸ë¼íŒŒë‚˜ë¥¼ í†µí•œ ì‹œê°í™”
&lt;/h2>&lt;h3 id="cadvisor-ì§€í‘œ-ì‹œê°í™”">cAdvisor ì§€í‘œ ì‹œê°í™”
&lt;/h3>&lt;p>ê·¸ë¼íŒŒë‚˜ì—ì„œ containerì˜ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ í™•ì¸í•´ë´…ë‹ˆë‹¤. ë©”ëª¨ë¦¬ ë‹¨ìœ„ë¡œ í™•ì¸í•˜ê¸° ìœ„í•´ 1024ë¥¼ ë‘ë²ˆ ë‚˜ëˆ´ìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ê´€ë ¨ ì§€í‘œëŠ” &lt;a class="link" href="https://github.com/google/cadvisor/blob/master/docs/storage/prometheus.md" target="_blank" rel="noopener"
>cadvisor Github&lt;/a>ë¥¼ ì°¸ê³ í•˜ê¸¸ ë°”ëë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-promql" data-lang="promql">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">container_memory_usage_bytes&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nl">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">&amp;#34;&lt;/span>&lt;span class="s">instance_name&lt;/span>&lt;span class="p">&amp;#34;}&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">1024&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">1024&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì•„ë˜ì˜ ê·¸ë˜í”„ë¥¼ ë³´ë©´ ê³„ì† ìƒìŠ¹í•˜ê³  ìˆëŠ” ê·¸ë˜í”„ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-2-1/image-3.png"
width="1204"
height="670"
srcset="https://s0okju.github.io/p/opsathlan-2-1/image-3_hu_f5dd534c3d025bd8.png 480w, https://s0okju.github.io/p/opsathlan-2-1/image-3_hu_de1b884a5834c99d.png 1024w"
loading="lazy"
alt="ì‚¬ì§„ - ì»¨í…Œì´ë„ˆ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì‹œê°í™”"
class="gallery-image"
data-flex-grow="179"
data-flex-basis="431px"
>&lt;/p>
&lt;h3 id="ìŠ¤í”„ë§-ì• í”Œë¦¬ì¼€ì´ì…˜-ê´€ë ¨-ì§€í‘œ-ì‹œê°í™”">ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ ê´€ë ¨ ì§€í‘œ ì‹œê°í™”
&lt;/h3>&lt;p>ì €ëŠ” &lt;a class="link" href="https://grafana.com/grafana/dashboards/4701-jvm-micrometer/" target="_blank" rel="noopener"
>GrafanaLabsì—ì„œ ì œê³µí•´ì£¼ëŠ” JVM ëŒ€ì‹œë³´ë“œ&lt;/a>ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. dashboard ipë¥¼ ì„¤ì •í•˜ë©´ ë‹¤ì–‘í•œ ê·¸ë˜í”„ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì•„ë˜ì˜ ì‚¬ì§„ì€ ì¼ë¶€ë§Œ ë‚˜íƒ€ë‚¸ ê²ƒì´ë©° ì´ê²ƒ ì´ì™¸ì—ë„ ë‹¤ì–‘í•œ ì§€í‘œê°€ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-2-1/image-4.png"
width="794"
height="270"
srcset="https://s0okju.github.io/p/opsathlan-2-1/image-4_hu_34f8309885b1faf7.png 480w, https://s0okju.github.io/p/opsathlan-2-1/image-4_hu_475e1ab500e73524.png 1024w"
loading="lazy"
alt="ì‚¬ì§„ - ê·¸ë¼íŒŒë‚˜ì—ì„œ í™•ì¸í•œ ê·¸ë˜í”„(ì¼ë¶€)"
class="gallery-image"
data-flex-grow="294"
data-flex-basis="705px"
>&lt;/p>
&lt;h2 id="ë‹¤ìŒê¸€">ë‹¤ìŒê¸€
&lt;/h2>&lt;p>ì§€ê¸ˆê¹Œì§€ ëª¨ë‹ˆí„°ë§í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤. ë‹¤ìŒí¸ì—ëŠ” ì‹œê°í™”í•œ í‘œë¥¼ ë¶„ì„í•´ë³´ëŠ” ì‹œê°„ì„ ê°€ì§€ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://themapisto.tistory.com/44" target="_blank" rel="noopener"
>https://themapisto.tistory.com/44&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>OpsAthlan 1 - Simple echo server</title><link>https://s0okju.github.io/p/opsathlan-1/</link><pubDate>Thu, 19 Sep 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/opsathlan-1/</guid><description>&lt;h2 id="ì‹œë‚˜ë¦¬ì˜¤">ì‹œë‚˜ë¦¬ì˜¤
&lt;/h2>&lt;p>Hello Worldë¥¼ ë°˜í™˜í•´ì£¼ëŠ” springboot ë„ì»¤ ì„œë¹„ìŠ¤ê°€ ìˆë‹¤. ë°°í¬í•´ë³´ì!&lt;/p>
&lt;h2 id="í™˜ê²½">í™˜ê²½
&lt;/h2>&lt;ul>
&lt;li>ubuntu 22.04&lt;/li>
&lt;li>openstack 2024.01&lt;/li>
&lt;/ul>
&lt;h2 id="ìˆœì„œ">ìˆœì„œ
&lt;/h2>&lt;ol>
&lt;li>Terraformì„ í™œìš©í•œ ì¸í”„ë¼ êµ¬ì„±&lt;/li>
&lt;li>Ansibleë¥¼ í™œìš©í•œ í™˜ê²½ êµ¬ì„± ë° ë¹Œë“œ&lt;/li>
&lt;li>cAdvisorë¥¼ í™œìš©í•œ ëª¨ë‹ˆí„°ë§&lt;/li>
&lt;/ol>
&lt;h3 id="cadvisorë¥¼-ì„ íƒí•œ-ì´ìœ ">cAdvisorë¥¼ ì„ íƒí•œ ì´ìœ 
&lt;/h3>&lt;p>cAdvsiorëŠ” ì»¨í…Œì´ë„ˆì˜ Metrixë¥¼ ëª¨ë‹ˆí„°ë§í•  ìˆ˜ ìˆëŠ” ë„êµ¬ì…ë‹ˆë‹¤. &lt;strong>ê¸°ë³¸ì ì¸ ì»¨í…Œì´ë„ˆ ë©”íŠ¸ë¦­ ì •ë³´ë¥¼ ìš°ì„  í™•ì¸&lt;/strong>í•˜ê¸° ìœ„í•´ ì„ íƒí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ì „ì²´-êµ¬ì„±ë„">ì „ì²´ êµ¬ì„±ë„
&lt;/h2>&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-1/image.png"
width="1110"
height="750"
srcset="https://s0okju.github.io/p/opsathlan-1/image_hu_5fa145ba6b0316be.png 480w, https://s0okju.github.io/p/opsathlan-1/image_hu_85b134d47a92c584.png 1024w"
loading="lazy"
alt="êµ¬ì„±ë„"
class="gallery-image"
data-flex-grow="148"
data-flex-basis="355px"
>&lt;/p>
&lt;h2 id="terraformì„-í™œìš©í•œ-ë¦¬ì†ŒìŠ¤-ë°°í¬">Terraformì„ í™œìš©í•œ ë¦¬ì†ŒìŠ¤ ë°°í¬
&lt;/h2>&lt;p>ë°°í¬í•´ì•¼ í•  ê²ƒì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>Nova Instance&lt;/li>
&lt;li>Network
&lt;ul>
&lt;li>Subnet&lt;/li>
&lt;li>Router&lt;/li>
&lt;li>Floating ip&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Security
&lt;ul>
&lt;li>Security Group
&lt;ul>
&lt;li>ssh, spring web port(8080), cAdvisor(8081)ë¥¼ ìœ„í•œ rule ìƒì„±&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ssh í†µì‹ ì„ ìœ„í•œ keypair&lt;/li>
&lt;/ul>
&lt;h3 id="terraform-code">Terraform code
&lt;/h3>&lt;p>terraformì€ ì ˆì°¨ ì§€í–¥ì ì´ê¸° ë•Œë¬¸ì— ë¦¬ì†ŒìŠ¤ ì‘ì„± ìˆœì„œê°€ ì¤‘ìš”í•©ë‹ˆë‹¤.ê·¸ë˜ì„œ ê°„ë‹¨í•œ nova ì¸ìŠ¤í„´ìŠ¤ ë°°í¬ì˜ ê²½ìš° ì•„ë˜ì™€ ê°™ì€ ìˆœì„œë¥¼ ë”°ëìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>ë„¤íŠ¸ì›Œí¬&lt;/li>
&lt;li>ì¸ìŠ¤í„´ìŠ¤ ìƒì„±&lt;/li>
&lt;li>floating ip í• ë‹¹&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>ì „ì²´ ì½”ë“œëŠ” &lt;a class="link" href="https://github.com/S0okJu/OpsAthlan/tree/sc/1/scenario_01/terraform" target="_blank" rel="noopener"
>ê¹ƒí—ˆë¸Œ&lt;/a>ë¥¼ ì°¸ê³ í•˜ê¸¸ ë°”ëë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ë„¤íŠ¸ì›Œí¬ë¥¼ ìƒì„±í•œ ì´í›„ subnetë¥¼ ìƒì„±í•œë‹¤. ì™¸ë¶€ì™€ í†µì‹ í•˜ê¸° ìœ„í•´ì„œëŠ” external_networkì™€ ì„œë¸Œë„·ê³¼ì˜ ì—°ê²°ì´ í•„ìš”í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ &lt;code>router&lt;/code>ë¥¼ ìƒì„±í•œ í›„ &lt;code>router_interface&lt;/code>ë¥¼ í†µí•´ external_networkì™€ ì„œë¸Œë„·ì´ ì—°ê²°í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-tf" data-lang="tf">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Network ìƒì„±
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_network_v2&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;opsathlan_network&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">name&lt;/span> = &lt;span class="s2">&amp;#34;opsathlan-&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nb">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">scenario_id&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">-network&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">admin_state_up&lt;/span> = &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">port_security_enabled&lt;/span> = &lt;span class="nb">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">port_security_enabled&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Subnet ìƒì„±
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_subnet_v2&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;opsathlan_subnet&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">name&lt;/span> = &lt;span class="s2">&amp;#34;opsathlan-&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nb">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">scenario_id&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">-subnet&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">network_id&lt;/span> = &lt;span class="nx">openstack_networking_network_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">opsathlan_network&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">cidr&lt;/span> = &lt;span class="nb">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">subnet_cidr&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">ip_version&lt;/span> = &lt;span class="m">4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">dns_nameservers&lt;/span> = &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;8.8.8.8&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;8.8.4.4&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Router ìƒì„±
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_router_v2&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;opsathlan_router&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">name&lt;/span> = &lt;span class="s2">&amp;#34;opsathlan-&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nb">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">scenario_id&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">-router&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">admin_state_up&lt;/span> = &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">external_network_id&lt;/span> = &lt;span class="nb">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">openstack_networking_network_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ext_network&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Router Interface ìƒì„±
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_router_interface_v2&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;router_interface&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">router_id&lt;/span> = &lt;span class="nx">openstack_networking_router_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">opsathlan_router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">subnet_id&lt;/span> = &lt;span class="nx">openstack_networking_subnet_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">opsathlan_subnet&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ì¸ìŠ¤í„´ìŠ¤-ìƒì„±">ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
&lt;/h3>&lt;p>ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ê·¼í•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” keypairë¥¼ ìƒì„±í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Keypair ìƒì„±&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_compute_keypair_v2&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;opsathlan_keypair&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;opsathlan-${var.scenario_id}-keypair&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">public_key&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">file&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">pubkey_file_path&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Nova ì¸ìŠ¤í„´ìŠ¤ì˜ ì ‘ê·¼ ì œì–´ë¥¼ ê´€ë¦¬í•˜ëŠ” Security groupë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. security group ruleì€ &lt;code>variables.tf&lt;/code> ì—ì„œ ë¦¬ìŠ¤íŠ¸ë¡œ ë°›ì€ í›„ì— ì ìš©í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Security Group ìƒì„±&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_secgroup_v2&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;opsathlan_secgroup&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;opsathlan-${var.scenario_id}-secgroup&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">description&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;OpsAthaln Security Group&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">delete_default_rules&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Security Group Rule ìƒì„±&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_secgroup_rule_v2&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;secgroup_rules&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">length&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">allowed_ports&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">direction&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;ingress&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ethertype&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;IPv4&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">protocol&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">lookup&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">allowed_ports&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">count&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="s2">&amp;#34;protocol&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;tcp&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">port_range_min&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">lookup&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">allowed_ports&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">count&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="s2">&amp;#34;port_range_min&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">port_range_max&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">lookup&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">allowed_ports&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">count&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="s2">&amp;#34;port_range_max&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">remote_ip_prefix&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">lookup&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">allowed_ports&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">count&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="s2">&amp;#34;remote_ip_prefix&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;0.0.0.0/0&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">security_group_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">openstack_networking_secgroup_v2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">opsathlan_secgroup&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>variables.tf&lt;/code> ì—ì„œëŠ” ì™¸ë¶€ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” í¬íŠ¸ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>ssh&lt;/li>
&lt;li>spring boot application(8080)&lt;/li>
&lt;li>cAdvisor(8081)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="o">//&lt;/span> &lt;span class="n">variables&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tf&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">variable&lt;/span> &lt;span class="s2">&amp;#34;allowed_ports&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">description&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;List of maps defining allowed ports for the security group. Each map should include protocol, port_range_min, port_range_max, and optionally remote_ip_prefix.&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">type&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">list&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">object&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">protocol&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">port_range_min&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">number&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">port_range_max&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">number&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">remote_ip_prefix&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">optional&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;0.0.0.0/0&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">default&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">protocol&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;tcp&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">port_range_min&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">22&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">port_range_max&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">22&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">protocol&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;tcp&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">port_range_min&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">8080&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">port_range_max&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">8080&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">protocol&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;tcp&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">port_range_min&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">8081&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">port_range_max&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">8081&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="floating-ip-í• ë‹¹-ë°-ì„¤ì •">Floating ip í• ë‹¹ ë° ì„¤ì •
&lt;/h3>&lt;p>floating ipë¥¼ ìƒì„±í•œ í›„ì— nova instanceì— ë¶™í™ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 5. Floating IP ìƒì„± ë° ì—°ê²°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_floatingip_v2&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;floating_ip&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pool&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">openstack_networking_network_v2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ext_network&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 4. Nova Instance ìƒì„±&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_compute_instance_v2&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;nova_instance&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;opsathlan-${var.scenario_id}-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">image_name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">image_name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">flavor_name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">flavor_name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">key_pair&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">openstack_compute_keypair_v2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">opsathlan_keypair&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">security_groups&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">openstack_networking_secgroup_v2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">opsathlan_secgroup&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">network&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">uuid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">openstack_networking_network_v2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">opsathlan_network&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">depends_on&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">openstack_networking_subnet_v2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">opsathlan_subnet&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_compute_floatingip_associate_v2&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;floating_ip_association&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">floating_ip&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">openstack_networking_floatingip_v2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">floating_ip&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">address&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">instance_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">openstack_compute_instance_v2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">nova_instance&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ansibleë¥¼-í™œìš©í•œ-í™˜ê²½-êµ¬ì„±-ë°-ì»¨í…Œì´ë„ˆ-ì‹¤í–‰">Ansibleë¥¼ í™œìš©í•œ í™˜ê²½ êµ¬ì„± ë° ì»¨í…Œì´ë„ˆ ì‹¤í–‰
&lt;/h2>&lt;p>Ansibleë¥¼ í™œìš©í•˜ì—¬ &lt;strong>ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ê³  ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆëŠ” í™˜ê²½ì„ êµ¬ì„±&lt;/strong>í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ ì´ 4ê°œì˜ roleë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>java ì„¤ì¹˜&lt;/li>
&lt;li>docker ì„¤ì¹˜&lt;/li>
&lt;li>springboot ì´ë¯¸ì§€ ë¹Œë“œ ë° ìˆ˜í–‰&lt;/li>
&lt;li>cAdvisor ì‹¤í–‰&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>ğŸ¤” &lt;strong>ì—¬ë‹´&lt;/strong>&lt;/p>
&lt;p>Jenkinsì™€ ê°™ì´ ìë™í™” ë„êµ¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ ì´ˆë°˜ì—ëŠ” ë¶ˆí•„ìš”í•˜ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. ë°°í¬í•˜ê³ ì í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê·œëª¨ëŠ” í˜„ì €í•˜ê²Œ ì‘ì•˜ê³ , ë‚œì´ë„ê°€ ìˆì–´ ì˜ëª»í•˜ë©´ ì˜ˆìƒë³´ë‹¤ ì‹œê°„ì„ ë§ì´ í• ì• í•  ìˆ˜ ìˆë‹¤ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;h3 id="spring-boot-application-ë°°í¬">spring boot application ë°°í¬
&lt;/h3>&lt;h4 id="application-ì†Œê°œ">application ì†Œê°œ
&lt;/h4>&lt;p>ë°°í¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ê°„ë‹¨í•˜ê²Œ hello worldë§Œ ë°˜í™˜í•˜ëŠ” ì›¹ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@RestController&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">EchoController&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@GetMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/echo&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">echo&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Hello, World!&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ë¹Œë“œ-ë°-ì‹¤í–‰">ë¹Œë“œ ë° ì‹¤í–‰
&lt;/h4>&lt;p>Ansibleë¥¼ í™œìš©í•˜ì—¬ spring boot application ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. ì´ë•Œ ì»¨í…Œì´ë„ˆëŠ” 8080 ì™¸ë¶€ í¬íŠ¸ë¡œ ì—´ì–´ë‘¡ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;strong>ìˆœì„œ&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>Repository clone&lt;/li>
&lt;li>Spring boot application build&lt;/li>
&lt;li>Container Image build&lt;/li>
&lt;li>Docker ì‹¤í–‰&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Clone Spring Boot application repository&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">git&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">repo&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;https://github.com/S0okJu/OpsAthlan.git&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dest&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/home/ubuntu/app/spring-boot-app&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sc/1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Build Spring Boot application using Gradle&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">command&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">./gradlew clean build&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">chdir&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/home/ubuntu/app/spring-boot-app/scenario_01/spring_echo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">register&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">gradle_build&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">failed_when&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">gradle_build.rc != 0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Check if JAR file exists&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">stat&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/home/ubuntu/app/spring-boot-app/scenario_01/spring_echo/build/libs/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">register&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">jar_dir&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Fail if JAR file does not exist&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fail&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">msg&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;JAR file was not built successfully.&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">when&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">jar_dir.stat.exists == False or jar_dir.stat.isdir == False&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Copy Dockerfile for Spring Boot&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">copy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">src&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Dockerfile&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dest&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/home/ubuntu/app/spring-boot-app/scenario_01/spring_echo/Dockerfile&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Build Docker image for Spring Boot application&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">docker_image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">echo-springboot-app&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tag&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">build&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">build&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/home/ubuntu/app/spring-boot-app/scenario_01/spring_echo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Run Spring Boot container&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">docker_container&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sc1-springboot-app&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">echo-springboot-app:latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">state&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">started&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;8080:8080&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ìì„¸í•œ ì½”ë“œëŠ” &lt;a class="link" href="https://github.com/S0okJu/OpsAthlan/tree/sc/1/scenario_01/ansible" target="_blank" rel="noopener"
>github&lt;/a> ì°¸ê³  ë°”ëë‹ˆë‹¤.&lt;/p>
&lt;h3 id="cadvisor">cAdvisor
&lt;/h3>&lt;p>cAdvisorëŠ” ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë°›ê³  ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±í•©ë‹ˆë‹¤. ì»¨í…Œì´ë„ˆëŠ” 8081ë¡œ ì™¸ë¶€í¬íŠ¸ë¥¼ ì—´ì–´ ê°œë°œìê°€ ëŒ€ì‹œë³´ë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Pull cAdvisor image&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">docker_image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">google/cadvisor:latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">pull&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Run cAdvisor container&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">docker_container&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cadvisor&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">google/cadvisor:latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">state&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">started&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;8081:8080&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/:/rootfs:ro&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/var/run:/var/run:ro&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/sys:/sys:ro&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/var/lib/docker/:/var/lib/docker:ro&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ì»¨í…Œì´ë„ˆ-ì§€í‘œ-ëª¨ë‹ˆí„°ë§">ì»¨í…Œì´ë„ˆ ì§€í‘œ ëª¨ë‹ˆí„°ë§
&lt;/h2>&lt;h3 id="cadvisor-ì ‘ì†">cAdvisor ì ‘ì†
&lt;/h3>&lt;p>{floating_ip}:8081ì— ì ‘ì†í•©ë‹ˆë‹¤.
container ì°½ì— ë“¤ì–´ê°€ springboot applicationì„ í™•ì¸í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-1/image-1.png"
width="1121"
height="383"
srcset="https://s0okju.github.io/p/opsathlan-1/image-1_hu_e0d6f86c77e75558.png 480w, https://s0okju.github.io/p/opsathlan-1/image-1_hu_87efe80569411306.png 1024w"
loading="lazy"
alt="cAdvisor ì ‘ì†"
class="gallery-image"
data-flex-grow="292"
data-flex-basis="702px"
> &lt;img src="https://s0okju.github.io/p/opsathlan-1/image-2.png"
width="945"
height="277"
srcset="https://s0okju.github.io/p/opsathlan-1/image-2_hu_a3ec52c0fe72fa75.png 480w, https://s0okju.github.io/p/opsathlan-1/image-2_hu_6fc748575390485b.png 1024w"
loading="lazy"
alt="cAdvisorì—ì„œ í™•ì¸í•œ ì»¨í…Œì´ë„ˆ ëª©ë¡"
class="gallery-image"
data-flex-grow="341"
data-flex-basis="818px"
>&lt;/p>
&lt;p>springboot applicationì— ëŒ€í•œ ê¸°ë³¸ì ì¸ ì§€í‘œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-1/image-3.png"
width="1096"
height="389"
srcset="https://s0okju.github.io/p/opsathlan-1/image-3_hu_69ef7a997f587bc7.png 480w, https://s0okju.github.io/p/opsathlan-1/image-3_hu_51496bad0560d51f.png 1024w"
loading="lazy"
alt="cAdvisorì—ì„œ í™•ì¸í•œ ë©”íŠ¸ë¦­"
class="gallery-image"
data-flex-grow="281"
data-flex-basis="676px"
>&lt;/p>
&lt;h3 id="test">Test
&lt;/h3>&lt;p>ìì²´ì ìœ¼ë¡œ ë§Œë“  test ë„êµ¬ì¸ &lt;a class="link" href="https://github.com/S0okJu/GoNetWorker" target="_blank" rel="noopener"
>gonetworker&lt;/a>ë¥¼ í™œìš©í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>GoNetWorker&lt;/strong>&lt;/p>
&lt;p>ìì²´ì ìœ¼ë¡œ ë§Œë“  ë„¤íŠ¸ì›Œí¬ í…ŒìŠ¤íŠ¸ ë„êµ¬ì…ë‹ˆë‹¤. ì„œë²„ì— requestë¥¼ ì—°ì†ì—ì„œ ìš”ì²­í•œë‹¤ëŠ” íŠ¹ì§•ì´ ìˆìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ë¸”ë¡œê·¸ ì‘ì„± ê¸°ì¤€ GoNetWorkerëŠ” ë™ì‹œë¡œ ì „ì†¡í•˜ëŠ” ê¸°ëŠ¥ì´ ì—†ì–´ &lt;strong>ìˆœì°¨ì ìœ¼ë¡œ requestë¥¼ ìš”ì²­&lt;/strong>í•©ë‹ˆë‹¤. request ìš”ì²­ ì´í›„ ë¬´ì‘ìœ„ë¡œ sleepí•©ë‹ˆë‹¤. ì—°ì†ì ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì„ ê²ƒì´ë¼ê³  ì˜ˆìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h4 id="network">Network
&lt;/h4>&lt;p>ë„¤íŠ¸ì›Œí¬ ì²˜ë¦¬ìœ¨ì„ ë³´ë©´ ì²˜ë¦¬ê°€ ë˜ì—ˆë‹¤ê°€ 0byteë¡œ ë–¨ì–´ì¡Œë‹¤ê°€ ë‹¤ì‹œ ìƒìŠ¹í•©ë‹ˆë‹¤. ì´ëŠ” ì €í¬ê°€ ì‚¬ìš©í•œ ë„êµ¬ì¸ GoNetWorkerì˜ íŠ¹ì§• ë•Œë¬¸ì— ë°œìƒí•œ ê·¸ë˜í”„ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-1/image-4.png"
width="665"
height="330"
srcset="https://s0okju.github.io/p/opsathlan-1/image-4_hu_fd6fbbaa30b660af.png 480w, https://s0okju.github.io/p/opsathlan-1/image-4_hu_7ce75c807bae32b0.png 1024w"
loading="lazy"
alt="Springboot application bytes per second"
class="gallery-image"
data-flex-grow="201"
data-flex-basis="483px"
>&lt;/p>
&lt;p>ê·¸ ì´ì™¸ì—ë„ ì•„ë˜ì™€ ê°™ì€ íŠ¹ì§•ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>í‰ê· ì ìœ¼ë¡œ 1200bytesë¥¼ ë„˜ì–´ê°€ì§€ ì•ŠëŠ”ë‹¤.&lt;/li>
&lt;/ul>
&lt;h4 id="memory">Memory
&lt;/h4>&lt;p>ê·¸ì— ë¹„í•´ memoryëŠ” ì ì§„ì ìœ¼ë¡œ ìƒìŠ¹í•˜ëŠ” ê·¸ë˜í”„ë¥¼ ë³´ì—¬ì£¼ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ë˜í”„ë¥¼ ë³´ë‹ˆ &lt;strong>ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë¶ˆí•„ìš”í•œ ë©”ëª¨ë¦¬ ìì›ì„ ë‚­ë¹„í•œë‹¤&lt;/strong>ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/opsathlan-1/image-5.png"
width="685"
height="394"
srcset="https://s0okju.github.io/p/opsathlan-1/image-5_hu_1e07337cdd1a2258.png 480w, https://s0okju.github.io/p/opsathlan-1/image-5_hu_6369399b43d196dd.png 1024w"
loading="lazy"
alt="Springboot applicationì˜ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰"
class="gallery-image"
data-flex-grow="173"
data-flex-basis="417px"
>&lt;/p>
&lt;p>ì›ì¸ì„ êµ¬ì²´ì ìœ¼ë¡œ íŒŒì•…í•˜ê¸° ìœ„í•´ì„œëŠ” springbootì— ëŒ€í•œ ë©”íŠ¸ë¦­ì´ í•„ìš”í•©ë‹ˆë‹¤. cAdvisor ë§Œìœ¼ë¡œëŠ” ì •êµí•œ ë©”íŠ¸ë¦­ ìˆ˜ì§‘ì— í•œê³„ê°€ ìˆìœ¼ë¯€ë¡œ í”„ë¡œë©”í…Œìš°ìŠ¤ë¥¼ í™œìš©í•´ì•¼ í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ë‹¤ìŒí¸ì—ëŠ”-">ë‹¤ìŒí¸ì—ëŠ” &amp;hellip;
&lt;/h2>&lt;p>ë‹¤ìŒ í¸ì—ëŠ” í”„ë¡œë©”í…Œìš°ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ springboot ê´€ë ¨ ë©”íŠ¸ë¦­ìŠ¤ë¥¼ ìˆ˜ì§‘í•˜ê³  ë¬¸ì œë¥¼ í•´ê²°í•´ ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p></description></item><item><title>GoNetWorker - 1. GoNetWorker ì†Œê°œì™€ ì´ˆê¸° ê¸°ëŠ¥</title><link>https://s0okju.github.io/p/gonetworker-1/</link><pubDate>Sun, 15 Sep 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/gonetworker-1/</guid><description>&lt;p>ê°œì¸ì ìœ¼ë¡œ ìš´ì˜ ëª¨ë‹ˆí„°ë§ì„ ê³µë¶€í•˜ê³  ì‹¶ì—ˆë‹¤. ë¬¸ì œëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ì—†ë‹¤ëŠ” ê²ƒì´ì—ˆë‹¤.
ëŒ€ì•ˆìœ¼ë¡œ ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸ ë„êµ¬ë¥¼ ì‚¬ìš©í•´ì„œ ê·¹í•œì˜ ìƒí™©ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
ë‚˜ëŠ” &lt;strong>í˜„ì‹¤ì ì¸ ìƒí™©ì„ ì¬í˜„&lt;/strong>í•˜ê³  ì‹¶ì—ˆë‹¤. ê·¸ë˜ì„œ ì‚¬ìš©ìê°€ ì§ì ‘ ë‚´ ì„œë²„ë¥¼ ì‚¬ìš©í•œ ê²ƒì²˜ëŸ¼ íŒ¨í‚·ì„ ë³´ë‚´ëŠ” ë„êµ¬ë¥¼ ë§Œë“¤ê¸°ë¡œ ê²°ì‹¬í–ˆë‹¤.&lt;/p>
&lt;h2 id="gonetworker">GoNetWorker
&lt;/h2>&lt;p>GoNetWorkerëŠ” Goë¥¼ í™œìš©í•œ ê°€ìƒ ìš´ì˜ ì‹œë®¬ë ˆì´ì…˜ ë„êµ¬ì´ë‹¤.&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>
ë¯¸ë¦¬ ì„¤ì •í•œ endpoint ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì„œë²„ì— ëœë¤ìœ¼ë¡œ requestë¥¼ ë³´ë‚´ëŠ” ë„êµ¬ì´ë‹¤.&lt;/p>
&lt;h3 id="endpoint-ì •ì˜---worksjson">endpoint ì •ì˜ - works.json
&lt;/h3>&lt;p>í…ŒìŠ¤íŠ¸ë¥¼ í•˜ê¸° ìœ„í•´ì„œëŠ” endpointì— ëŒ€í•œ ì •ë³´ë¥¼ ì •í™•í•˜ê²Œ ê¸°ì…í•´ì•¼ í•œë‹¤.&lt;/p>
&lt;ul>
&lt;li>settings
&lt;ul>
&lt;li>requestë¥¼ ë³´ë‚´ê¸° ìœ„í•œ ì„¤ì • ì •ë³´&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>works
&lt;ul>
&lt;li>requestë¥¼ ë³´ë‚¼ ëŒ€ìƒì— ëŒ€í•œ ì •ë³´&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>tasks
&lt;ul>
&lt;li>urlì˜ ê²½ë¡œ ì •ë³´&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;settings&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;sleep_range&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="c1">// request ì „ì†¡ ì‹œ ëŒ€ê¸°ì‹œê°„ ë²”ìœ„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;works&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;uri&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;http://localhost&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;port&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">8080&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;tasks&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;path&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;/users/1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;method&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;GET&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="êµ¬ì¡°">êµ¬ì¡°
&lt;/h3>&lt;p>GoNetWorkerëŠ” ì‚¬ìš©ìê°€ íŠ¹ë³„í•œ í–‰ë™ì„ ì·¨í•˜ê¸° ì „ê¹Œì§€ ì§€ì†ì ìœ¼ë¡œ requestë¥¼ ë³´ë‚¸ë‹¤. ì´ˆê¸°ì—ëŠ” &lt;code>ctrl + c&lt;/code>ë¥¼ í´ë¦­í–ˆì„ ê²½ìš° ì‹¤í–‰ì´ ì¤‘ë‹¨ë  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í–ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="k">go&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">select&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>&lt;span class="nx">stopChan&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Received interrupt signal. Shutting down...&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">work&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">config&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Works&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">rand&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Intn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">config&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Works&lt;/span>&lt;span class="p">))]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">task&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">work&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Tasks&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">rand&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Intn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">work&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Tasks&lt;/span>&lt;span class="p">))]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">wg&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">client&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Client&lt;/span>&lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">go&lt;/span> &lt;span class="nf">makeRequest&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">work&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">task&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">client&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">wg&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">config&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Settings&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">SleepRange&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">randomSleep&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Duration&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">rand&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Intn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">config&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Settings&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">SleepRange&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Second&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">randomSleep&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì„¸ë¶€ì ì¸ êµ¬ì¡°ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/gonetworker-1/image-2.png"
width="597"
height="228"
srcset="https://s0okju.github.io/p/gonetworker-1/image-2_hu_de1a5b8a2e6f2bd6.png 480w, https://s0okju.github.io/p/gonetworker-1/image-2_hu_3e70c0ba38b9a458.png 1024w"
loading="lazy"
alt="êµ¬ì¡°ë„"
class="gallery-image"
data-flex-grow="261"
data-flex-basis="628px"
>&lt;/p>
&lt;h2 id="ì˜ˆì‹œ">ì˜ˆì‹œ
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">go run main.go
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>GoNetWorkerë¡œ ì‹¤í–‰ë˜ë©´ ì•„ë˜ì™€ ê°™ì´ ëœë¤ìœ¼ë¡œ requestë¥¼ ë³´ë‚´ê²Œ ëœë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/gonetworker-1/image.png"
width="446"
height="180"
srcset="https://s0okju.github.io/p/gonetworker-1/image_hu_fdc6f02575ddc7cb.png 480w, https://s0okju.github.io/p/gonetworker-1/image_hu_8206d0f11a374e82.png 1024w"
loading="lazy"
alt="GoNetWorker ì‹¤í–‰ ë¡œê·¸"
class="gallery-image"
data-flex-grow="247"
data-flex-basis="594px"
>&lt;/p>
&lt;p>ì„œë²„ì—ì„œ í™•ì¸í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ì •ìƒì ìœ¼ë¡œ requestë¥¼ ë°›ì•˜ìŒì„ ì•Œ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/gonetworker-1/image-1.png"
width="446"
height="180"
srcset="https://s0okju.github.io/p/gonetworker-1/image-1_hu_fdc6f02575ddc7cb.png 480w, https://s0okju.github.io/p/gonetworker-1/image-1_hu_8206d0f11a374e82.png 1024w"
loading="lazy"
alt="Server ë¡œê·¸"
class="gallery-image"
data-flex-grow="247"
data-flex-basis="594px"
>&lt;/p>
&lt;h2 id="ë³´ì™„í• -ì ">ë³´ì™„í•  ì 
&lt;/h2>&lt;p>ì´ˆê¸° ë²„ì „ì´ë¼ ì¶”ê°€í•´ì•¼í•  ì ì´ ë§ë‹¤. ë‹¤ìŒ ê¸€ì—ì„œëŠ” ì•„ë˜ì˜ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê³  ì°¾ì•„ì˜¤ê² ë‹¤.&lt;/p>
&lt;ol>
&lt;li>Getìœ¼ë¡œ ì „ì†¡í•  ê²½ìš° ë³´ì™„
&lt;ol>
&lt;li>pathì— ì‹ë³„ìê°€ ìˆì„ ê²½ìš°&lt;/li>
&lt;li>parameterê°€ ìˆì„ ê²½ìš°&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>Postë¡œ ì „ì†¡í•  ê²½ìš°&lt;/li>
&lt;li>goë¥¼ ë¹Œë“œí•˜ê¸° ìœ„í•œ makefile&lt;/li>
&lt;/ol>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>ì´ë ‡ê²Œ ì„¤ëª…í•˜ëŠ”ê²Œ ë§ëŠ”ì§€ ëª¨ë¥´ê² ë‹¤.&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Openstack - Kubesprayë¥¼ í™œìš©í•œ Kubernetes ì„¤ì¹˜ ì‹œ Ansible ì˜¤ë¥˜</title><link>https://s0okju.github.io/p/openstack-kubernetes-installation-2/</link><pubDate>Sat, 17 Aug 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/openstack-kubernetes-installation-2/</guid><description>&lt;p>Kubernetes ì„¤ì¹˜ëŠ” &lt;a class="link" href="https://velog.io/@jaehan/Openstack-%EA%B8%B0%EB%B0%98-Kubernets-%EA%B5%AC%EC%B6%95-with-Kubespray" target="_blank" rel="noopener"
>ë³€ì¬í•œë‹˜ì˜ ë¸”ë¡œê·¸&lt;/a>ë¥¼ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ansible-ping-ë¬¸ì œ">Ansible Ping ë¬¸ì œ
&lt;/h2>&lt;p>Ansible Ping ìˆ˜í–‰ ì‹œ ëª¨ë“  ë…¸ë“œì— ì•„ë˜ì™€ ê°™ì€ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆë‹¤. ì—ëŸ¬ ë©”ì„¸ì§€ë¥¼ í™•ì¸í•´ë³´ë‹ˆ ssh í‚¤ê°€ ì œëŒ€ë¡œ ì ìš©ë˜ì§€ ì•Šì€ ê²ƒì²˜ëŸ¼ ë³´ì˜€ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Kubernetes-k8s-node-nf-2 | UNREACHABLE! =&amp;gt; {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;changed&amp;#34;: false,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;msg&amp;#34;: &amp;#34;Data could not be sent to remote host \&amp;#34;10.0.2.176\&amp;#34;. Make sure this host can be reached over ssh: kex_exchange_identification: Connection closed by remote host\r\nConnection closed by UNKNOWN port 65535\r\n&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;unreachable&amp;#34;: true
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>Ansibleì€ sshë¥¼ í™œìš©í•˜ì—¬ target ë…¸ë“œì™€ í†µì‹ í•œë‹¤.&lt;/p>&lt;/blockquote>
&lt;h3 id="í•´ê²°ì±…-1-ê³µê°œí‚¤-ì•Œê³ ë¦¬ì¦˜-ë³€ê²½">í•´ê²°ì±… 1. ê³µê°œí‚¤ ì•Œê³ ë¦¬ì¦˜ ë³€ê²½
&lt;/h3>&lt;p>openstack logë¥¼ í™•ì¸í•´ë³´ë‹ˆ debian imageì— ê³µê°œí‚¤ê°€ authorized_keysì— ì œëŒ€ë¡œ ë³µì‚¬ë˜ì§€ ì•Šì•„ ssh í†µì‹ ì„ ì œëŒ€ë¡œ ìˆ˜í–‰í•˜ì§€ ëª»í•œ ê²ƒì´ì—ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/openstack-kubernetes-installation-2/img1.png"
width="608"
height="123"
srcset="https://s0okju.github.io/p/openstack-kubernetes-installation-2/img1_hu_e5807834ed8d4fd4.png 480w, https://s0okju.github.io/p/openstack-kubernetes-installation-2/img1_hu_27f00a1ffa2a1250.png 1024w"
loading="lazy"
alt="publickeyê°€ ì œëŒ€ë¡œ ë³µì‚¬ë˜ì§€ ì•Šì€ ê²½ìš° instance log"
class="gallery-image"
data-flex-grow="494"
data-flex-basis="1186px"
>&lt;/p>
&lt;p>ssh í‚¤ë¥¼ ed25519 ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ìƒì„±í•˜ë©´ í‚¤ê°€ ì œëŒ€ë¡œ ë³µì‚¬ë˜ì§€ ì•Šì•˜ì§€ë§Œ rsaë¡œ ë³€ê²½í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ í‚¤ê°€ ë³µì‚¬ëœë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/openstack-kubernetes-installation-2/img2.png"
width="1135"
height="149"
srcset="https://s0okju.github.io/p/openstack-kubernetes-installation-2/img2_hu_9d69f1ff65c3dfe3.png 480w, https://s0okju.github.io/p/openstack-kubernetes-installation-2/img2_hu_75d3c555cf79e835.png 1024w"
loading="lazy"
alt="publickeyê°€ ì œëŒ€ë¡œ ë³€ê²½ëœ ëª¨ìŠµ"
class="gallery-image"
data-flex-grow="761"
data-flex-basis="1828px"
>&lt;/p>
&lt;blockquote>
&lt;p>ë³´ì•ˆì„ ê³ ë ¤í•˜ë©´ rsaë³´ë‹¤ëŠ” ed25519 ì•Œê³ ë¦¬ì¦˜ì´ ê¶Œì¥ëœë‹¤.&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>&lt;/blockquote>
&lt;p>ë‹¤ì‹œ pingì„ ìˆ˜í–‰í•˜ë©´ ì œëŒ€ë¡œ ìˆ˜í–‰ëœë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/openstack-kubernetes-installation-2/img3.png"
width="831"
height="784"
srcset="https://s0okju.github.io/p/openstack-kubernetes-installation-2/img3_hu_4089e898ba9ca705.png 480w, https://s0okju.github.io/p/openstack-kubernetes-installation-2/img3_hu_d20a18dc5b158690.png 1024w"
loading="lazy"
alt="Ansible ping ì„±ê³µ"
class="gallery-image"
data-flex-grow="105"
data-flex-basis="254px"
>&lt;/p>
&lt;h3 id="í•´ê²°ì±…-2-ssh-agent-ì‹¤í–‰">í•´ê²°ì±… 2. ssh-agent ì‹¤í–‰
&lt;/h3>&lt;p>ë§Œì•½ì— ì›ê²©ìœ¼ë¡œ openstack ì„œë²„ì— ì ‘ì†í•œë‹¤ê³  ê°€ì •í•´ë³´ì. ì‚¬ìš©ìë¥¼ ë³€ê²½í•˜ê±°ë‚˜ ì„¸ì…˜ì„ í•œë²ˆ ëŠê²Œ ë˜ë©´ ë™ì¼í•œ ì´ìœ ë¡œ ë¬¸ì œê°€ ìƒê¸´ë‹¤.&lt;/p>
&lt;p>ìš°ì„  ìš°ë¦¬ê°€ ì´ˆê¸°ì— ansibleë¥¼ ì„¸íŒ…í•  ë•Œ ssh-agentë¥¼ ì‹¤í–‰í•˜ê³  private keyë¥¼ ì¶”ê°€í•˜ëŠ” ì‘ì—…ì„ í•œë‹¤. ssh-agentëŠ” ssh-add ëª…ë ¹ì–´ë¥¼ í™œìš©í•˜ì—¬ í‚¤ë¥¼ ê¸°ì–µí•˜ê³  ì‚¬ìš©í•˜ê²Œ ëœë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># ë°±ê·¸ë¼ìš´ë“œì— agent ì‹¤í–‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">eval &amp;#34;$(ssh-agent -s)&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># í‚¤ ì¶”ê°€
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ssh-add ~/.ssh/id_rsa
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ssh-agentëŠ” í”„ë¡œì„¸ìŠ¤ë¡œì¨ ì‘ë™ë¼ ì¤‘ê°„ì— sshê°€ ì¤‘ë‹¨ë˜ë”ë¼ë„ í”„ë¡œì„¸ìŠ¤ê°€ ë‚¨ì•„ìˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ &lt;strong>í˜„ì¬ ì‚¬ìš©ì(stack)ê°€ ì‹¤í–‰ì‹œí‚¨ í”„ë¡œì„¸ìŠ¤ë¥¼ ë¨¼ì € ì—†ì• ê³  ssh-agentë¥¼ ì‹¤í–‰ì‹œí‚¤ë„ë¡ êµ¬í˜„&lt;/strong>í•˜ë©´ ëœë‹¤.&lt;/p>
&lt;p>openstackì€ stack ì‚¬ìš©ìê°€ ê´€ë¦¬í•œë‹¤. stack ì‚¬ìš©ìì˜ &lt;code>~/.bashrc&lt;/code> ì— ssh-agentë¥¼ ì¶”ê°€í•˜ì—¬ stack ì‚¬ìš©ìë¡œ ë¡œê·¸ì¸ ì„±ê³µí• ë•Œë§ˆë‹¤ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ansible ssh agent&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## Delete used ssh-agent&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -f ~/scripts/delete_ssh_agent.sh &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> . ~/scripts/delete_ssh_agent.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## Create new ssh-agent&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">eval&lt;/span> &lt;span class="k">$(&lt;/span>ssh-agent -s&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ssh-add ~/.ssh/id_rsa.kubespray
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>delete_ssh_agent.sh&lt;/code> ì€ openstackì„ ê´€ë¦¬í•˜ëŠ” ì‚¬ìš©ì(stack)ê°€ ê°€ì§€ê³  ìˆëŠ” ssh-agentë¥¼ ì‚­ì œí•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ì´ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Get all PIDs of ssh-agent processes owned by the user &amp;#39;stack&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">pids&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>pgrep -u stack ssh-agent&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Check if any PIDs were found&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -z &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$pids&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;No ssh-agent processes found for user &amp;#39;stack&amp;#39;.&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">exit&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># Loop through each PID and attempt to kill the process&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> pid in &lt;span class="nv">$pids&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Killing ssh-agent process with PID &lt;/span>&lt;span class="nv">$pid&lt;/span>&lt;span class="s2">...&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">kill&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$pid&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sleep &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># Check if the process was successfully killed&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> pgrep -u stack -x ssh-agent &amp;gt; /dev/null&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Failed to kill process with PID &lt;/span>&lt;span class="nv">$pid&lt;/span>&lt;span class="s2">. You may need to use sudo.&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Successfully killed process with PID &lt;/span>&lt;span class="nv">$pid&lt;/span>&lt;span class="s2">.&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ìƒˆë¡­ê²Œ ì ‘ì†í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/openstack-kubernetes-installation-2/img7.png"
width="610"
height="92"
srcset="https://s0okju.github.io/p/openstack-kubernetes-installation-2/img7_hu_a8b640fef4c16e5c.png 480w, https://s0okju.github.io/p/openstack-kubernetes-installation-2/img7_hu_4358267c652fdfaa.png 1024w"
loading="lazy"
alt="stack login ì„±ê³µ"
class="gallery-image"
data-flex-grow="663"
data-flex-basis="1591px"
>&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/openstack-kubernetes-installation-2/img8.png"
width="723"
height="67"
srcset="https://s0okju.github.io/p/openstack-kubernetes-installation-2/img8_hu_549a8973f9ecfad9.png 480w, https://s0okju.github.io/p/openstack-kubernetes-installation-2/img8_hu_a7ace842a3dc952f.png 1024w"
loading="lazy"
alt="ssh-agent í”„ë¡œì„¸ìŠ¤ í™•ì¸"
class="gallery-image"
data-flex-grow="1079"
data-flex-basis="2589px"
>&lt;/p>
&lt;blockquote>
&lt;p>ì´ ë°©ì‹ì€ ë‹¨ì¼ ì‚¬ìš©ìë§Œ ê´€ë¦¬í•œë‹¤ëŠ” ê°€ì •í•˜ì—ì„œ ë§Œë“  í•´ê²°ì±…ì´ë‹¤.&lt;/p>&lt;/blockquote>
&lt;h2 id="nameserver-ë¬¸ì œ">Nameserver ë¬¸ì œ
&lt;/h2>&lt;p>playbookë¥¼ ë°°í¬í•´ë³´ì.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ansible-playbook --become -i inventory/test-cluster/hosts cluster.yml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>nameserverë¡œ ì¸í•´ ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤. ë³´í†µ ì´ëŸ° ë¬¸ì œëŠ” nameserverì˜ ì„¤ì •ì´ ì˜ëª»ëœ ê²½ìš°ì— ë°œìƒë˜ë©° ì•ˆì „í•œ google dns(8.8.8.8, 8.8.4.4)ë¡œ ì„¤ì •í•˜ë©´ í•´ê²°ëœë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> &amp;#34;msg&amp;#34;: &amp;#34;E: Failed to fetch http://security.debian.org/debian-security/pool/updates/main/p/python-apt/python-apt-common_1.8.4.3_all.deb Temporary failure resolving &amp;#39;deb.debian.org&amp;#39;\nE: Failed to fetch http://security.debian.org/debian-security/pool/updates/main/p/python-apt/python3-apt_1.8.4.3_amd64.deb Temporary failure resolving &amp;#39;deb.debian.org&amp;#39;\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?&amp;#34;,
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="í•´ê²°ì±…-1-resolvconf-ìˆ˜ì •ì˜ëª»ëœ-ì ‘ê·¼">í•´ê²°ì±… 1. resolv.conf ìˆ˜ì •(ì˜ëª»ëœ ì ‘ê·¼)
&lt;/h3>&lt;p>DNSë¥¼ ì„¤ì •í•˜ëŠ” &lt;code>resolv.conf&lt;/code> ë¥¼ í™•ì¸í•´ë³´ë©´ 127.0.0.53ë¡œ ì„¤ì •ë˜ì–´ ìˆë‹¤. ì•ˆì „í•˜ê²Œ google dns ì„œë²„ë¡œ ë³€ê²½í•´ë³´ì&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nameserver 127.0.0.53
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì‹¤ì œë¡œëŠ” &lt;strong>ìš°ë¦¬ê°€ ì§ì ‘ ë³€ê²½í•˜ë©´ ì•ˆëœë‹¤.&lt;/strong>&lt;/p>
&lt;blockquote>
&lt;p>DO NOT EDIT THIS FILE BY HAND &amp;ndash; YOUR CHANGES WILL BE OVERWRITTEN&lt;/p>&lt;/blockquote>
&lt;p>resolv.confì€ /run í´ë” ë‚´ì— ì‹¬ë³¼ë§ ë§í¬ê°€ ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ë§ˆìŒëŒ€ë¡œ ìˆ˜ì •í•˜ëŠ” ê²ƒì€ ê¶Œì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/openstack-kubernetes-installation-2/img4.png"
width="945"
height="89"
srcset="https://s0okju.github.io/p/openstack-kubernetes-installation-2/img4_hu_73ed2070f1e893e9.png 480w, https://s0okju.github.io/p/openstack-kubernetes-installation-2/img4_hu_e21ab95a89f6dc6f.png 1024w"
loading="lazy"
alt="resolv.conf ì‹¬ë³¼ë¦­ ë§í¬"
class="gallery-image"
data-flex-grow="1061"
data-flex-basis="2548px"
>&lt;/p>
&lt;p>ì‹¤ì œë¡œ &lt;a class="link" href="https://libguestfs.org/virt-customize.1.html" target="_blank" rel="noopener"
>virt-customize&lt;/a> ë¥¼ í™œìš©í•´ì„œ resolv.confë¥¼ ìˆ˜ì •í•˜ëŠ” ì´ë¯¸ì§€ë¥¼ ë³„ë„ë¡œ ë§Œë“¤ì—ˆì§€ë§Œ ì˜ë¯¸ê°€ ì—†ì—ˆë‹¤.&lt;/p>
&lt;h3 id="í•´ê²°ì±…-2-terraform-ìˆ˜ì •">í•´ê²°ì±… 2. Terraform ìˆ˜ì •
&lt;/h3>&lt;p>ê°€ì¥ ì•ˆì „í•œ ì ‘ê·¼ë²•ì´ë‹¤.
ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€ë¥¼ ë³´ë©´ ì¿ ë²„ë„¤í‹°ìŠ¤ ë…¸ë“œë“¤ì´ kubernetes-network subnetë¥¼ í™œìš©í•œë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/openstack-kubernetes-installation-2/img5.png"
width="809"
height="609"
srcset="https://s0okju.github.io/p/openstack-kubernetes-installation-2/img5_hu_8439cdaf7cf3ba90.png 480w, https://s0okju.github.io/p/openstack-kubernetes-installation-2/img5_hu_bc133586b33d2d14.png 1024w"
loading="lazy"
alt="kubernetes ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€"
class="gallery-image"
data-flex-grow="132"
data-flex-basis="318px"
>&lt;/p>
&lt;p>Openstackì˜ subnetì— DNS nameserverë¥¼ ëª…ì‹œí•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ Openstack ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°°í¬í•˜ëŠ” terraform íŒŒì¼ì„ ìˆ˜ì •í•œë‹¤.
&lt;code>~/kubespray/contrib/terraform/openstack/modules/network/main.tf&lt;/code> ë‚´ì— &lt;code>dns_nameservers&lt;/code> ë¥¼ google dnsë¡œ ë³€ê²½ì‹œí‚¨ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-tf" data-lang="tf">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">resource&lt;/span> &lt;span class="s2">&amp;#34;openstack_networking_subnet_v2&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;k8s&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">name&lt;/span> = &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nb">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cluster_name&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">-internal-network&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">count&lt;/span> = &lt;span class="nb">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use_neutron&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">network_id&lt;/span> = &lt;span class="nx">openstack_networking_network_v2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">k8s&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nb">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">index&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">cidr&lt;/span> = &lt;span class="nb">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">subnet_cidr&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">ip_version&lt;/span> = &lt;span class="m">4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">dns_nameservers&lt;/span> = &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;8.8.8.8&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;8.8.4.4&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì›ë˜ë¼ë©´ variables.tfë¥¼ ìˆ˜ì •í•´ì•¼ í–ˆì§€ë§Œ ì œëŒ€ë¡œ ì ìš©ì´ ë˜ì§€ ì•Šì•˜ê³ , google dns serverëŠ” ê±°ì˜ ë¶ˆë³€ì— ê°€ê¹ê¸° ë•Œë¬¸ì— main.tfì— ì§ì ‘ ì‘ì„±í•´ë„ ëœë‹¤ê³  íŒë‹¨í–ˆë‹¤.&lt;/p>
&lt;p>ì•„ë˜ì™€ ê°™ì´ ì œëŒ€ë¡œ ì ìš©ëœë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/openstack-kubernetes-installation-2/img6.png"
width="522"
height="322"
srcset="https://s0okju.github.io/p/openstack-kubernetes-installation-2/img6_hu_51df20edfa301982.png 480w, https://s0okju.github.io/p/openstack-kubernetes-installation-2/img6_hu_28c470b480812ee0.png 1024w"
loading="lazy"
alt="dns nameserver ì„±ê³µ"
class="gallery-image"
data-flex-grow="162"
data-flex-basis="389px"
>&lt;/p>
&lt;h2 id="ê·¸-ì´ì™¸ì˜-debian-ë¬¸ì œë“¤">ê·¸ ì´ì™¸ì˜ debian ë¬¸ì œë“¤
&lt;/h2>&lt;p>ê·¸ ì´í›„ë¶€í„° debianì—ëŠ” ì¡ë‹¤í•œ ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/openstack-kubernetes-installation-2/img9.png"
width="1036"
height="237"
srcset="https://s0okju.github.io/p/openstack-kubernetes-installation-2/img9_hu_553433dc621022b1.png 480w, https://s0okju.github.io/p/openstack-kubernetes-installation-2/img9_hu_9f5de3996762c738.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="437"
data-flex-basis="1049px"
>&lt;/p>
&lt;h3 id="í•´ê²°ì±…-1-í´ë¼ìš°ë“œ-ì´ë¯¸ì§€ë¥¼-ubuntuë¡œ-ë³€ê²½">í•´ê²°ì±… 1. í´ë¼ìš°ë“œ ì´ë¯¸ì§€ë¥¼ ubuntuë¡œ ë³€ê²½
&lt;/h3>&lt;p>í´ë¼ìš°ë“œ ì´ë¯¸ì§€ë¥¼ debianì—ì„œ ubuntuë¡œ ë³€ê²½í–ˆë‹¤. ssh í‚¤ë¥¼ ed25519 ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì ìš©í•´ë„ ì •ìƒì ìœ¼ë¡œ ì‘ë™ëœë‹¤.
Ansible playbookë¥¼ ì‘ë™ì‹œí‚¤ë©´ ì •ìƒì ìœ¼ë¡œ kubernetesê°€ ë°°í¬ëœë‹¤.&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://dev.to/ccoveille/how-to-generate-a-secure-and-robust-ssh-key-in-2024-3f4f" target="_blank" rel="noopener"
>https://dev.to/ccoveille/how-to-generate-a-secure-and-robust-ssh-key-in-2024-3f4f&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://askubuntu.com/questions/351168/diffrence-between-the-dns-setting-in-etc-resolv-conf-and-etc-network-interfaces" target="_blank" rel="noopener"
>https://askubuntu.com/questions/351168/diffrence-between-the-dns-setting-in-etc-resolv-conf-and-etc-network-interfaces&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Openstack - Kubesprayë¥¼ í™œìš©í•œ Kubernetes ì„¤ì¹˜ ì‹œ Terraform ì˜¤ë¥˜</title><link>https://s0okju.github.io/p/openstack-kubernetes-installation-1/</link><pubDate>Thu, 01 Aug 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/openstack-kubernetes-installation-1/</guid><description>&lt;h2 id="openstack-ì„¤ì¹˜">Openstack ì„¤ì¹˜
&lt;/h2>&lt;p>&lt;a class="link" href="https://velog.io/@im2sh/Ubuntu-22.04%EC%97%90%EC%84%9C-Devstack-%EC%84%A4%EC%B9%98" target="_blank" rel="noopener"
>im2sh.log velog&lt;/a>ì„ ì°¸ê³ í•´ì„œ Devstackì„ í™œìš©í•´ Openstackì„ ì„¤ì¹˜í•˜ë©´ ëœë‹¤. ë‹¤ë§Œ ë¡œì»¬ í™˜ê²½ì—ì„œë§Œ ìˆ˜í–‰í•  ì˜ˆì •ì´ë¯€ë¡œ ê°€ìƒ public ip ëŒ€ì—­ ìƒì„±ì€ ì œì™¸í–ˆë‹¤.&lt;/p>
&lt;h3 id="ì´ë¯¸ì§€-ìƒì„±">ì´ë¯¸ì§€ ìƒì„±
&lt;/h3>&lt;p>Novaì— ì˜¬ë¦° ì´ë¯¸ì§€ë¥¼ ìƒì„±í•œë‹¤. Ubuntuë³´ë‹¤ Debianì´ ê°€ë³ê³  ì»¤ìŠ¤í…€í•˜ê¸° ìš©ì´í•´ì„œ ì„ íƒ&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>í•˜ê²Œ ë˜ì—ˆë‹¤.
ì•„ë˜ì˜ ëª…ë ¹ì–´ëŠ” &lt;a class="link" href="https://cloud.debian.org/cdimage/cloud/OpenStack/current-10/" target="_blank" rel="noopener"
>debian ê³µì‹ í™ˆí˜ì´ì§€&lt;/a>ë¥¼ ì°¸ê³ í–ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">wget https://cloud.debian.org/cdimage/cloud/OpenStack/current-10/debian-10-openstack-amd64.qcow2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">openstack image create &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --container-format bare &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --disk-format qcow2 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --file debian-10-openstack-amd64.qcow2 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> debian-10-openstack-amd64
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>dashboardë¥¼ ë³´ë©´ ì •ìƒì ìœ¼ë¡œ ì´ë¯¸ì§€ê°€ ì—…ë¡œë“œëœ ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/openstack-kubernetes-installation-1/img1.png"
width="423"
height="236"
srcset="https://s0okju.github.io/p/openstack-kubernetes-installation-1/img1_hu_7b3a554076681dea.png 480w, https://s0okju.github.io/p/openstack-kubernetes-installation-1/img1_hu_53f471c3f0509ba8.png 1024w"
loading="lazy"
alt="horizonì—ì„œ í™•ì¸í•œ ì´ë¯¸ì§€"
class="gallery-image"
data-flex-grow="179"
data-flex-basis="430px"
>&lt;/p>
&lt;h2 id="kubesprayë¥¼-í™œìš©í•œ-kubernetes-êµ¬ì¶•">Kubesprayë¥¼ í™œìš©í•œ Kubernetes êµ¬ì¶•
&lt;/h2>&lt;ul>
&lt;li>OS - Ubuntu 24.04&lt;/li>
&lt;li>Openstack - 2024.1&lt;/li>
&lt;li>Kubespray - v2.21.0&lt;/li>
&lt;li>Terraform - v1.9.3&lt;/li>
&lt;/ul>
&lt;p>ì „ë°˜ì ì¸ ì„¤ì¹˜ ê³¼ì •ì€ &lt;a class="link" href="https://velog.io/@jaehan/Openstack-%EA%B8%B0%EB%B0%98-Kubernets-%EA%B5%AC%EC%B6%95-with-Kubespray" target="_blank" rel="noopener"
>ë³€ì¬í•œë‹˜ì˜ velog&lt;/a>ë¥¼ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>openstack v2, v3 APIëŠ” ë‹¤ë¥¸ì ì´ ë§ìŠµë‹ˆë‹¤. ë§Œì•½ì— v2 ë²„ì „ìœ¼ë¡œ í•˜ê³  ì‹¶ë‹¤ë©´ ìš´ì˜ì²´ì œì™€ kubespray, terraform ë²„ì „ì„ ë§ì¶”ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;h3 id="ssh-í†µì‹ ì„-ìœ„í•œ-ê³µê°œí‚¤-ìƒì„±">ssh í†µì‹ ì„ ìœ„í•œ ê³µê°œí‚¤ ìƒì„±
&lt;/h3>&lt;p>ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½ ì„¤ì •ì„ ìœ„í•´ Ansibleë¥¼ ì‚¬ìš©í•œë‹¤. Ansibleì€ sshë¥¼ í™œìš©í•˜ì—¬ ëŒ€ìƒì— ì ‘ì†í•  ìˆ˜ ìˆë‹¤. ì´ í‚¤ëŠ” ì¶”í›„ Kubernetesì—ì„œ ë…¸ë“œë¼ë¦¬ í†µì‹ í•  ìˆ˜ ìˆëŠ” openstackì˜ keypairë¡œì¨ í™œìš©ëœë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ssh-keygen -t ed25519 -N &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span> -f ~/.ssh/id_rsa.kubespray
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">eval&lt;/span> &lt;span class="k">$(&lt;/span>ssh-agent -s&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ssh-add ~/.ssh/id_rsa.kubespray
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ì˜¤ë¥˜---one-of-auth_url-or-cloud-must-be-specified">ì˜¤ë¥˜ - One of auth_url or cloud must be specified
&lt;/h2>&lt;p>ê²°ë¡ ë¶€í„° ë§í•˜ìë©´ í´ë¼ì´ì–¸íŠ¸ì™€ ê´€ë ¨ëœ í™˜ê²½ ë³€ìˆ˜ê°€ ì €ì¥ë˜ì§€ ì•Šì•„ì„œ ìƒê¸´ ì¼ì´ë‹¤.&lt;/p>
&lt;h3 id="í•´ê²°-ê³¼ì •">í•´ê²° ê³¼ì •
&lt;/h3>&lt;p>ì•„ë˜ì˜ ì˜¤ë¥˜ë¥¼ ì½ì–´ë³´ë©´ openstackì˜ providerë¥¼ ì •ì˜í•˜ëŠ” tfíŒŒì¼ì— ì†ì„±ì´ ì •ì˜ë˜ì–´ ìˆì§€ ì•Šë‹¤ê³  í•œë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/openstack-kubernetes-installation-1/img2.png"
width="890"
height="330"
srcset="https://s0okju.github.io/p/openstack-kubernetes-installation-1/img2_hu_fc4a8193524b8cf3.png 480w, https://s0okju.github.io/p/openstack-kubernetes-installation-1/img2_hu_dd3a8e38b0318d0c.png 1024w"
loading="lazy"
alt="kubernetes ì„¤ì¹˜ ì‹œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜"
class="gallery-image"
data-flex-grow="269"
data-flex-basis="647px"
>&lt;/p>
&lt;p>&lt;code>~/kubespray/contrib/terraform/openstack/version.tf&lt;/code> ë¥¼ ë³´ë©´ providerê°€ ì •ì˜ë˜ì–´ ìˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/openstack-kubernetes-installation-1/img4.png"
width="536"
height="172"
srcset="https://s0okju.github.io/p/openstack-kubernetes-installation-1/img4_hu_f38e3ad95202f96e.png 480w, https://s0okju.github.io/p/openstack-kubernetes-installation-1/img4_hu_1484e534dcbff86a.png 1024w"
loading="lazy"
alt="~/kubespray/contrib/terraform/openstack/version.tf"
class="gallery-image"
data-flex-grow="311"
data-flex-basis="747px"
>&lt;/p>
&lt;p>&lt;a class="link" href="https://registry.terraform.io/providers/terraform-provider-openstack/openstack/1.54.1/docs" target="_blank" rel="noopener"
>ê³µì‹ í™ˆí˜ì´ì§€&lt;/a>ë¥¼ ë³´ë©´ ì„¤ì •ê°’ì„ ì¶”ê°€í•  ìˆ˜ ìˆëŠ”ë° ì „ë¶€ë‹¤ ì„ íƒì‚¬í•­ì´ì§€ë§Œ &lt;strong>Openstack ì„¤ì •ê³¼ ê´€ë ¨ í™˜ê²½ë³€ìˆ˜ê°€ ë°˜ë“œì‹œ ì €ì¥&lt;/strong>ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ terraformì— ë³„ë„ë¡œ ì„¤ì •í•´ì•¼ í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Configure the OpenStack Provider
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">provider&lt;/span> &lt;span class="s2">&amp;#34;openstack&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> user_name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;admin&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> tenant_name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;admin&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> password&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;pwd&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> auth_url&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;http://myauthurl:5000/v3&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> region&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;RegionOne&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì¦‰ ìœ„ì™€ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí•œ ê²ƒì€ í´ë¼ì´ì–¸íŠ¸ì™€ identity ì„œë¹„ìŠ¤ê°€ ìƒí˜¸ ì‘ìš©ì„ ìœ„í•œ í™˜ê²½ ë³€ìˆ˜ê°€ ì—†ì–´ì„œ ìƒê¸´ ì¼ì¸ ê²ƒì´ë‹¤.&lt;/p>
&lt;p>ë‹¤ë§Œ ìˆ˜ë™ìœ¼ë¡œ terraform íŒŒì¼ì— ì‘ì„±í•˜ê±°ë‚˜ í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ê²Œ ë˜ë©´ Domain ì •ë³´ê°€ ë¶€ì •í™•í•˜ë‹¤ëŠ” ì—ëŸ¬ ë©”ì„¸ì§€ë¥¼ ë§ˆì£¼í•  ìˆ˜ ìˆë‹¤. openstack ë²„ì „ì— ë”°ë¼ì„œ ì§€ì›í•˜ëŠ” í™˜ê²½ ë³€ìˆ˜ë„ ë‹¤ë¥´ê±°ë‚˜, ê°™ì€ ì¡°ê±´ì— ì‚¬ëŒë§ˆë‹¤ ì‹¤í–‰ ê°€ëŠ¥ ì—¬ë¶€ê°€ ë‹¤ë¥¸ ë“± ë³µí•©ì ì¸ ì´ìœ ê°€ ì¡´ì¬í•œ ê²ƒ ê°™ì•˜ë‹¤.&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/openstack-kubernetes-installation-1/img3.png"
width="937"
height="174"
srcset="https://s0okju.github.io/p/openstack-kubernetes-installation-1/img3_hu_6ea1b2e2e8a36d5a.png 480w, https://s0okju.github.io/p/openstack-kubernetes-installation-1/img3_hu_22bc8b542dd33664.png 1024w"
loading="lazy"
alt="Invalid DomainID ì˜¤ë¥˜"
class="gallery-image"
data-flex-grow="538"
data-flex-basis="1292px"
>&lt;/p>
&lt;h3 id="í•´ê²°ì±…">í•´ê²°ì±…
&lt;/h3>&lt;p>Openstackì—ì„œ ì œê³µí•´ì£¼ëŠ” &lt;a class="link" href="https://docs.openstack.org/liberty/ko_KR/install-guide-obs/keystone-openrc.html" target="_blank" rel="noopener"
>í´ë¼ì´ì–¸íŠ¸ í™˜ê²½ ìŠ¤í¬ë¦½íŠ¸(openrc)&lt;/a>ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.&lt;/p>
&lt;p>horizonì— ì‚¬ìš©ìë¥¼ í´ë¦­í•˜ë©´ openstack rc íŒŒì¼ì´ ìˆëŠ”ë°, ì´ë¥¼ ë‹¤ìš´ë¡œë“œí•´ì„œ ì‹¤í–‰ì‹œí‚¤ë©´ ëœë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/openstack-kubernetes-installation-1/img5.png"
width="266"
height="290"
srcset="https://s0okju.github.io/p/openstack-kubernetes-installation-1/img5_hu_d249ba80f6d9d707.png 480w, https://s0okju.github.io/p/openstack-kubernetes-installation-1/img5_hu_c4c096730e86dce0.png 1024w"
loading="lazy"
alt="horizonì—ì„œ ë‹¤ìš´ë¡œë“œ ê°€ëŠ¥í•œ OpenStack RC íŒŒì¼"
class="gallery-image"
data-flex-grow="91"
data-flex-basis="220px"
>&lt;/p>
&lt;p>Linuxì—ì„œ í™˜ê²½ ë³€ìˆ˜ëŠ” bashë¥¼ exití•˜ëŠ” ìˆœê°„ ì‚¬ë¼ì§„ë‹¤.&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup> ì»´í“¨í„°ê°€ í•œë²ˆ êº¼ì§€ê²Œ ë˜ë©´ openrc ìŠ¤í¬ë¦½íŠ¸ë¥¼ ê³„ì† ì‹¤í–‰ì‹œì¼œì¤˜ì•¼ í•œë‹¤.
í™˜ê²½ë³€ìˆ˜ë¥¼ ì˜ì†ì ìœ¼ë¡œ ì €ì¥í•˜ëŠ” ë°©ë²•ì€ &lt;code>~/.bashrc&lt;/code>ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì´ë‹¤. ë‹¤ìš´ë¡œë“œí•œ rc íŒŒì¼ì„ ì‹¤í–‰ì‹œí‚¤ë„ë¡ íŒŒì¼ì„ ì„¤ì •í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -f ~/rc/k8s-openrc.sh &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> . ~/rc/k8s-openrc.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì¤‘ê°„ì— ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥ ë°›ì•„ì•¼ í•˜ë¯€ë¡œ openrc ìŠ¤í¬ë¦½íŠ¸ì— ë¹„ë°€ë²ˆí˜¸ë¥¼ ë„£ëŠ”ë‹¤. ê°œì¸ì ìœ¼ë¡œ ì´ëŸ° ë°©ë²•ì€ ë³´ì•ˆ ì¸¡ë©´ì—ì„œëŠ” ì¢‹ì§€ ì•Šì•„ ë³´ì¸ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">OS_USERNAME&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;k8s&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># With Keystone you pass the keystone password.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># echo &amp;#34;Please enter your OpenStack Password for project $OS_PROJECT_NAME as user $OS_USERNAME: &amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># read -sr OS_PASSWORD_INPUT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">OS_PASSWORD&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;yourpassword&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>source ~/.bashrc&lt;/code>ë¥¼ ìˆ˜í–‰í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ í™˜ê²½ ë³€ìˆ˜ê°€ ì •ìƒì ìœ¼ë¡œ ì„¤ì •ëœë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/openstack-kubernetes-installation-1/img6.png"
width="304"
height="85"
srcset="https://s0okju.github.io/p/openstack-kubernetes-installation-1/img6_hu_b01a460903ee8bda.png 480w, https://s0okju.github.io/p/openstack-kubernetes-installation-1/img6_hu_7b321d24896448f.png 1024w"
loading="lazy"
alt="í™˜ê²½ ë³€ìˆ˜ í™•ì¸"
class="gallery-image"
data-flex-grow="357"
data-flex-basis="858px"
>&lt;/p>
&lt;p>ë‹¤ì‹œ terraformìœ¼ë¡œ kubernetesë¥¼ ì„¤ì¹˜í•˜ë©´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/openstack-kubernetes-installation-1/img7.png"
width="648"
height="100"
srcset="https://s0okju.github.io/p/openstack-kubernetes-installation-1/img7_hu_2c07656d4e44353f.png 480w, https://s0okju.github.io/p/openstack-kubernetes-installation-1/img7_hu_5bdecc80a8256da1.png 1024w"
loading="lazy"
alt="ë°°í¬ ì™„ë£Œ"
class="gallery-image"
data-flex-grow="648"
data-flex-basis="1555px"
>&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://www.quora.com/Which-Linux-distribution-is-best-suited-for-a-cloud-server-environment-and-why" target="_blank" rel="noopener"
>https://www.quora.com/Which-Linux-distribution-is-best-suited-for-a-cloud-server-environment-and-why&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://github.com/terraform-provider-openstack/terraform-provider-openstack/issues/267" target="_blank" rel="noopener"
>https://github.com/terraform-provider-openstack/terraform-provider-openstack/issues/267&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>&lt;a class="link" href="https://askubuntu.com/questions/395212/why-environment-variable-disappears-after-terminal-reopen" target="_blank" rel="noopener"
>https://askubuntu.com/questions/395212/why-environment-variable-disappears-after-terminal-reopen&lt;/a>&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>ì„œë²„ êµ¬ì¶•ê¸° - 3. ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ëŒ€ì‹œë³´ë“œ ì ‘ì†í•˜ê¸° ê·¸ë¦¬ê³  ìš´ì˜ì˜ ë¬¸ì œì </title><link>https://s0okju.github.io/p/server-access-dashboard-and-management-problems/</link><pubDate>Tue, 16 Jul 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/server-access-dashboard-and-management-problems/</guid><description>&lt;h2 id="ì„œë²„-ìƒíƒœ">ì„œë²„ ìƒíƒœ
&lt;/h2>&lt;p>ì§€ê¸ˆê¹Œì§€ Multipass ë¥¼ í™œìš©í•˜ì—¬ ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½ì„ ë§Œë“¤ê³ , ì‹¤ì œë¡œ ì ìš©í•˜ëŠ” ê³¼ì •ì„ ê±°ì³¤ë‹¤.
í˜„ì¬ 3ê°œì˜ ë…¸ë“œë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, nfs, mysql, mongoì™€ ê°™ì´ ë°ì´í„°ë² ì´ìŠ¤ê°€ ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ëŠ” nfs, ì  í‚¨ìŠ¤ ì„œë²„ëŠ” ops ì¸ìŠ¤í„´ìŠ¤ì— ì €ì¥í–ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-access-dashboard-and-management-problems/img1.png"
width="524"
height="230"
srcset="https://s0okju.github.io/p/server-access-dashboard-and-management-problems/img1_hu_26908dd3d6ecf74a.png 480w, https://s0okju.github.io/p/server-access-dashboard-and-management-problems/img1_hu_67bcad73e4eaad12.png 1024w"
loading="lazy"
alt="multipass instance list"
class="gallery-image"
data-flex-grow="227"
data-flex-basis="546px"
>&lt;/p>
&lt;p>ì™œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ statefulsetìœ¼ë¡œ ì •ì˜í•˜ì§€ ì•Šê³  ë³„ë„ë¡œ ì„¤ì¹˜í–ˆëŠ”ì§€ ê¶ê¸ˆí•  ê²ƒì´ë‹¤. ì´ìœ ëŠ” ìµœëŒ€í•œ í´ë¼ìš°ë“œ ìŠ¤í† ë¦¬ì§€ì²˜ëŸ¼ êµ¬í˜„í•˜ê³  ì‹¶ì–´ì„œì˜€ë‹¤.&lt;/p>
&lt;h2 id="ëŒ€ì‹œë³´ë“œ-í™•ì¸í•˜ê¸°">ëŒ€ì‹œë³´ë“œ í™•ì¸í•˜ê¸°
&lt;/h2>&lt;p>ì¼ë‹¨ ì¿ ë²„ë„¤í‹°ìŠ¤ ë‚´ì—ì„œëŠ” ì™¸ë¶€ì™€ í†µì‹ í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì€ í¬ê²Œ ë‘ ê°€ì§€ì´ë‹¤.&lt;/p>
&lt;ul>
&lt;li>Ingress&lt;/li>
&lt;li>Nodeport&lt;/li>
&lt;/ul>
&lt;p>ì¼ë‹¨ ì‚¬ì„¤ ë„¤íŠ¸ì›Œí¬ ë‚´ì—ì„œë§Œ ì‚¬ìš©í•  ì˜ˆì •ì´ë¯€ë¡œ Nodeport ë°©ì‹ì„ ì‚¬ìš©í•˜ë„ë¡ í•˜ê² ë‹¤.&lt;/p>
&lt;h3 id="ì˜ˆì œ---grafana-ui-í™•ì¸í•˜ê¸°">ì˜ˆì œ - Grafana ui í™•ì¸í•˜ê¸°
&lt;/h3>&lt;p>ì˜ˆë¡œ í”„ë¡œë©”í…Œìš°ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤ê³  ê°€ì •í•´ë³´ì. grafana ëŒ€ì‹œë³´ë“œì— ì ‘ê·¼í•  í•„ìš”ì„±ì´ ìˆì„ ê²ƒì´ë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-access-dashboard-and-management-problems/img2.png"
width="655"
height="364"
srcset="https://s0okju.github.io/p/server-access-dashboard-and-management-problems/img2_hu_69efd821fe2ac60.png 480w, https://s0okju.github.io/p/server-access-dashboard-and-management-problems/img2_hu_c38414d8f217fa40.png 1024w"
loading="lazy"
alt="server êµ¬ì„±ë„1"
class="gallery-image"
data-flex-grow="179"
data-flex-basis="431px"
>&lt;/p>
&lt;p>grafana uiì™€ ê´€ë ¨ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ service typeë¥¼ nodeportë¡œ ë³€ê²½í•´ì¤€ í›„ì— Host server(192.168.50.27)ì— ë°©í™”ë²½ì„ ì„¤ì •í•˜ë©´ 192.168.50.27 ì£¼ì†Œë¡œ Grafana uiì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.
ê·¸ëŸ¬ë‚˜ ë¬¸ì œë„ ì¡´ì¬í•œë‹¤. ì„œë²„ì— ë¬¸ì œê°€ ìƒê¸°ë©´ ì¬ë°°í¬í•˜ê²Œ ë˜ëŠ”ë°, ì¿ ë²„ë„¤í‹°ìŠ¤ ìŠ¤ì¼€ì¤„ëŸ¬ì— ë”°ë¼ì„œ ë‹¤ë¥¸ ë…¸ë“œì— ë°°ì¹˜ë  ìˆ˜ ìˆë‹¤. ì´ëŸ´ ê²½ìš° ë°°ì¹˜ëœ ë…¸ë“œë¥¼ í™•ì¸í•´ê°€ë©° ê¸°ì¡´ì˜ ë°©í™”ë²½ì„ ë‹«ê³ , ìƒˆë¡œìš´ ë°©í™”ë²½ì„ ì—´ì–´ì¤˜ì•¼ í•œë‹¤.&lt;/p>
&lt;p>ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œëŠ” ì—¬ëŸ¬ ìŠ¤ì¼€ì¤„ë§ ë°©ì‹ì´ ìˆëŠ”ë°&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>, ê·¸ ì¤‘ ê°„ë‹¨í•œ &lt;code>nodeSelector&lt;/code> ë¡œ node1ì— ê°•ì œ ë°°ì¹˜í•˜ì—¬ ì •ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±í–ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-access-dashboard-and-management-problems/img3.png"
width="719"
height="364"
srcset="https://s0okju.github.io/p/server-access-dashboard-and-management-problems/img3_hu_1e27687eea6d08ff.png 480w, https://s0okju.github.io/p/server-access-dashboard-and-management-problems/img3_hu_f4bd46c1e4b925f1.png 1024w"
loading="lazy"
alt="server êµ¬ì„±ë„2"
class="gallery-image"
data-flex-grow="197"
data-flex-basis="474px"
>&lt;/p>
&lt;h4 id="nodeselector-ì„¤ì •">nodeSelector ì„¤ì •
&lt;/h4>&lt;p>node1ì— labelë¥¼ type=uië¡œ ì„¤ì •í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kubectl label nodes node1 &lt;span class="nv">type&lt;/span>&lt;span class="o">=&lt;/span>ui
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://s0okju.github.io/p/server-access-dashboard-and-management-problems/img4.png"
width="473"
height="168"
srcset="https://s0okju.github.io/p/server-access-dashboard-and-management-problems/img4_hu_11d50e412be20e9b.png 480w, https://s0okju.github.io/p/server-access-dashboard-and-management-problems/img4_hu_33efe596538f6b0a.png 1024w"
loading="lazy"
alt="kubectl describe node1"
class="gallery-image"
data-flex-grow="281"
data-flex-basis="675px"
>&lt;/p>
&lt;h4 id="grafana-ui-service-type-ë³€ê²½">grafana ui service type ë³€ê²½
&lt;/h4>&lt;p>Prometheus, Grafanaì˜ ì›í™œí•œ ì„¤ì¹˜ë¥¼ ìœ„í•´ &lt;a class="link" href="https://github.com/prometheus-operator/kube-prometheus" target="_blank" rel="noopener"
>kube-prometheus helm&lt;/a>ì„ ì‚¬ìš©í–ˆë‹¤. helm ì°¨íŠ¸ì˜ íŠ¹ì„±ìƒ values.yamlë¥¼ ì„¤ì •í•˜ì—¬ ê°’ì„ ì£¼ì…í•˜ë¯€ë¡œ &lt;strong>values.yaml&lt;/strong> ë¥¼ í™•ì¸í•´ì•¼ í•œë‹¤.
kube-prometheus helm ì°¨íŠ¸ëŠ” ì—¬ëŸ¬ helm ì°¨íŠ¸ë¡œ êµ¬ì„±ë˜ì–´ ìˆì–´, ì„¤ì •í•˜ê³  ì‹¶ì€ ì„œë¹„ìŠ¤ì˜ &lt;strong>values.yaml&lt;/strong>ë¥¼ ì„¤ì •í•˜ë©´ ëœë‹¤.&lt;/p>
&lt;p>&lt;code>kube-prometheus-stack/charts/grafana/values.yaml&lt;/code> íŒŒì¼ì— ëŒ€ëµ 216ë²ˆì§¸ ì¤„ì— ì•„ë˜ì™€ ê°™ì€ ì„œë¹„ìŠ¤ íƒ€ì…ì„ Nodeportë¡œ ë³€ê²½í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">## Expose the grafana service to be accessed from outside the cluster (LoadBalancer service).&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">## or access it from within the cluster (ClusterIP service). Set the service type and the port to serve it.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">## ref: http://kubernetes.io/docs/user-guide/services/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">##&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">service&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enabled&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># type: ClusterIP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">NodePort&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Custom&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">loadBalancerIP&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">loadBalancerClass&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">loadBalancerSourceRanges&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">3000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nodePort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">30060&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Custom&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="helm-nodeselector-ì„¤ì •">helm nodeSelector ì„¤ì •
&lt;/h4>&lt;p>&lt;code>kube-prometheus-stack/charts/grafana/values.yaml&lt;/code> ì˜ 314ë²ˆì§¸ ì¤„ì— node1ì— ë°°ì¹˜ë˜ë„ë¡ ì„¤ì •í–ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">## Node labels for pod assignment&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">## ref: https://kubernetes.io/docs/user-guide/node-selection/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">nodeSelector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ui&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>helmìœ¼ë¡œ ë°°í¬í•œ í›„ pod ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ë©´ &lt;strong>{helmìœ¼ë¡œ ë°°í¬í•œ ì´ë¦„}-grafana-{ë¬¸ìì—´}&lt;/strong> ë³´ì´ëŠ”ë°, íŒŒë“œ ë‚´ë¶€ì—ëŠ” grafanaì™€ ê´€ë ¨ëœ ì»¨í…Œì´ë„ˆê°€ í¬í•¨ë˜ì–´ ìˆë‹¤. ì¦‰, ìš°ë¦¬ê°€ ì°¾ë˜ uië„ grafana pod ë‚´ë¶€ì— ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-access-dashboard-and-management-problems/img5.png"
width="679"
height="47"
srcset="https://s0okju.github.io/p/server-access-dashboard-and-management-problems/img5_hu_1d5ab7067ca24a5.png 480w, https://s0okju.github.io/p/server-access-dashboard-and-management-problems/img5_hu_477443e31f75a88.png 1024w"
loading="lazy"
alt="grafana pod"
class="gallery-image"
data-flex-grow="1444"
data-flex-basis="3467px"
>&lt;/p>
&lt;p>grafana íŒŒë“œì˜ ì •ë³´ë¥¼ ë³´ë©´ nodeSelectorê°€ ì •ìƒì ìœ¼ë¡œ ì ìš©ë˜ì—ˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-access-dashboard-and-management-problems/img6.png"
width="1012"
height="84"
srcset="https://s0okju.github.io/p/server-access-dashboard-and-management-problems/img6_hu_4daa00ed4f52643a.png 480w, https://s0okju.github.io/p/server-access-dashboard-and-management-problems/img6_hu_bfd4bd677bace9ff.png 1024w"
loading="lazy"
alt="grafana pod nodeSelector í™•ì¸"
class="gallery-image"
data-flex-grow="1204"
data-flex-basis="2891px"
>&lt;/p>
&lt;h4 id="ë°©í™”ë²½-ì„¤ì •">ë°©í™”ë²½ ì„¤ì •
&lt;/h4>&lt;p>node1 ì¸ìŠ¤í„´ìŠ¤ì˜ nodeport(30060)ì— íŠ¸ë˜í”½ì´ ë“¤ì–´ì˜¬ ìˆ˜ ìˆë„ë¡ í—ˆìš©í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo iptables -t nat -I PREROUTING -i enp3s0 -p tcp --dport &lt;span class="m">30060&lt;/span> -j DNAT --to-destination 10.120.52.23:30060
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo iptables -I FORWARD &lt;span class="m">1&lt;/span> -p tcp -d 10.120.52.23 --dport &lt;span class="m">30060&lt;/span> -j ACCEPT
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol>
&lt;li>30060 í¬íŠ¸ë¡œ enp3s0 ì¸í„°í˜ì´ìŠ¤ì— ë“¤ì–´ì˜¤ëŠ” íŠ¸ë˜í”½ì„ 10.120.52.23:30060ë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜í•œë‹¤.&lt;/li>
&lt;li>10.120.52.23:30060ì— ì ‘ì†í•˜ëŠ” íŠ¸ë˜í”½ì„ í—ˆìš©í•œë‹¤.&lt;/li>
&lt;/ol>
&lt;p>ì„œë²„ì˜ IPë¡œ ì ‘ì†í•˜ë©´ ê·¸ë¼íŒŒë‚˜ ëŒ€ì‹œë³´ë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-access-dashboard-and-management-problems/img7.png"
width="1008"
height="738"
srcset="https://s0okju.github.io/p/server-access-dashboard-and-management-problems/img7_hu_a2bc3e92cabc4f56.png 480w, https://s0okju.github.io/p/server-access-dashboard-and-management-problems/img7_hu_4b00befe13cbf46f.png 1024w"
loading="lazy"
alt="grafana dashboard ì ‘ì†í•˜ê¸°"
class="gallery-image"
data-flex-grow="136"
data-flex-basis="327px"
>&lt;/p>
&lt;h2 id="ë¬¸ì œì ">ë¬¸ì œì 
&lt;/h2>&lt;p>Multipassë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ê³ , ì™¸ë¶€ì™€ì˜ ì ‘ì†ì„ ìœ„í•´ íŠ¸ë˜í”½ì„ ì œì–´í•˜ëŠ” ê²ƒì€ ë¬¸ì œì ì´ ìˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>
&lt;p>ì™¸ë¶€ì™€ì˜ ì ‘ì†ì„ í• ë•Œë§ˆë‹¤ iptableë¥¼ ì„¤ì •í•´ì•¼ í•œë‹¤.&lt;/p>
&lt;ul>
&lt;li>ì„œë²„ê°€ shutdownì´ ë  ê²½ìš° ì´ì „ì— ì„¤ì •í–ˆë˜ iptables ruleì´ ì‚¬ë¼ì§„ë‹¤. ì´ëŸ´ ê²½ìš° ê·œì¹™ì„ ë‹¤ì‹œ ì„¤ì •í•˜ê±°ë‚˜, ì´ë¥¼ ëŒ€ë¹„í•´ì„œ ë³„ë„ì˜ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•´ì„œ iptablesì´ ì˜ì†ì„±ì´ ìˆë„ë¡ ì„¤ì •&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>í•´ì•¼ í•œë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ì¸ìŠ¤í„´ìŠ¤ê°€ ë§ìœ¼ë©´ ë§ì„ìˆ˜ë¡ ê´€ë¦¬í•˜ê¸° ì–´ë µë‹¤.&lt;/p>
&lt;ul>
&lt;li>ì¿ ë²„ë„¤í‹°ìŠ¤ ì´ì™¸ì—ë„ ë‹¤ì–‘í•œ ì¸ìŠ¤í„´ìŠ¤ê°€ ìˆì§€ë§Œ ì¼ë¦¬ë¦¬ ëª…ë ¹ì–´ë¡œ ìƒíƒœë¥¼ í™•ì¸í•˜ê³ , ì„¤ì •í•˜ëŠ” ê²ƒì€ ë²ˆê±°ë¡­ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ &lt;strong>ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë„êµ¬ê°€ í•„ìš”&lt;/strong>í–ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>ìœ„ì˜ í•´ê²°ì±…ìœ¼ë¡œ &lt;a class="link" href="https://www.openstack.org/software/project-navigator/openstack-components#openstack-services" target="_blank" rel="noopener"
>OpenStack&lt;/a> ì„œë²„ë¥¼ êµ¬ì¶•í•˜ê³ ì í•œë‹¤. ì¸ìŠ¤í„´ìŠ¤ë¥¼ public cloud ì²˜ëŸ¼ ììœ ìì¬ë¡œ ìƒì„± ë° ì‚­ì œí•  ìˆ˜ ìˆìœ¼ë©°, ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì´ ìš©ì´í–ˆë‹¤. ë˜í•œ í´ë¼ìš°ë“œì— ì‚¬ìš©ë˜ëŠ” ê¸°ìˆ ì„ ëŒ€ë¶€ë¶„ í™œìš©í•  ìˆ˜ ìˆì–´ í´ë¼ìš°ë“œë¥¼ ì•Œì•„ê°€ëŠ”ë° ì¢‹ì€ ë„êµ¬ë¼ê³  ìƒê°í–ˆë‹¤.&lt;/p>
&lt;p>ë‹¤ìŒ í¬ìŠ¤íŒ…ì€ ê¸°ì¡´ì˜ ì„œë²„ë¥¼ í¬ë§·ì‹œí‚¤ê³ , openstack ì„œë²„ êµ¬ì¶•ê¸°ë¡œ ì°¾ì•„ì˜¤ê² ë‹¤.&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://kubernetes.io/ko/docs/tasks/configure-pod-container/assign-pods-nodes/" target="_blank" rel="noopener"
>https://kubernetes.io/ko/docs/tasks/configure-pod-container/assign-pods-nodes/&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://unix.stackexchange.com/questions/52376/why-do-iptables-rules-disappear-when-restarting-my-debian-system" target="_blank" rel="noopener"
>https://unix.stackexchange.com/questions/52376/why-do-iptables-rules-disappear-when-restarting-my-debian-system&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>ì„œë²„ êµ¬ì¶•ê¸° - 2. Multipassë¥¼ í™œìš©í•œ NFS êµ¬ì„±</title><link>https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/</link><pubDate>Sun, 14 Jul 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/</guid><description>&lt;h2 id="ë“¤ì–´ê°€ë©°">ë“¤ì–´ê°€ë©°
&lt;/h2>&lt;p>ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ìœ ìƒíƒœ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í• ë•Œ ì£¼ë¡œ PV, PVCë¥¼ í™œìš©í•´ì„œ ë°ì´í„°ë¥¼ ì €ì¥í•œë‹¤. ìœ„ì¹˜ì— ë”°ë¼ ë‚´ë¶€, ì™¸ë¶€ ì €ì¥ ìœ ë¬´ë¥¼ ê²°ì •í•˜ëŠ”ë°, ë‚´ë¶€ì ìœ¼ë¡œ ì €ì¥í•˜ëŠ” ê²ƒì€ ì ‘ê·¼ì„±ë„ ë–¨ì–´ì§ˆ ë¿ë§Œ ì•„ë‹ˆë¼ ë…¸ë“œë¥¼ ìš´ìš©í•˜ëŠ”ë° ë¹„íš¨ìœ¨ì ì´ë¼ê³  íŒë‹¨í–ˆë‹¤. ì™¸ë¶€ì ì¸ ë°©ì•ˆì€ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•œ ë°ì´í„° ì €ì¥ì´ë‹¤.&lt;/p>
&lt;p>ê·¸ë ‡ë‹¤ë©´ &lt;strong>ì˜¨í”„ë¡œë¯¸ìŠ¤ í™˜ê²½ì—ì„œ ë„¤íŠ¸ì›Œí¬ë¡œ í†µì‹ í•˜ì—¬ ì €ì¥í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ìˆì„ê¹Œ?&lt;/strong> ì§ì ‘ ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½ì— êµ¬ì¶•í•˜ì—¬ ì ìš©í•˜ê³ ì í•œë‹¤.&lt;/p>
&lt;h2 id="nfsnetwork-file-system">NFS(Network File System)
&lt;/h2>&lt;p>ë„¤íŠ¸ì›Œí¬ì— íŒŒì¼ì„ ì €ì¥í•˜ëŠ” ë°©ì‹ì´ë‹¤. ì¦‰, ì›ê²© ì»´í“¨í„°ì— ìˆëŠ” íŒŒì¼ ë° ë””ë ‰í† ë¦¬ì— ì—‘ì„¸ìŠ¤í•˜ê³ , í•´ë‹¹ íŒŒì¼ ë””ë ‰í† ë¦¬ê°€ ë¡œì»¬ì— ìˆëŠ” ê²ƒì²˜ëŸ¼ ì‚¬ìš©í•˜ëŠ” ë¶„ì‚° íŒŒì¼ ì‹œìŠ¤í…œì´ë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>íŒŒì¼ ì‹œìŠ¤í…œ ì¤‘ì— ZFSê°€ ìˆë‹¤. ì¤‘ê°„ì— ë‘ ê°œì˜ ê°œë…ì´ í˜¼ìš©ë¼ì„œ NFSì— ZFS íŒŒì¼ ì‹œìŠ¤í…œì„ ì„¤ì¹˜í–ˆë‹¤. ê·¸ë¦¬ê³  ë‹¤ì‹œ í¬ë§·íŒ…í–ˆë‹¤..
ìì„¸íˆ ì•Œê³  ì‹¶ìœ¼ë©´ &lt;a class="link" href="https://toss.tech/article/engineering-note-8" target="_blank" rel="noopener"
>í† ìŠ¤ ë¸”ë¡œê·¸, OpenZFSë¡œ ì„±ëŠ¥ê³¼ ë¹„ìš©, ë‘ ë§ˆë¦¬ í† ë¼ ì¡ê¸°&lt;/a> ì°¸ê³ í•˜ê¸¸ ë°”ë€ë‹¤.&lt;/p>&lt;/blockquote>
&lt;h2 id="ìš©ëŸ‰-ë¶€ì¡±-ë¬¸ì œ">ìš©ëŸ‰ ë¶€ì¡± ë¬¸ì œ
&lt;/h2>&lt;p>ìœ ìƒíƒœ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ë¬´ì—‡ì´ ìˆì„ê¹Œ? ëŒ€ë¶€ë¶„ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê¼½ì„ ê²ƒì´ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ëŠ” ìƒê°ë³´ë‹¤ í° ìš©ëŸ‰ì„ ì°¨ì§€í•œë‹¤. ìì²´ ì„œë²„ëŠ” SSD 1TBìš©ëŸ‰ì„ ê°€ì§€ê³  ìˆë‹¤. ê·¸ëŸ¬ë‚˜ 4ê°œì˜ ë…¸ë“œ ì¸ìŠ¤í„´ìŠ¤ì™€ ì‹œìŠ¤í…œ ë°ì´í„°, ë¯¸ë˜ì— ì¶”ê°€í•  ì¸ìŠ¤í„´ìŠ¤ê¹Œì§€ ë”í•˜ë©´ ë§ì€ ìš©ëŸ‰ì´ ìš”êµ¬ëœë‹¤. ê°œì¸ì ìœ¼ë¡œ SSDë¼ëŠ” ë¹„ì‹¼ ì €ì¥ì†Œë¥¼ ë‹¨ìˆœ ë°ì´í„° ë³´ê´€ìš©ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸°ì—ëŠ” ë§ì´ ì•„ê¹ë‹¤ê³  ìƒê°í–ˆë‹¤.&lt;/p>
&lt;p>ë‹¤í–‰íˆ DASì™€ 4TB HDDê°€ ìˆì—ˆë‹¤. SSDì—ëŠ” ì‹œìŠ¤í…œì— í™œìš©ë  ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³ , ê·¸ ì™¸ì˜ ë°ì´í„°ëŠ” DASì— ì €ì¥í•˜ë„ë¡ êµ¬ì„±í•˜ë ¤ê³  í•œë‹¤.&lt;/p>
&lt;h2 id="êµ¬ì„±">êµ¬ì„±
&lt;/h2>&lt;p>ê°€ìƒ í™˜ê²½ì„ í•˜ë‚˜ ë§Œë“¤ì–´ì„œ NFS ê´€ë ¨ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ê³ , ê°ê°ì˜ ë…¸ë“œê°€ ë„¤íŠ¸ì›Œí‚¹ì„ í†µí•´ ì ‘ì†í•  ìˆ˜ ìˆê²Œ êµ¬ì„±í•  ì˜ˆì •ì´ë‹¤.&lt;/p>
&lt;h3 id="êµ¬ì„±ë„">êµ¬ì„±ë„
&lt;/h3>&lt;p>êµ¬ì„±ì„ ê°„ëµí•˜ê²Œ ì„¤ëª…í•˜ìë©´ ì•„ë˜ì™€ ê°™ë‹¤.&lt;/p>
&lt;ol>
&lt;li>NFS ì„œë²„ ì „ìš© ê°€ìƒ ë¨¸ì‹ ì„ ë§Œë“ ë‹¤.&lt;/li>
&lt;li>Host ì„œë²„ì— DASë¥¼ ë§ˆìš´íŒ…í•˜ê³ , NFS Server ì¸ìŠ¤í„´ìŠ¤ì— hostì— ë§ˆìš´íŒ…ëœ ê²½ë¡œë¥¼ ë‹¤ì‹œ ë§ˆìš´íŠ¸í•œë‹¤.&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img1.png"
width="1153"
height="917"
srcset="https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img1_hu_4f5e076430a1b681.png 480w, https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img1_hu_a9defccfd292535d.png 1024w"
loading="lazy"
alt="ì„œë²„ êµ¬ì„±ë„"
class="gallery-image"
data-flex-grow="125"
data-flex-basis="301px"
>&lt;/p>
&lt;h2 id="í™˜ê²½-ì„¤ì •í•˜ê¸°">í™˜ê²½ ì„¤ì •í•˜ê¸°
&lt;/h2>&lt;h3 id="disk-format">Disk Format
&lt;/h3>&lt;p>DASì— ìˆëŠ” HDDëŠ” 4TBë¡œ 1TB, 1TB, 1.8TBë¡œ íŒŒí‹°ì…”ë‹í–ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ë””ìŠ¤í¬ í¬ë§· ë° íŒŒí‹°ì…”ë‹ì€ &lt;a class="link" href="https://zero-gravity.tistory.com/297" target="_blank" rel="noopener"
>ë¬´ì¤‘ë ¥ ì¸ê°„ë‹˜ì˜ ë¸”ë¡œê·¸&lt;/a>ë¥¼ ì°¸ê³ í•˜ì.&lt;/p>&lt;/blockquote>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img2.png"
width="673"
height="98"
srcset="https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img2_hu_f6d472c1915d046e.png 480w, https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img2_hu_cd241824df23d7c2.png 1024w"
loading="lazy"
alt="íŒŒí‹°ì…˜ ì •ë³´"
class="gallery-image"
data-flex-grow="686"
data-flex-basis="1648px"
>&lt;/p>
&lt;p>ë¶€íŒ…ë ë•Œë§ˆë‹¤ ìë™ ë§ˆìš´íŒ…ì´ ë  ìˆ˜ ìˆë„ë¡ &lt;a class="link" href="https://guide.ncloud-docs.com/docs/server-ts-fstab-vpc" target="_blank" rel="noopener"
>fstab íŒŒì¼ì„ ìˆ˜ì •&lt;/a>í–ˆë‹¤.&lt;/p>
&lt;h3 id="ë¬¸ì œ1-uuidê°€-ì—†ëŠ”-ê²½ìš°">ë¬¸ì œ1. UUIDê°€ ì—†ëŠ” ê²½ìš°
&lt;/h3>&lt;p>ext4ë¡œ í¬ë§·ì´ ì•ˆëœê²½ìš° PARTITION UUIDë§Œ ìˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ &lt;code>mkfs.ext4&lt;/code> ë¥¼ í™œìš©í•˜ì—¬ ext4ë¥¼ í¬ë§·ì‹œí‚¤ì.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img3.png"
width="577"
height="212"
srcset="https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img3_hu_fdf3c3eaa542e4b3.png 480w, https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img3_hu_d2211c90a3af10aa.png 1024w"
loading="lazy"
alt="ext4 í¬ë§·ì´ ì™„ì „íˆ ì•ˆëœ ê²½ìš°"
class="gallery-image"
data-flex-grow="272"
data-flex-basis="653px"
>&lt;/p>
&lt;h3 id="ë¬¸ì œ-2-emergency-mode">ë¬¸ì œ 2. Emergency Mode
&lt;/h3>&lt;p>fsatabë¥¼ ì˜ëª» ì„¤ì •í•˜ë©´ LinuxëŠ” ìµœì†Œí•œì˜ ê¶Œí•œë§Œ ì œê³µí•˜ëŠ” emergency modeë¡œ ë„ì…í•˜ê²Œ ëœë‹¤. fstab íŒŒì¼ì„ ì ì ˆí•˜ê²Œ ê¸°ì…í•˜ì.&lt;/p>
&lt;h2 id="nfs-ì„¤ì¹˜í•˜ê¸°">NFS ì„¤ì¹˜í•˜ê¸°
&lt;/h2>&lt;h3 id="nfs-multipass-mounting">NFS Multipass mounting
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">multipass mount /mnt/das/vol1 nfs:/nfs/vol1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img4.png"
width="431"
height="235"
srcset="https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img4_hu_2dd8060bcbfc8d60.png 480w, https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img4_hu_3e557e4bf878d913.png 1024w"
loading="lazy"
alt="nfs multipass ì •ë³´"
class="gallery-image"
data-flex-grow="183"
data-flex-basis="440px"
>&lt;/p>
&lt;h3 id="nfs-server-ì„¤ì¹˜">NFS Server ì„¤ì¹˜
&lt;/h3>&lt;p>NFS multipass Instance ë‚´ì— NFS ì„œë²„ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•˜ì. ì„¤ì •ì€ &lt;a class="link" href="https://heartsavior.medium.com/%ED%98%B8%EC%8A%A4%ED%8A%B8-%EC%84%9C%EB%B2%84-ubuntu-20-04-%EC%97%90-nfs-%EB%A5%BC-%EC%84%A4%EC%A0%95%ED%95%98%EA%B3%A0-spark-on-kubernetes-%EC%97%90%EC%84%9C-%EB%8F%99%EC%A0%81%EC%9C%BC%EB%A1%9C-%EB%B3%BC%EB%A5%A8%EC%9D%84-%ED%95%A0%EB%8B%B9%EB%B0%9B%EA%B8%B0-6c80bc71e6ed" target="_blank" rel="noopener"
>Jung-taek Limë‹˜ì˜ ë¸”ë¡œê·¸&lt;/a>ë¥¼ ì°¸ê³ í–ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt-get install nfs-common nfs-kernel-server rpcbind portmap
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> nfs-kernel-server
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl start nfs-kernel-server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ë„¤íŠ¸ì›Œí¬ ë²”ìœ„ë¥¼ 10.120.52.0/24ë¡œ ì§€ì •í–ˆëŠ”ë°, ì´ëŠ” multipass instanceê°€ &lt;code>10.120.52.0/24&lt;/code> ë²”ìœ„ ë‚´ì— ìˆê¸° ë•Œë¬¸ì´ë‹¤.&lt;/p>
&lt;p>mulitpassì—ì„œ ì‚¬ìš©ë˜ëŠ” ë„¤íŠ¸ì›Œí¬ ë“œë¼ì´ë¸Œë¥¼ ë³´ë©´ qemuë¥¼ ì‚¬ìš©í•œë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img6.png"
width="415"
height="47"
srcset="https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img6_hu_57abf956a8cddf30.png 480w, https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img6_hu_6d83b1742a784f6b.png 1024w"
loading="lazy"
alt="multipass driver í™•ì¸"
class="gallery-image"
data-flex-grow="882"
data-flex-basis="2119px"
>&lt;/p>
&lt;p>ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë³´ë©´ ì‚¬ìš©ê°€ëŠ¥í•œ IP ë²”ìœ„ëŠ” &lt;code>10.120.52.0/24&lt;/code> ì„ì„ ì•Œ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img7.png"
width="627"
height="161"
srcset="https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img7_hu_7886d31d3e600245.png 480w, https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img7_hu_803e59ea62f087b1.png 1024w"
loading="lazy"
alt="Network Interface í™•ì¸"
class="gallery-image"
data-flex-grow="389"
data-flex-basis="934px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo mkdir -p /nfs/vol1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo chown nobody:nogroup /nfs/vol1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># nfsê°€ ê³µìœ í•  ìˆ˜ ìˆëŠ” ë„¤íŠ¸ì›Œí¬ ì„¤ì •&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo vim /etc/exports/nfs/vol1 10.120.52.0/24&lt;span class="o">(&lt;/span>rw,sync,no_subtree_check,no_root_squash&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ìœ„ì˜ ì„¤ì • ë°˜ì˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo exportfs -r
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ë§ˆìŠ¤í„° ë…¸ë“œì— showmountí•˜ì—¬ NFSê°€ ì œëŒ€ë¡œ ì‘ë™ë˜ì—ˆëŠ”ì§€ í™•ì¸í–ˆì„ë•Œ ì•„ë˜ì™€ ê°™ì´ export listê°€ ì˜ ë³´ì—¬ì§€ë©´ ëœë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img8.png"
width="533"
height="68"
srcset="https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img8_hu_7b65f564bbd46654.png 480w, https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img8_hu_975226d256c93c6c.png 1024w"
loading="lazy"
alt="Show mount ì •ë³´"
class="gallery-image"
data-flex-grow="783"
data-flex-basis="1881px"
>&lt;/p>
&lt;h2 id="dynamic-provisioner">Dynamic Provisioner
&lt;/h2>&lt;p>ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ìŠ¤í† ë¦¬ì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì„ ìƒê°í•´ë³´ì. ì „ì—­ì ì¸ ë°ì´í„° ìŠ¤í† ë¦¬ì§€ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œëŠ” [[D K8S- Pod|Pod]]ë¥¼ ìƒì„±í• ë•Œ PVCë¥¼ ìƒì„±í•˜ì—¬, ê´€ë¦¬ìê°€ ìƒì„±í•œ PVì™€ ì—°ê²°í•˜ê²Œ ëœë‹¤. ê·¸ëŸ¬ë‚˜ íŒŒë“œë¥¼ ìƒì„±í• ë•Œë§ˆë‹¤ PV, PVCë¥¼ ë§Œë“¤ì–´ì„œ ìŠ¤í† ë¦¬ì§€ì— ì ‘ê·¼í•´ì•¼ í•œë‹¤. ì´ì™€ ê°™ì´ ë²ˆê±°ë¡œì›€ì„ í•´ê²°í•˜ê³ ì ìë™ìœ¼ë¡œ ë³¼ë¥¨ì„ ìƒì„±í•´ì£¼ëŠ” Dynamic Provisionerë¥¼ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.&lt;/p>
&lt;p>ProvisionerëŠ” &lt;a class="link" href="https://github.com/kubernetes-sigs/nfs-subdir-external-provisioner#with-helm" target="_blank" rel="noopener"
>kubernetes-sigs Githubì— ìˆëŠ” nfs-subdir-external-provisioner&lt;/a>ë¥¼ ì‚¬ìš©í–ˆë‹¤.&lt;/p>
&lt;p>ìœ„ì˜ íŒŒì¼ì„ ì ì ˆí•˜ê²Œ ì„¤ì •í•˜ê²Œ testë¥¼ ì‹¤í–‰ì‹œí‚¤ë©´, ì•„ë˜ì™€ ê°™ì´ pvcê°€ ë§Œë“¤ì–´ì§€ê²Œ ëœë‹¤. ë˜í•œ íŒŒë“œë¥¼ ì‚­ì œí•˜ê²Œ ë˜ë©´ ìë™ìœ¼ë¡œ pvcê°€ ì‚­ì œë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img9.png"
width="958"
height="154"
srcset="https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img9_hu_f0518911e66c1ff.png 480w, https://s0okju.github.io/p/server-setup-nfs-in-multipass-instance/img9_hu_16bf5558f02f00f6.png 1024w"
loading="lazy"
alt="DASì— ì €ì¥ëœ ë°ì´í„° í™•ì¸"
class="gallery-image"
data-flex-grow="622"
data-flex-basis="1492px"
>&lt;/p>
&lt;h2 id="ì°¸ê³ ">ì°¸ê³ 
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://gruuuuu.github.io/cloud/k8s-volume/" target="_blank" rel="noopener"
>https://gruuuuu.github.io/cloud/k8s-volume/&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://do-hansung.tistory.com/57" target="_blank" rel="noopener"
>https://do-hansung.tistory.com/57&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://1week.tistory.com/114" target="_blank" rel="noopener"
>https://1week.tistory.com/114&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>ì„œë²„ êµ¬ì¶•ê¸° - 1. ì¿ ë²„ë„¤í‹°ìŠ¤ ë©€í‹° ë…¸ë“œ í™˜ê²½ êµ¬ì„±í•˜ê¸°</title><link>https://s0okju.github.io/p/server-setup-multinode-kubernetes/</link><pubDate>Fri, 12 Jul 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/server-setup-multinode-kubernetes/</guid><description>&lt;p>ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ë¥¼ ì§ì ‘ ìš´ì˜í•˜ê¸° ìœ„í•´ ì„œë²„ë¥¼ êµ¬ì¶•í•˜ê¸°ë¡œ ê²°ì‹¬í–ˆë‹¤. ê·¸ë˜ì„œ ê¸°ì¡´ì— ìˆëŠ” Windows ë°ìŠ¤í¬í†±ì„ ubuntu 20.04 ì„œë²„ í™˜ê²½ìœ¼ë¡œ ì„¸íŒ…í–ˆë‹¤.&lt;/p>
&lt;h2 id="rtl8125-ì˜¤ë¥˜">RTL8125 ì˜¤ë¥˜
&lt;/h2>&lt;p>ì—¬ê¸°ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤. LAN ì¹´ë“œ ì •ë³´ í™•ì¸ ê²°ê³¼, ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ê°€ ì œëŒ€ë¡œ ì¸ì‹ë˜ì§€ ì•Šì•˜ë˜ ê²ƒì´ì—ˆë‹¤. ëœì¹´ë“œê°€ RTL8125ì˜ ê²½ìš°ì—ëŠ” ë³„ë„ì˜ ë“œë¼ì´ë²„ ì„¤ì¹˜ê°€ í•„ìš”í–ˆë‹¤. í•˜ë‚˜ì˜ ëª¨ìˆœì´ ìƒê²¼ë‹¤. ìš°ë¦¬ê°€ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í• ë•ŒëŠ” ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì´ í•„ìˆ˜ì§€ë§Œ, ë„¤íŠ¸ì›Œí¬ì— ë¬¸ì œê°€ ìƒê²¨ ì™¸ë¶€ íŒ¨í‚¤ì§€ë¥¼ ë‹¤ìš´ë°›ì„ ìˆ˜ ì—†ë˜ ê²ƒì´ì—ˆë‹¤.
ë¬¼ë¡  í•´ê²°ì±…ì´ ì—†ë˜ ê²ƒì´ ì•„ë‹ˆì˜€ë‹¤.&lt;/p>
&lt;ul>
&lt;li>ì•ˆë“œë¡œì´ë“œ í°ì„ ì´ìš©í•´ tetheringí•´ì„œ ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ ì‹œí‚¤ê³  í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/li>
&lt;li>20.04 ì€ ì»¤ë„ ë²„ì „ì„ 5.4ë¥¼ ì“°ëŠ”ë° ì´ ë²„ì „ì—ì„œ LANì´ ì¸ì‹ì´ ì•ˆë¼ 5.8 ì´ìƒ ë²„ì „ì„ ì„¤ì¹˜ &lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>&lt;/li>
&lt;/ul>
&lt;p>ìŠ¬í”„ê²Œë„ ë‚˜ëŠ” ë‘ ë°©ë²•ì— ì‹¤íŒ¨í•˜ê²Œ ë˜ì—ˆê³  &lt;strong>22.04LTSë¥¼ ì„¤ì¹˜&lt;/strong>í•˜ê²Œ ë˜ì—ˆë‹¤. ê·¸ë¦¬ê³  ê¹”ë”í•˜ê²Œ ì„±ê³µí–ˆë‹¤.&lt;/p>
&lt;h2 id="êµ¬ì¶•">êµ¬ì¶•
&lt;/h2>&lt;p>ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ êµ¬ì¶• ìì²´ëŠ” ìƒê°ë³´ë‹¤ ê°„ë‹¨í•˜ì§€ë§Œ ìƒì—… í™˜ê²½ì—ì„œ ì•ˆì „í•˜ê³  ê°€ìš©ì„± ìˆê²Œ ì§€ì†ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì€ ì–´ë µë‹¤. ê·¸ë˜ì„œ ìì²´ í˜¸ìŠ¤íŒ…í•˜ëŠ” ê²ƒì€ ê¶Œì¥í•˜ì§€ ì•ŠëŠ”ë‹¤ê³  í•œë‹¤. &lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>&lt;/p>
&lt;p>ê·¸ëŸ¬ë‚˜ êµìœ¡ì˜ ê´€ì ì—ì„œëŠ” ìì²´ í˜¸ìŠ¤íŒ…í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì¢‹ì€ ì„ íƒì´ë¼ê³  ìƒê°í•œë‹¤. í¼ë¸”ë¦­ í´ë¼ìš°ë“œë¥¼ ì‚¬ìš©í•˜ë‹¤ê°€ ìš”ê¸ˆì„ í­íƒ„ë§ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.&lt;/p>
&lt;h3 id="multipass-ì„ íƒí•œ-ì´ìœ ">Multipass ì„ íƒí•œ ì´ìœ 
&lt;/h3>&lt;p>ë¦¬ëˆ…ìŠ¤ ê¸°ë°˜ ê°€ìƒ ë¨¸ì‹ ì€ ì„ íƒì§€ê°€ ìƒê°ë³´ë‹¤ ë‹¤ì–‘í•˜ê²Œ ìˆë‹¤. ë‚˜ëŠ” vagrant, multipass ì¤‘ì—ì„œ ê³ ë¯¼í–ˆë‹¤. Multipassë¥¼ ì„ íƒí•œ ì´ìœ ëŠ” ì‚¬ìš©í•˜ê¸° ì‰¬ì›Œì„œì´ë‹¤.&lt;/p>
&lt;p>vagrantì˜ ì¥ì ì€ ë‹¤ì–‘í•œ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ì ê³¼ Vagrantfileë¥¼ í†µí•´ ìë™í™” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤ëŠ” ì ì´ì—ˆë‹¤. í•˜ì§€ë§Œ ë‹¨ì ì´ ì¡´ì¬í–ˆëŠ”ë°, ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì§œëŠ” ë²•ì„ ì•Œì•„ì•¼í•œë‹¤ëŠ” ì ê³¼ ë‚´ê°€ ì¿ ë²„ë„¤í‹°ìŠ¤ êµ¬ì¶•í•˜ëŠ” ì „ë°˜ì ì¸ ë°©ì‹ì„ ì´í•´í•˜ì§€ ëª»í•´ ë””ë²„ê¹… í•˜ì§€ ëª»í•œë‹¤ëŠ” ê²ƒì´ì—ˆë‹¤. ì‹¤ì œë¡œ ê¹ƒí—ˆë¸Œì˜ ì˜¤í”ˆì†ŒìŠ¤ë¥¼ cloneí•´ì„œ êµ¬ì„±í•´ë´¤ëŠ”ë°, ë„¤íŠ¸ì›Œí¬ í• ë‹¹ì´ ì œëŒ€ë¡œ ë˜ì§€ ì•Šì•„ ë§ì€ ì‹œê°„ì„ ì“°ê¸°ë„ í–ˆë‹¤.&lt;/p>
&lt;p>multipassëŠ” Canonicalì—ì„œ ë§Œë“¤ì—ˆìœ¼ë©° Ubuntuì˜ ê°€ìƒí™”í™˜ê²½(VM)ì„ ì‰½ê²Œ êµ¬ì„±í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ë„êµ¬&lt;sup id="fnref:4">&lt;a href="#fn:4" class="footnote-ref" role="doc-noteref">4&lt;/a>&lt;/sup>ì´ë‹¤. ì¦‰ ìš°ë¶„íˆ¬ ë³´ê¸‰ì‚¬ê°€ ë§Œë“  ê°€ìƒí™˜ê²½ì´ë¼ê³  ë³´ë©´ ëœë‹¤. ìš°ë¶„íˆ¬ ì™¸ì˜ ë¦¬ëˆ…ìŠ¤ë¥¼ ì¨ì•¼í•œë‹¤ë©´ multipassëŠ” ì¢‹ì€ ì„ íƒì§€ëŠ” ì•„ë‹ˆì§€ë§Œ centOS Linuxê°€ ë”ì´ìƒ ì§€ì›ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì &lt;sup id="fnref:5">&lt;a href="#fn:5" class="footnote-ref" role="doc-noteref">5&lt;/a>&lt;/sup>ì—ì„œ ì“¸ ìˆ˜ ìˆëŠ” ê±´ ìš°ë¶„íˆ¬ ë°–ì— ì—†ëŠ” ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;h3 id="ì¿ ë² ë„¤í‹°ìŠ¤-êµ¬ì„±">ì¿ ë² ë„¤í‹°ìŠ¤ êµ¬ì„±
&lt;/h3>&lt;p>ìì„¸í•œ ì„¤ì¹˜ëŠ” &lt;a class="link" href="https://enumclass.tistory.com/261" target="_blank" rel="noopener"
>enumclass tistory&lt;/a>ë¥¼ ì°¸ê³ í–ˆë‹¤.&lt;/p>
&lt;h3 id="calico-ì„ íƒí•œ-ì´ìœ ">Calico ì„ íƒí•œ ì´ìœ 
&lt;/h3>&lt;p>CNI í”ŒëŸ¬ê·¸ì¸ì—ì„œ ê°€ì¥ ëŒ€ì¤‘ì ìœ¼ë¡œ ì“°ì´ëŠ” ê²ƒì€ &lt;a class="link" href="https://docs.tigera.io/calico/latest/getting-started/kubernetes/quickstart" target="_blank" rel="noopener"
>Calico&lt;/a>ì´ë‹¤. CNI í”ŒëŸ¬ê·¸ì¸ ë²¤ì¹˜ë§ˆí¬ë¥¼ ë³´ë©´ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ë¥ ì´ë‚˜, ì†ë„ ì¸¡ë©´ì—ì„œ Calicoê°€ ìš°ìˆ˜í•œ í¸ì´ë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-setup-multinode-kubernetes/img1.png"
width="1920"
height="521"
srcset="https://s0okju.github.io/p/server-setup-multinode-kubernetes/img1_hu_c39ce88bace82fc6.png 480w, https://s0okju.github.io/p/server-setup-multinode-kubernetes/img1_hu_e4c3d9995e2cdda5.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://itnext.io/benchmark-results-of-kubernetes-network-plugins-cni-over-10gbit-s-network-updated-august-2020-6e1b757b9e49"
class="gallery-image"
data-flex-grow="368"
data-flex-basis="884px"
>&lt;/p>
&lt;p>CNIì˜ íŠ¹ì§•ì€ Podì— IPë¥¼ í• ë‹¹í•œë‹¤. ì´ëŸ¬í•œ íŠ¹ì§•ì´ ëŒ€ê·œëª¨ í™˜ê²½ì—ì„œëŠ” IP ë¶€ì¡±ìœ¼ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆë‹¤. &lt;sup id="fnref:6">&lt;a href="#fn:6" class="footnote-ref" role="doc-noteref">6&lt;/a>&lt;/sup> ê·¸ëŸ¬ë‚˜ ì†Œê·œëª¨ í”„ë¡œì íŠ¸ëŠ” ë§ì€ podë¥¼ ìƒì„±í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ IPëŠ” ë¶€ì¡±í•˜ì§€ ì•Šì„ ê²ƒì´ë‹¤.&lt;/p>
&lt;h2 id="ê²°ê³¼">ê²°ê³¼
&lt;/h2>&lt;p>10.120.52.x IPëŠ” multipass instanceì˜ IPì´ê³ , 192.168.x.xëŠ” calicoì˜ IPì´ë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-setup-multinode-kubernetes/img2.png"
width="705"
height="192"
srcset="https://s0okju.github.io/p/server-setup-multinode-kubernetes/img2_hu_156a281ea8b2dfb3.png 480w, https://s0okju.github.io/p/server-setup-multinode-kubernetes/img2_hu_171765a0309d4d10.png 1024w"
loading="lazy"
alt="Multipass Instance IP"
class="gallery-image"
data-flex-grow="367"
data-flex-basis="881px"
>&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-setup-multinode-kubernetes/img3.png"
width="1213"
height="960"
srcset="https://s0okju.github.io/p/server-setup-multinode-kubernetes/img3_hu_57f39bcc386db3ad.png 480w, https://s0okju.github.io/p/server-setup-multinode-kubernetes/img3_hu_cbd0b6b91efb4ddc.png 1024w"
loading="lazy"
alt="ì¿ ë²„ë„¤í‹°ìŠ¤ êµ¬ì„±ë„"
class="gallery-image"
data-flex-grow="126"
data-flex-basis="303px"
>&lt;/p>
&lt;p>ì‹¤ì œë¡œ íŒŒë“œë¥¼ ìƒì„±í•´ ì‹¤í–‰ì‹œì¼œ ë³´ë©´ ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-setup-multinode-kubernetes/img4.png"
width="856"
height="643"
srcset="https://s0okju.github.io/p/server-setup-multinode-kubernetes/img4_hu_1fa5215ed6faa70.png 480w, https://s0okju.github.io/p/server-setup-multinode-kubernetes/img4_hu_65cf92db79dd599d.png 1024w"
loading="lazy"
alt="nginx íŒŒë“œ ìƒì„± ê²°ê³¼"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="319px"
>&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://physical-world.tistory.com/56" target="_blank" rel="noopener"
>https://physical-world.tistory.com/56&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://romillion.tistory.com/96" target="_blank" rel="noopener"
>https://romillion.tistory.com/96&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ í™œìš©í•œ í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ë°ë¸Œì˜µìŠ¤, ì¡´ ì–´ë Œë“¤, ì €ìŠ¤í‹´ ë„ë°ê±°ìŠ¤ ì§€ìŒ, í•œë¹› ë¯¸ë””ì–´&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:4">
&lt;p>&lt;a class="link" href="https://kim-dragon.tistory.com/176" target="_blank" rel="noopener"
>https://kim-dragon.tistory.com/176&lt;/a>&amp;#160;&lt;a href="#fnref:4" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:5">
&lt;p>&lt;a class="link" href="https://arstechnica.com/gadgets/2020/12/centos-shifts-from-red-hat-unbranded-to-red-hat-beta/" target="_blank" rel="noopener"
>https://arstechnica.com/gadgets/2020/12/centos-shifts-from-red-hat-unbranded-to-red-hat-beta/&lt;/a>&amp;#160;&lt;a href="#fnref:5" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:6">
&lt;p>&lt;a class="link" href="https://dobby-isfree.tistory.com/201" target="_blank" rel="noopener"
>https://dobby-isfree.tistory.com/201&lt;/a>&amp;#160;&lt;a href="#fnref:6" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>ê·¸ ë§ì€ ì„œë²„ ë””ìŠ¤í¬ ìš©ëŸ‰ì„ ëˆ„ê°€ ì¡ì•„ ë¨¹ì—ˆëŠ”ê°€?</title><link>https://s0okju.github.io/p/server-management-disk-1/</link><pubDate>Tue, 28 May 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/server-management-disk-1/</guid><description>&lt;p>Multipassë¥¼ êµ¬ë™í•˜ë ¤ê³  í•˜ëŠ” ì¤‘ ë””ìŠ¤í¬ ìš©ëŸ‰ì´ ê½‰ì°¼ë‹¤ëŠ” ë©”ì„¸ì§€ë¥¼ ì–»ê²Œ ë˜ì—ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">cannot create temporary directory for the root file system: No space left on device
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì„œë²„ì—ì„œ ì‚¬ìš©ì¤‘ì¸ SSDëŠ” 1TBì¸ë° 5ê°œì˜ Multipass ì¸ìŠ¤í„´ìŠ¤ë¡œ ë‹¤ ì°¬ë‹¤ëŠ” ê²ƒì€ ë§ì´ ë˜ì§€ ì•Šì•˜ë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-management-disk-1/img1.png"
width="752"
height="206"
srcset="https://s0okju.github.io/p/server-management-disk-1/img1_hu_bfddb805cd3a384e.png 480w, https://s0okju.github.io/p/server-management-disk-1/img1_hu_3df0d2e23adb097b.png 1024w"
loading="lazy"
alt="df -h ê²°ê³¼"
class="gallery-image"
data-flex-grow="365"
data-flex-basis="876px"
>&lt;/p>
&lt;p>ì‹¤ì œ í•˜ë“œì›¨ì–´ ìƒì—ì„œ ë¶€ì°©ëœ ìš©ëŸ‰ê³¼ ubuntu lvmì—ì„œ ì‚¬ìš©ë˜ëŠ” ìµœëŒ€ ìš©ëŸ‰ì´ ë‹¬ëë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì´ ìš©ëŸ‰ì„ ì ì ˆí•˜ê²Œ ì¡°ì ˆí•´ì•¼ í•œë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-management-disk-1/img2.png"
width="690"
height="115"
srcset="https://s0okju.github.io/p/server-management-disk-1/img2_hu_7a8a582ccd866cae.png 480w, https://s0okju.github.io/p/server-management-disk-1/img2_hu_150efb3957288be.png 1024w"
loading="lazy"
alt="lsblk ê²°ê³¼"
class="gallery-image"
data-flex-grow="600"
data-flex-basis="1440px"
>&lt;/p>
&lt;h2 id="í•´ê²°">í•´ê²°
&lt;/h2>&lt;p>LVì˜ ìš©ëŸ‰ì„ VGì˜ í¬ê¸°ë§Œí¼ ì¡°ì ˆí•œë‹¤. &lt;a class="link" href="https://askubuntu.com/questions/1106795/ubuntu-server-18-04-lvm-out-of-space-with-improper-default-partitioning" target="_blank" rel="noopener"
>Stack Exchange&lt;/a>ì—ì„œ ìš”êµ¬í•œëŒ€ë¡œ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ í•´ê²°ëœë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lvm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lvm&amp;gt; lvextend -l +100%FREE /dev/ubuntu-vg/ubuntu-lv
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lvm&amp;gt; &lt;span class="nb">exit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">resize2fs /dev/ubuntu-vg/ubuntu-lv
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ìì„¸í•˜ê²Œ ë´ë³´ì. ubuntu-vgëŠ” SSDì˜ ìš©ëŸ‰ë§Œí¼ ì ì ˆí•˜ê²Œ í• ë‹¹ ë°›ì•˜ë‹¤. ê·¸ëŸ¬ë‚˜ Alloc PEë¥¼ ë³´ë©´ 100 GB ë°–ì— ë‚¨ì§€ ì•Šì•˜ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-management-disk-1/img3.png"
width="640"
height="466"
srcset="https://s0okju.github.io/p/server-management-disk-1/img3_hu_d8be1a9972764812.png 480w, https://s0okju.github.io/p/server-management-disk-1/img3_hu_593cde591a0a8c2b.png 1024w"
loading="lazy"
alt="vgdisplay ê²°ê³¼"
class="gallery-image"
data-flex-grow="137"
data-flex-basis="329px"
>&lt;/p>
&lt;p>&lt;code>lvdisplay&lt;/code>ë¡œ lvë¥¼ í™•ì¸í•´ë³´ë©´ ubuntu-lvê°€ 100GBë¡œ í• ë‹¹ë˜ì—ˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-management-disk-1/img4.png"
width="406"
height="50"
srcset="https://s0okju.github.io/p/server-management-disk-1/img4_hu_9fae2dac11c10c6c.png 480w, https://s0okju.github.io/p/server-management-disk-1/img4_hu_e6eaa65ee67de668.png 1024w"
loading="lazy"
alt="lvdisplay ê²°ê³¼"
class="gallery-image"
data-flex-grow="812"
data-flex-basis="1948px"
>&lt;/p>
&lt;p>ì—¬ê¸°ì„œ LVM(Logical Volume Manager)ì˜ ê°œë…ì„ ì•Œì•„ì•¼ í•˜ëŠ”ë°, íŒŒì¼ ì‹œìŠ¤í…œì— ì¶”ìƒí™” ê³„ì¸µì„ ì¶”ê°€í•˜ì—¬ ë…¼ë¦¬ì  ìŠ¤í† ë¦¬ì§€ë¥¼ ìƒì„±í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-management-disk-1/img5.png"
width="720"
height="671"
srcset="https://s0okju.github.io/p/server-management-disk-1/img5_hu_53fa4e24073d1a81.png 480w, https://s0okju.github.io/p/server-management-disk-1/img5_hu_4f1eb9bac622877f.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://medium.com/@yhakimi/lvm-how-to-create-and-extend-a-logical-volume-in-linux-9744f27eacfe"
class="gallery-image"
data-flex-grow="107"
data-flex-basis="257px"
>&lt;/p>
&lt;p>ì €ìì˜ í™˜ê²½ì—ì„œëŠ” Root LVê°€ 100GBë¡œë§Œ í• ë‹¹ë˜ì–´ ìˆì–´, í•˜ë“œ ë””ìŠ¤í¬ì˜ ìš©ëŸ‰ ë§Œí¼ ì‚¬ìš©í•  ìˆ˜ ì—†ì—ˆë˜ ê²ƒì´ì—ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/server-management-disk-1/img6.png"
width="305"
height="375"
srcset="https://s0okju.github.io/p/server-management-disk-1/img6_hu_d2fcb7f6eed75cc4.png 480w, https://s0okju.github.io/p/server-management-disk-1/img6_hu_a8511e0bd8cb7e8d.png 1024w"
loading="lazy"
alt="VG, LV ê´€ê³„ë„"
class="gallery-image"
data-flex-grow="81"
data-flex-basis="195px"
>&lt;/p>
&lt;p>í˜„ì¬ í™˜ê²½ì—ì„œëŠ” í•˜ë‚˜ì˜ ë¬¼ë¦¬ ë””ìŠ¤í¬ë§Œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì„¤ì •í•˜ëŠ”ë° ë³µì¡í•œ ê²ƒì€ ì—†ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì¶”ê°€ì ìœ¼ë¡œ ubuntu-vgì— lvë¥¼ ì¶”ê°€í•˜ì§€ ì•ŠëŠ” í•œ Root lvë¥¼ vg í¬ê¸°ë§Œí¼ ì‚¬ì´ì¦ˆë¥¼ í‚¤ìš°ë©´ ëœë‹¤.&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://tech.cloud.nongshim.co.kr/2018/11/23/lvmlogical-volume-manager-1-%EA%B0%9C%EB%85%90/" target="_blank" rel="noopener"
>https://tech.cloud.nongshim.co.kr/2018/11/23/lvmlogical-volume-manager-1-%EA%B0%9C%EB%85%90/&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Entgo - Ent ORM</title><link>https://s0okju.github.io/p/entgo-1/</link><pubDate>Wed, 22 May 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/entgo-1/</guid><description>&lt;h2 id="orm-ì„ íƒ">ORM ì„ íƒ
&lt;/h2>&lt;p>Goì˜ ê²½ìš°ì—ëŠ” JAVAì™€ ë‹¬ë¦¬ ëŒ€í‘œì ì¸ ORM í”„ë ˆì„ì›Œí¬ê°€ ì—†ì–´, ê°œë°œìê°€ ì§ì ‘ ì„ íƒí•´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ë‹¤ì–‘í•œ Go ORM í”„ë ˆì„ì›Œí¬ ìˆœìœ„ë¥¼ ì•Œê³  ì‹¶ë‹¤ë©´ &lt;a class="link" href="https://ossinsight.io/collections/golang-orm/" target="_blank" rel="noopener"
>OSS Insight&lt;/a> ë¥¼ ì°¸ê³ í•˜ê¸¸ ë°”ë€ë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>ê¸°ë³¸ì ìœ¼ë¡œ mysql driver ì‚¬ìš©ì„ ìƒê°í–ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì •êµí•œ ì €ìˆ˜ì¤€ì˜ ì¿¼ë¦¬ë¥¼ ë‹¤ë£¨ëŠ” ê²ƒì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ORMë¥¼ ì ê·¹ì ìœ¼ë¡œ í™œìš©í•˜ê³  ì‹¶ì—ˆë‹¤.&lt;/p>
&lt;h3 id="ì¡°ê±´">ì¡°ê±´
&lt;/h3>&lt;ul>
&lt;li>ê¹”ë”í•œ ë„ë©”ì¸ ì •ì˜&lt;/li>
&lt;li>ì—¬ëŸ¬ ì¢…ë¥˜ì˜ DB ì§€ì›&lt;/li>
&lt;li>ì»´íŒŒì¼ ë ˆë²¨ì—ì„œ ë””ë²„ê¹… ê°€ëŠ¥&lt;/li>
&lt;/ul>
&lt;h2 id="ent">Ent
&lt;/h2>&lt;p>&lt;a class="link" href="https://entgo.io/docs/getting-started/" target="_blank" rel="noopener"
>Ent&lt;/a>ë€ Facebookì—ì„œ ê°œë°œí•œ Go ORMì´ë‹¤. ê³µì‹ ì„¤ëª…ì— ì˜í•˜ë©´ ê·¸ë˜í”„ êµ¬ì¡°ì˜ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©°, ì½”ë“œ ìƒì„±ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ì •ì  íƒ€ì´í•‘ì„ ì§€ì›í•œë‹¤.&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup> ì´ëŠ” ìœ„ì—ì„œ ë§í•œ ì¡°ê±´ì— ì–´ëŠ ì •ë„ ì¶©ì¡±ì´ ëœë‹¤.&lt;/p>
&lt;p>ë‹¤ë§Œ entëŠ” ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì— ì í•©í•˜ë©° NoSQL ê¸°ë°˜ ë°ì´í„°ë² ì´ìŠ¤ì—ëŠ” ì í•©í•˜ì§€ ì•Šì•˜ë‹¤.&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup> ORM ì„ íƒ ì¡°ê±´ì—ëŠ” ë¶€í•©í•˜ì§€ ì•Šì•˜ìœ¼ë‚˜ ëŒ€ë¶€ë¶„ì˜ ORMì´ RDB ìœ„ì£¼ë¡œ ì§€ì›í•œë‹¤ëŠ” ê²ƒ&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>ì„ ê°ì•ˆí–ˆì„ë•Œ entì€ RDB ì‚¬ìš© ì‹œ ê´œì°®ì€ ì„ íƒì´ë¼ê³  ìƒê°í•œë‹¤.&lt;/p>
&lt;p>ì´ˆë°˜ì— Gorm ì‚¬ìš©ë„ ê³ ë ¤í–ˆë‹¤. ê·¸ëŸ¬ë‚˜ ëª¨ë¸ì„ ì •ì˜í•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” &lt;code>struct tag&lt;/code> ëŠ” ê°œì¸ì ìœ¼ë¡œ ê°€ë…ì„±ì´ ì¢‹ì§€ ì•Šë‹¤ëŠ” ì¸ìƒì´ ë“¤ì—ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">Model&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ID&lt;/span> &lt;span class="kt">uint&lt;/span> &lt;span class="s">`gorm:&amp;#34;primaryKey&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">CreatedAt&lt;/span> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Time&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">UpdatedAt&lt;/span> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Time&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">DeletedAt&lt;/span> &lt;span class="nx">gorm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">DeletedAt&lt;/span> &lt;span class="s">`gorm:&amp;#34;index&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ì²«ì¸ìƒ">ì²«ì¸ìƒ
&lt;/h2>&lt;p>ORM ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ schemaë¥¼ ë³¸ ìˆœê°„ ê·¸ë˜í”„ ë°ì´í„°ë² ì´ìŠ¤ì¸ ì¤„ ì•Œì•˜ë‹¤. ê³¼ê±°ì— Neo4j&lt;sup id="fnref:4">&lt;a href="#fn:4" class="footnote-ref" role="doc-noteref">4&lt;/a>&lt;/sup>ë¼ëŠ” ê·¸ë˜í”„ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•´ë³¸ ì ì´ ìˆëŠ”ë°, ì´ ë…¸ë“œ, ê·¸ë˜í”„ë¥¼ ë³„ë„ë¡œ ì •ì˜í•´ì„œ êµ¬í˜„í•œ ì ì´ ìƒë‹¹íˆ ìœ ì‚¬í–ˆê¸° ë•Œë¬¸ì´ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">Task&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Schema&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Fields of the Task.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">Task&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Fields&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Field&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Field&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">field&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">field&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;title&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">field&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;total_status&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">field&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Time&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;created_at&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nf">Default&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Now&lt;/span>&lt;span class="p">()),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">field&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Time&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;modified_at&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nf">Default&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Now&lt;/span>&lt;span class="p">()),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Edges of the Task.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">Task&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Edges&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Edge&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Edge&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">edge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">To&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;subtask&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">SubTask&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Type&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;a class="link" href="https://entgo.io/docs/getting-started/" target="_blank" rel="noopener"
>ê³µì‹ í™ˆí˜ì´ì§€&lt;/a>ë¥¼ ì°¸ê³ í•´ë³´ë©´ Ent ORMì— ëŒ€í•´ ì´ë ‡ê²Œ ì„¤ëª…í–ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>Easily model database schema as a graph structure.&lt;/p>&lt;/blockquote>
&lt;p>schema êµ¬ì¡°ë¥¼ ê·¸ë˜í”„ êµ¬ì¡°ë¡œ êµ¬í˜„ë˜ì–´ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤. ì•„ë§ˆ entê°€ ê·¸ë˜í”„ íƒìƒ‰ì— ëŒ€í•œ ìì‹ ê°ì„ í‘œí˜„í•œ ê²ƒë„ êµ¬ì¡°ì ì¸ ì´ìœ ë•Œë¬¸ì´ì§€ ì•Šì„ê¹Œ ì‹¶ë‹¤.&lt;/p>
&lt;h2 id="ì ìš©í•˜ê¸°">ì ìš©í•˜ê¸°
&lt;/h2>&lt;h3 id="schema">Schema
&lt;/h3>&lt;p>entì˜ ì°¸ì¡° ë°©ì‹ì€ ë…íŠ¹í•˜ë‹¤. ê¸°ì¡´ì˜ ì°¸ì¡° ë°©ì‹ê³¼ ë°˜ëŒ€ì´ê¸° ë•Œë¬¸ì´ë‹¤.&lt;sup id="fnref:5">&lt;a href="#fn:5" class="footnote-ref" role="doc-noteref">5&lt;/a>&lt;/sup>
ent ê³µì‹ ë¬¸ì„œì— ì˜í•˜ë©´ edge.Toë¥¼ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë©´ ì„¤ì •í•œ Edgeë¥¼ ì†Œìœ í•œë‹¤ê³  ì •ì˜í•œë‹¤.&lt;sup id="fnref:6">&lt;a href="#fn:6" class="footnote-ref" role="doc-noteref">6&lt;/a>&lt;/sup>&lt;/p>
&lt;blockquote>
&lt;p>A schema that defines an edge using theÂ &lt;code>edge.To&lt;/code>Â builder owns the relation, unlike using theÂ &lt;code>edge.From&lt;/code>Â builder that gives only a back-reference for the relation (with a different name).&lt;/p>&lt;/blockquote>
&lt;p>ğŸ¤” í•„ìì˜ ê²½ìš° ìœ„ì˜ ì •ì˜ë¥¼ ê³ ë ¤í•˜ê³  êµ¬í˜„í•˜ë‹ˆ ë” í—·ê°ˆë¦¬ê¸° ì‹œì‘í–ˆë‹¤. ê·¸ë˜ì„œ ê´€ê³„ ì†Œìœ ìì¸ schemaë§Œ ì •ì˜í•˜ê³ , ê·¸ ì™¸ì—ëŠ” ì„œë¡œì˜ ì—°ê´€ê´€ê³„ë¥¼ ì„¤ì •í•´ì¤€ë‹¤ëŠ” ë§ˆìŒìœ¼ë¡œ êµ¬í˜„í–ˆë‹¤.&lt;/p>
&lt;p>Member : Task Entityê°€ 1:N ì—°ê´€ ê´€ê³„ë¥¼ ê°€ì§„ë‹¤ê³  ê°€ì •í•´ë³´ì.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/entgo-1/img1.png"
width="474"
height="138"
srcset="https://s0okju.github.io/p/entgo-1/img1_hu_fd9682e1edbec19a.png 480w, https://s0okju.github.io/p/entgo-1/img1_hu_87bb580de6343419.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="343"
data-flex-basis="824px"
>&lt;/p>
&lt;p>MemberëŠ” &lt;code>tasks&lt;/code>ë¼ëŠ” ê´€ê³„ì˜ ì†Œìœ ìì´ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ &lt;code>edge.To&lt;/code>ë¡œ ê´€ê³„ë¥¼ ì„¤ì •í•œë‹¤. í•˜ì§€ë§Œ TaskëŠ” manyì— í•´ë‹¹ë˜ê¸° ë•Œë¬¸ì— ì•„ë¬´ê²ƒë„ ì„¤ì •í•˜ì§€ ì•ŠëŠ”ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Fields of the Member.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">Member&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Fields&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Field&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Field&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">field&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">field&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;email&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">field&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">field&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;password&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">field&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Time&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;created_at&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nf">Default&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Now&lt;/span>&lt;span class="p">()),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Edges of the Member.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">Member&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Edges&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Edge&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Edge&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">edge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">To&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;tasks&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Task&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Type&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Taskì—ì„œëŠ” Memberì—ì„œ ì†Œìœ í•œ ê´€ê³„(user)ë¥¼ ì—­ì°¸ì¡°í•´ì„œ ê´€ê³„ë¥¼ ì •ì˜í•˜ê²Œ ëœë‹¤. ì´ë•Œ MemberëŠ” ê´€ê³„ì—ì„œ Oneì— í•´ë‹¹ë˜ë‹ˆ &lt;code>Unique() í•¨ìˆ˜&lt;/code>ë¥¼ ë¶™ì´ê²Œ ëœë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Fields of the Task.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">Task&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Fields&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Field&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Field&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">field&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">field&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;title&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">field&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;total_status&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">field&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Time&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;created_at&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nf">Default&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Now&lt;/span>&lt;span class="p">()),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">field&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Time&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;modified_at&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nf">Default&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Now&lt;/span>&lt;span class="p">()),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Edges of the Task.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">Task&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Edges&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Edge&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Edge&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">edge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">From&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;member&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Member&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Type&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nf">Ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;tasks&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nf">Unique&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì°¸ì¡°í•˜ëŠ” ì´ìœ ëŠ” ì–´ë–¤ schemaì™€ ì°¸ì¡°í•˜ëŠ”ì§€ë¥¼ ëª…ì‹œí•˜ê¸° ìœ„í•´ì„œë¼ê³  ë³´ë©´ ëœë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>&amp;hellip; because there can be multiple references from one schema to other.&lt;/p>&lt;/blockquote>
&lt;h3 id="ì˜ˆì œ---ë°ì´í„°-ìƒì„±-ì½”ë“œ">ì˜ˆì œ - ë°ì´í„° ìƒì„± ì½”ë“œ
&lt;/h3>&lt;p>ê·¸ëŸ¼ ë°ì´í„°ë¥¼ ìƒì„±í• ë•Œ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ? ì°¸ì¡°í•˜ëŠ” Schema(Task)ì—ì„œ Member ì •ë³´ë¥¼ ì¶”ê°€í•´ì£¼ë©´ ëœë‹¤.&lt;/p>
&lt;p>ê³µì‹ ë¬¸ì„œì—ì„œëŠ” ì§ì ‘ Queryí•´ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™”ì§€ë§Œ&lt;sup id="fnref:7">&lt;a href="#fn:7" class="footnote-ref" role="doc-noteref">7&lt;/a>&lt;/sup> , ê·¸ ì™¸ì—ë„ Schema ë°ì´í„°( ì˜ˆì œì—ì„œëŠ” ent.Member) í˜¹ì€ ì•„ì´ë””ë§Œìœ¼ë¡œë„ ì¶”ê°€ê°€ ê°€ëŠ¥í•˜ë‹ˆ ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ê¸¸ ë°”ë€ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">s&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">Store&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">gin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="nx">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">CreateTask&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">error&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// create Task&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Task&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Create&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nf">SetTitle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Title&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nf">SetTotalStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nf">SetMemberID&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">UserId&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nf">Save&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì‹¤ì œë¡œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë³´ë©´ {ì°¸ì¡°í•˜ëŠ” ê´€ê³„ëª…} _ {ì°¸ì¡°í•˜ëŠ” ê´€ê³„ëª…}ìœ¼ë¡œ ì´ë¤„ì ¸ ìˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/entgo-1/img2.png"
width="1012"
height="254"
srcset="https://s0okju.github.io/p/entgo-1/img2_hu_e35c10e67e34e63f.png 480w, https://s0okju.github.io/p/entgo-1/img2_hu_742b6efb062e1477.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="398"
data-flex-basis="956px"
>&lt;/p>
&lt;p>ìœ„ì˜ ì˜ˆì œì—ì„œëŠ” 1:N(One-to-Many)ì¸ ê²½ìš°ì—ë©´ ì„¤ëª…í–ˆì§€ë§Œ (M:N)ì˜ ê²½ìš°ì—ëŠ” {ì°¸ì¡°í•˜ëŠ” ê´€ê³„ëª…} _ {ì°¸ì¡°í•˜ëŠ” ê´€ê³„ëª…}ì˜ ì´ë¦„ì„ ê°€ì§„ í…Œì´ë¸”ì´ ìƒì„±ëœë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/entgo-1/img3.png"
width="372"
height="200"
srcset="https://s0okju.github.io/p/entgo-1/img3_hu_66901ecd7c787ce.png 480w, https://s0okju.github.io/p/entgo-1/img3_hu_be84572856c89c9c.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="186"
data-flex-basis="446px"
>&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://entgo.io/docs/getting-started/" target="_blank" rel="noopener"
>https://entgo.io/docs/getting-started/&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>í•„ìëŠ” MongoDBì— ì ìš©ì‹œí‚¤ê³ ì ê²€ìƒ‰ì„ ì—¬ëŸ¬ë²ˆ í–ˆì§€ë§Œ ëë‚´ ì°¾ì§€ ëª»í–ˆë‹¤.&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>&lt;a class="link" href="https://blog.billo.io/devposts/go_orm_recommandation/" target="_blank" rel="noopener"
>https://blog.billo.io/devposts/go_orm_recommandation/&lt;/a>&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:4">
&lt;p>&lt;a class="link" href="https://neo4j.com/docs/getting-started/" target="_blank" rel="noopener"
>https://neo4j.com/docs/getting-started/&lt;/a>&amp;#160;&lt;a href="#fnref:4" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:5">
&lt;p>&lt;a class="link" href="https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/" target="_blank" rel="noopener"
>https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/&lt;/a>&amp;#160;&lt;a href="#fnref:5" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:6">
&lt;p>&lt;a class="link" href="https://entgo.io/docs/schema-edges#quick-summary" target="_blank" rel="noopener"
>https://entgo.io/docs/schema-edges#quick-summary&lt;/a>&amp;#160;&lt;a href="#fnref:6" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:7">
&lt;p>&lt;a class="link" href="https://entgo.io/docs/schema-edges#o2o-two-types" target="_blank" rel="noopener"
>https://entgo.io/docs/schema-edges#o2o-two-types&lt;/a>&amp;#160;&lt;a href="#fnref:7" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Todopoint ì„œë²„ì½”ë“œ ê°œì„ ê¸° - 1. ê³µë™ ì—ëŸ¬ ì²˜ë¦¬í•˜ê¸°</title><link>https://s0okju.github.io/p/go-code-refactor-error-1/</link><pubDate>Sat, 11 May 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/go-code-refactor-error-1/</guid><description>&lt;p>Goë¥¼ í™œìš©í•˜ì—¬ ì§ì ‘ 2~3ê°œì˜ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ê³  ë‚˜ë‹ˆ, êµ¬í˜„í• ë•Œ ì§€ë‚˜ì³¤ë˜ ì—ëŸ¬ë“¤ì´ í° ëˆˆë©ì´ë¡œ ë³€í•´ì„œ ë®ì³ì™”ë‹¤.
ë¬¸ì œê°€ ìƒê¸´ ì§€ì ì€ ëª…í™•í–ˆì§€ë§Œ, ê·¸ê²ƒë³´ë‹¤ëŠ” ë¬¸ì œ ë°œìƒì˜ ê·¼ë³¸ì ì¸ ì›ì¸ì„ ì°¾ê³ ì í–ˆì—ˆë‹¤. ë‚´ê°€ ìƒê°í•œ ê°€ì¥ í° ì›ì¸ì€ &lt;strong>í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ë¶€ì¬&lt;/strong>ì˜€ë‹¤.
í…ŒìŠ¤íŠ¸ì˜ ì¥ì ì€ ëˆ„êµ¬ë‚˜ ì•Œê³  ìˆì„ ê²ƒì´ë‹¤. ì½”ë“œì˜ ì•ˆì „ì„±ì„ í™•ë³´í•  ìˆ˜ ìˆìœ¼ë©° ë¬¸ì œ ë°œìƒ ì‹œ ë¹ ë¥´ê²Œ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤. í˜„ì¬ ì½”ë“œì—ëŠ” ìˆ¨ê²¨ì§„ êµ¬ë©ë“¤ì´ ì¡´ì¬í•˜ëŠ”ë°, ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¨ìœ„ í…ŒìŠ¤íŠ¸, í†µí•© í…ŒìŠ¤íŠ¸ê°€ í•„ìš”í–ˆë‹¤.
ê¸°ì¡´ì— ìˆë˜ ì½”ë“œë¥¼ í™œìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ì‘ì„±í•˜ë ¤ê³  ì‹œë„í–ˆìœ¼ë‚˜, ì§€ê¸ˆê¹Œì§€ ì ì€ Go ì½”ë“œëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ìš©ì´í•˜ë„ë¡ ì‘ì„±ë˜ì§€ ì•Šì•˜ë‹¤. íŠ¹íˆ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì ì ˆí•˜ê²Œ ì‚¬ìš©í•˜ì§€ ì•Šì•„ì„œ Mockë¥¼ ì‚¬ìš©í•˜ëŠ”ë° ì–´ë ¤ì›€ì´ ìƒê¸°ê¸°ë„ í–ˆë‹¤.
ê·¸ë˜ì„œ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì œì‘í•˜ê³ ì í•œë‹¤.&lt;/p>
&lt;p>ë‚˜ëŠ” ë™ì¼í•œ ì½”ë“œì— ëŒ€í•´ ì´ë²ˆê¹Œì§€ í¬í•¨í•´ì„œ 2ë²ˆ ë³€ê²½í–ˆë‹¤. ì–´ë–»ê²Œ ë³€ê²½í–ˆëŠ”ì§€ ì•Œì•„ë³´ì&lt;/p>
&lt;h2 id="ì´ˆê¸°---go-í•œë‹¬ì°¨ì˜-ì ì‘ê¸°">ì´ˆê¸° - Go í•œë‹¬ì°¨ì˜ ì ì‘ê¸°
&lt;/h2>&lt;h3 id="ì—ëŸ¬-íƒ€ì…ê³¼-ìƒíƒœ-íƒ€ì…">ì—ëŸ¬ íƒ€ì…ê³¼ ìƒíƒœ íƒ€ì…
&lt;/h3>&lt;p>1ì°¨ì—ì„œëŠ” &lt;code>ErrorType&lt;/code>ìœ¼ë¡œ íŠ¹ì • ì—ëŸ¬ íƒ€ì…ì„ ì •ì˜í•˜ëŠ”ë° ì‚¬ìš©í•  íƒ€ì…ì„ ì§€ì •í•´ì¤¬ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">ErrorType&lt;/span> &lt;span class="kt">int&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">Error&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Code is a custom error code&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ErrorType&lt;/span> &lt;span class="nx">ErrorType&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Err is a error string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Err&lt;/span> &lt;span class="kt">error&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Description is a human-friendly message.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Description&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">ErrorRes&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Code is http status code&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Code&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="s">`json:&amp;#34;code&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ëª¨ë“  ì„œë¹„ìŠ¤ë“¤ì´ ì‚¬ìš©í•  ê²½ìš°, ê° ì„œë¹„ìŠ¤ê°€ ì‚¬ìš©í•  ì—ëŸ¬ ì½”ë“œë¥¼ ì¼ë¦¬ë¦¬ ì§€ì •í–ˆë‹¤. mapë¥¼ í™œìš©í•˜ì—¬ ì—ëŸ¬ íƒ€ì…ì— í•´ë‹¹ë˜ëŠ” ìƒíƒœ ì½”ë“œë¥¼ ë§¤í•‘í–ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">const&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Common&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">SUCCESS&lt;/span> &lt;span class="nx">ErrorType&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">INVALID_JSON_FORMAT&lt;/span> &lt;span class="nx">ErrorType&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">1001&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">INVALID_URI_FORMAT&lt;/span> &lt;span class="nx">ErrorType&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">1002&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Member&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">INVALID_MEMBER&lt;/span> &lt;span class="nx">ErrorType&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">2001&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ERROR_MEMBER_DB&lt;/span> &lt;span class="nx">ErrorType&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">2101&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Task&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ERROR_TASK_DB&lt;/span> &lt;span class="nx">ErrorType&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">3101&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">codeMap&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kd">map&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">ErrorType&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Common&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">INVALID_JSON_FORMAT&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">StatusBadRequest&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">INVALID_URI_FORMAT&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">StatusBadRequest&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Member&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">INVALID_MEMBER&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">StatusUnauthorized&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ERROR_MEMBER_DB&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">StatusInternalServerError&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Task&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ERROR_TASK_DB&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">StatusInternalServerError&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ì—ëŸ¬-ë°˜í™˜">ì—ëŸ¬ ë°˜í™˜
&lt;/h3>&lt;p>ì§ì ‘ ì»¤ìŠ¤í…€í•œ ì—ëŸ¬ê°’ì„ ì…ë ¥ê°’ìœ¼ë¡œ í•´ì„œ contextë¥¼ í™œìš©í•´ Json í˜•íƒœë¡œ ë°˜í™˜í•´ì¤¬ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// getCode is get Status code from codeMap.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">getCode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">flag&lt;/span> &lt;span class="nx">ErrorType&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ErrorRes&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">ErrorRes&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">Code&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">codeMap&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">flag&lt;/span>&lt;span class="p">]}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">ErrorFunc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">gin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">Error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">getCode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ErrorType&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">AbortWithStatusJSON&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Code&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&amp;ldquo;ì €ë ‡ê²Œ í•˜ë©´ ì˜¤ë¥˜ê°€ ì œëŒ€ë¡œ ë°˜í™˜ë˜ì§€ ì•Šì„í…ë°?&amp;ldquo;ë¼ê³  ìƒê°í•˜ëŠ” ì‚¬ëŒì´ ìˆì„ ê²ƒì´ë‹¤. ì €ë•Œ ë‹¹ì‹œ ginì´ ì—ëŸ¬ë¥¼ ì‘ë‹µí•˜ëŠ” ë§¤ì»¤ë‹ˆì¦˜ì„ ì˜ ëª°ë¼ ë‹¨ìˆœí•˜ê²Œ AbortWithStatusJsonìœ¼ë¡œ ì‘ë‹µí•˜ë„ë¡ í–ˆë‹¤. ë¹„ë¡ ê²°ê³¼ëŠ” ì—ëŸ¬ json + ì„±ê³µ json ë‘˜ë‹¤ ë‚˜ì™”ì§€ë§Œ ë§ì´ë‹¤.&lt;/p>
&lt;h2 id="1ì°¨---middlewareê°€-ìˆì—ˆë‹¤ê³ ìš”">1ì°¨ - Middlewareê°€ ìˆì—ˆë‹¤ê³ ìš”?
&lt;/h2>&lt;p>ginì˜ ì˜¤ë¥˜ ì²˜ë¦¬ ë§¤ì»¤ë‹ˆì¦˜ì„ ì œëŒ€ë¡œ ì´í•´í•˜ì§€ ëª»í•´ ë‹¨ìˆœí•˜ê²Œ ì‘ë‹µì„ ì²˜ë¦¬í–ˆë‹¤. ì´ì œëŠ” Middlewareë¥¼ ì œì‘í•¨ìœ¼ë¡œì¨ ì—ëŸ¬ ì‘ë‹µ ë°˜í™˜ì´ ìˆ˜ì›”í•˜ë„ë¡ êµ¬í˜„í–ˆë‹¤.&lt;/p>
&lt;h3 id="ì—ëŸ¬-ìƒíƒœ-íƒ€ì…">ì—ëŸ¬ ìƒíƒœ íƒ€ì…
&lt;/h3>&lt;p>ErrorType -&amp;gt; WebCodeë¡œ ì´ë¦„ì„ ë³€ê²½í–ˆìœ¼ë©°, ì—ëŸ¬ë¿ë§Œ ì•„ë‹ˆë¼ ìƒíƒœ ì „ì²´ë¥¼ í‘œì‹œí–ˆë‹¤.
ì—¬ê¸°ì„œ ëˆˆì¹˜ ë¹ ë¥´ì‹  ë¶„ì€ ì•Œê² ì§€ë§Œ ì—ëŸ¬ íƒ€ì…ì—ëŠ” ìƒíƒœê°’ì„ ì§ì ‘ í¬í•¨í•˜ë„ë¡ êµ¬í˜„í–ˆë‹¤. ì™œëƒí•˜ë©´ ìƒíƒœ ì½”ë“œë¥¼ ì¶”ê°€í•  ì¼ì´ ë§ì€ë° ì‘ì—…ì„ ë‘ë²ˆí•´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">TaskCreationSuccess&lt;/span> &lt;span class="nx">WebCode&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">220101&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">SubtaskCreationSuccess&lt;/span> &lt;span class="nx">WebCode&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">220151&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì˜ˆë¡œ 220101 ì´ë¼ë©´ 2(Task Service)/201(Status code)/01(Unique number)ë¡œ êµ¬ì„±í•˜ë„ë¡ í–ˆë‹¤.&lt;/p>
&lt;h3 id="ì—ëŸ¬-íƒ€ì…ê³¼-ë°˜í™˜">ì—ëŸ¬ íƒ€ì…ê³¼ ë°˜í™˜
&lt;/h3>&lt;p>ì´ì „ì—ëŠ” ì—ëŸ¬ íƒ€ì…ì„ Errorë¼ê³  ì •í–ˆì§€ë§Œ gin ë‚´ë¶€ì˜ ì—ëŸ¬ë¥¼ ì“°ë©´ì„œ í—·ê°ˆë¦¬ê¸° ì‹œì‘í–ˆë‹¤. ê·¸ë˜ì„œ NetErrorë¡œ ì´ë¦„ì„ ë³€ê²½í–ˆìœ¼ë©°, Description fieldëŠ” ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒ ê°™ì•„ ì‚­ì œí–ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">NetError&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Code&lt;/span> &lt;span class="nx">codes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">WebCode&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Err&lt;/span> &lt;span class="kt">error&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">NewNetError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">code&lt;/span> &lt;span class="nx">codes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">WebCode&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">NetError&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">logrus&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Errorf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Code : %d, Error : %v&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">code&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">NetError&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">Code&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">code&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Err&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">NetError&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">Code&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">code&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Err&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì—ëŸ¬ëŠ” ë™ì¼í•˜ê²Œ codeë§Œ ë°˜í™˜í•˜ë„ë¡ êµ¬í˜„í–ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Response&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">ErrorResponse&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Code&lt;/span> &lt;span class="nx">codes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">WebCode&lt;/span> &lt;span class="s">`json:&amp;#34;codes&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">NewErrorResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">code&lt;/span> &lt;span class="nx">codes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">WebCode&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ErrorResponse&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">ErrorResponse&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">Code&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">code&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ì„±ê³µ">ì„±ê³µ
&lt;/h3>&lt;p>ì‘ë‹µê°’ì„ ìƒê°í•´ë³´ë©´ í¬ê²Œ ë‘ ê°€ì§€ê°€ ì¡´ì¬í•œë‹¤.&lt;/p>
&lt;ul>
&lt;li>ë°ì´í„°ê°€ ì—†ëŠ” ê²½ìš°&lt;/li>
&lt;li>ë°ì´í„°ê°€ ìˆëŠ” ê²½ìš°&lt;/li>
&lt;/ul>
&lt;p>ì´ ë‘ê°€ì§€ë¥¼ ë‚˜ëˆ ì„œ ë³„ë„ì˜ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì—ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">SuccessWith&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">gin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">code&lt;/span> &lt;span class="nx">codes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">WebCode&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="kt">any&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">status&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">codes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">GetStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">code&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">NewSuccessResponseWith&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">code&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Header&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Content-Type&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;application/json&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">AbortWithStatusJSON&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">status&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">Success&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">gin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">code&lt;/span> &lt;span class="nx">codes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">WebCode&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">status&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">codes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">GetStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">code&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Header&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Content-Type&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;application/json&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">NewSuccessResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">code&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">JSON&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">status&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì—ëŸ¬ ë°˜í™˜ ë¡œì§ì€ gin Middlewareë¥¼ ì‚¬ìš©í–ˆë‹¤. ìì„¸í•œ ì‚¬í•­ì€ [[Gin - ì˜ˆì™¸ì²˜ë¦¬ 2. ì»¤ìŠ¤í…€ ì˜ˆì™¸ì²˜ë¦¬ êµ¬í˜„í•˜ê¸°]] ë¥¼ ì°¸ê³ í•˜ê¸¸ ë°”ë€ë‹¤.&lt;/p>
&lt;h2 id="2ì°¨---í”„ë¡ íŠ¸ì—”ë“œë¥¼-í•˜ê³ ë‚˜ë‹ˆ">2ì°¨ - í”„ë¡ íŠ¸ì—”ë“œë¥¼ í•˜ê³ ë‚˜ë‹ˆ&amp;hellip;
&lt;/h2>&lt;p>ì™œ ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ì—”ë“œê°€ ì§ê¿ì´ ë§ì•„ì•¼ í•˜ëŠ”ì§€ ì•Œ ê²ƒ ê°™ì•˜ë‹¤.
í”ŒëŸ¬í„°ì˜ ê²½ìš°ì—ëŠ” ì‘ë‹µê°’ê³¼ ë˜‘ê°™ì€ í•„ë“œë¥¼ ê°€ì§„ ëª¨ë¸ë¡œ ë°˜í™˜í•´ì•¼ í•œë‹¤. ë§Œì•½ì— ì •í™•í•˜ê²Œ ë°›ì§€ ëª»í•˜ë©´, ì•„ë¬´ëŸ° ê°’ë„ ë°›ì„ ìˆ˜ ì—†ë‹¤.(ì‹¬ì§€ì–´ ìƒíƒœê°’ë„ ë§ì´ë‹¤.) í”ŒëŸ¬í„°ë¡œì¨ëŠ” í•´ê²° ë°©ì•ˆì„ ì°¾ì§€ ëª»í•´ì„œ &lt;strong>ì„œë²„ì¸¡ì—ì„œ ì„±ê³µì´ë“  ì˜¤ë¥˜ë“  ëª¨ë‘ ë™ì¼í•œ í˜•íƒœë¡œ ë°˜í™˜í•˜ë„ë¡ êµ¬í˜„í•´ì•¼ í–ˆì—ˆë‹¤.&lt;/strong>&lt;/p>
&lt;h3 id="response-format">Response Format
&lt;/h3>&lt;p>ìœ„ì—ì„œ 1ì°¨, 2ì°¨ë¥¼ ë³´ë©´ êµ¬ì²´ì ì¸ ë©”ì„¸ì§€ê°€ ì—†ì—ˆë‹¤. ë©”ì„¸ì§€ë¥¼ ë„£ì§€ ì•Šì€ ì´ìœ ëŠ” í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì €ëŸ°ê²ƒê¹Œì§€ ë³´ì—¬ì¤„ í•„ìš”ê°€ ì—†ë‹¤ê³  ìƒê°í•´ì„œì˜€ë‹¤. ê·¸ëŸ¬ë‚˜ ì•±ê°œë°œí•˜ë©´ì„œ ì •ë³´ê°€ ì—†ì–´ì„œ ì •ë§ í˜ë“¤ì—ˆë‹¤. ğŸ˜¥&lt;br>
Error Responseì˜ Best Practiceë¥¼ ì°¾ì•„ë³´ë‹ˆ ëŒ€ë¶€ë¶„ ìì²´ì ì¸ codeì™€ ì´ë¥¼ ì„¤ëª…í•˜ëŠ” ë©”ì„¸ì§€ê°€ í¬í•¨ë˜ì–´ ìˆì—ˆë‹¤.&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup> ì´ë²ˆì— ìˆ˜ì •í•œ ì‘ë‹µì—ì„œëŠ” ë©”ì„¸ì§€ë¥¼ ì¶”ê°€í•˜ê¸°ë¡œ í–ˆë‹¤.&lt;/p>
&lt;h3 id="ì—ëŸ¬-ìƒíƒœ-íƒ€ì…-1">ì—ëŸ¬ ìƒíƒœ íƒ€ì…
&lt;/h3>&lt;p>ì¼ë‹¨ ì§€ê¸ˆê¹Œì§€ ì‚¬ìš©í–ˆë˜ ì—ëŸ¬ ì½”ë“œë³´ë‹¤ ê¸¸ì´ë¥¼ ë” ì¶•ì†Œì‹œì¼°ë‹¤. ê·¸ë˜ì„œ ìì£¼ ì‚¬ìš©í•˜ëŠ” ìƒíƒœ ì½”ë“œë¥¼ ë°±ì˜ ìë¦¬ë¡œ ë‘ê³ , 1ì”© ì¹´ìš´íŠ¸ë¥¼ ì¶”ê°€í•˜ë©´ì„œ ì—ëŸ¬ ì½”ë“œë¥¼ ì •ì˜í–ˆë‹¤.
ë˜í•œ ì—ëŸ¬ì½”ë“œì— ë§¤í•‘ë˜ëŠ” ì—ëŸ¬ ë©”ì„¸ì§€ë¥¼ ì¶”ê°€í•¨ìœ¼ë¡œì¨, ë™ì¼í•œ ì—ëŸ¬ ë©”ì„¸ì§€ë¥¼ ë°˜í™˜í•˜ë„ë¡ í–ˆë‹¤. ë©”ì„¸ì§€ëŠ” ì •í™•í•˜ê²Œ ì ì§€ ì•Šê³ , ë¬¸ì œë¥¼ ì „ë°˜ì ìœ¼ë¡œ ë³´ì—¬ì¤„ ìˆ˜ ìˆë„ë¡ ì‘ì„±í–ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">const&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 1xx is Bad Request error code&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">InvalidHeader&lt;/span> &lt;span class="nx">ErrorCode&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">101&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">InvalidBody&lt;/span> &lt;span class="nx">ErrorCode&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">102&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">InvalidQuery&lt;/span> &lt;span class="nx">ErrorCode&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">103&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 2xx is Unauthorized error code&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">BadAuthenticationData&lt;/span> &lt;span class="nx">ErrorCode&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">201&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">TokenExpired&lt;/span> &lt;span class="nx">ErrorCode&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">202&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">errorMessage&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kd">map&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">ErrorCode&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">InvalidHeader&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;The provided header values are invalid.&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">InvalidBody&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;The body of the request is invalid.&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">InvalidQuery&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;The query parameters are invalid.&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ì—ëŸ¬-íƒ€ì…">ì—ëŸ¬ íƒ€ì…
&lt;/h3>&lt;p>&lt;code>netErrorOptions&lt;/code> ë¼ëŠ” ì˜µì…˜ì„ ì¶”ê°€ì‹œì¼°ëŠ”ë°, ì—¬ê¸°ì—ëŠ” ì„œë¹„ìŠ¤ì˜ ë©”íƒ€ ì •ë³´ê°€ í¬í•¨ë˜ì–´ ìˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// NetError have options and ErrorCode that contains status code.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">NetError&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// options is metadata about service options&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">netErrorOptions&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Type is a unique data that contains http status code.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Code&lt;/span> &lt;span class="nx">ErrorCode&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Description is an error details.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Description&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Err is an error message.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Err&lt;/span> &lt;span class="kt">error&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ë©”íƒ€ ì •ë³´ë¡œì¨ íƒœê·¸ê°€ ìˆëŠ”ë°, ì„œë¹„ìŠ¤ ì´ë¦„ì„ ë¬¸ìì—´ë¡œ í‘œì‹œí•˜ëŠ” ê²ƒì´ë‹¤.
íƒœê·¸ëŠ” ì„œë²„ì—ì„œ ë””ë²„ê¹…ì„ ì¡°ê¸ˆë” ìˆ˜ì›”í•˜ê²Œ í•˜ê¸° ìœ„í•´ì„œ ë„ì…í–ˆë‹¤. ì˜¤ë¥˜ì½”ë“œê°€ ëª¨ë‘ ë™ì¼í•´ì„œ ì–´ë–¤ ì„œë¹„ìŠ¤ì˜ ì˜¤ë¥˜ì¸ì§€ ëª…ì‹œí•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©ëœë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// netErrorOptions is meta data about service&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">netErrorOptions&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// tag is the service name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tag&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì´ íƒœê·¸ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹œì‘í• ë•Œ í•œë²ˆë§Œ ì„¤ì •í•˜ë„ë¡ í•¨ìœ¼ë¡œì¨, ëª¨ë“  NetErrorê°€ í•´ë‹¹ tagë¥¼ ê°€ì§€ë„ë¡ êµ¬í˜„í–ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">opts&lt;/span> &lt;span class="nx">netErrorOptions&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// netErrorOptions is meta data about service&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">netErrorOptions&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// tag is the service name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tag&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// SetTag sets the service name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">SetTag&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tag&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mu&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">sync&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Mutex&lt;/span>&lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mu&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Lock&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">defer&lt;/span> &lt;span class="nx">mu&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Unlock&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">opts&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">tag&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">tag&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ì—ëŸ¬-ë°˜í™˜-1">ì—ëŸ¬ ë°˜í™˜
&lt;/h3>&lt;p>ì—ëŸ¬ëŠ” í¬ê²Œ ë‘ ê°€ì§€ë¡œ ë‚˜ëˆ ì ¸ ìˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>Status: ì‘ë‹µì˜ íƒ€ì… (&amp;ldquo;Success&amp;rdquo; or &amp;ldquo;Error&amp;rdquo;)&lt;/li>
&lt;li>Data : ì—ëŸ¬ ë°ì´í„° í˜¹ì€ ì„±ê³µ ì‹œ ë°˜í™˜í•  ë°ì´í„°&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// BaseResponse is common response that use in success and failed&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">BaseResponse&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Status&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="s">`json:&amp;#34;status&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Data&lt;/span> &lt;span class="kd">interface&lt;/span>&lt;span class="p">{}&lt;/span> &lt;span class="s">`json:&amp;#34;data&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ë‹¤ë§Œ ìƒì„±ìë¥¼ ë§Œë“¤ë•Œ ì„±ê³µ, ì‹¤íŒ¨ ì—¬ë¶€ë¥¼ ë”°ë¡œ ë§Œë“¤ì—ˆë‹¤. ê·¸ ì´ìœ ëŠ” ì…ë ¥í•˜ëŠ” ê°’ì´ ë‹¤ ë‹¬ëê¸° ë•Œë¬¸ì´ë‹¤.&lt;/p>
&lt;p>ì„±ê³µí•œ ê²½ìš° ë°˜í™˜í•˜ê³ ì í•˜ëŠ” ë°ì´í„°ë¥¼ Data í•„ë“œì— ë„£ê¸°ë§Œ í•˜ë©´ ëœë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">NewSuccessBaseResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span> &lt;span class="kd">interface&lt;/span>&lt;span class="p">{})&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">BaseResponse&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">BaseResponse&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Status&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;Success&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Data&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ê·¸ëŸ¬ë‚˜ ì˜¤ë¥˜ì¸ ê²½ìš°ëŠ” ë‹¤ë¥´ë‹¤. ë°˜í™˜í•  ì˜¤ë¥˜ íƒ€ì…ì€ í˜•ì‹í™”ë˜ì–´ ìˆìœ¼ë¯€ë¡œ, &lt;code>ErrorResponse&lt;/code> êµ¬ì¡°ì²´ë¥¼ ë”°ë¡œ ë§Œë“¤ì–´ì„œ Data í•„ë“œì— ì €ì¥í–ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ErrorResponse is the error response format&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">ErrorResponse&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Code&lt;/span> &lt;span class="nx">ErrorCode&lt;/span> &lt;span class="s">`json:&amp;#34;code&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Message&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="s">`json:&amp;#34;message&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">NewErrorBaseResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span> &lt;span class="nx">NetError&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">BaseResponse&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ErrorResponse&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">Code&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Code&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Message&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nf">GetErrorMsg&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Code&lt;/span>&lt;span class="p">)}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">BaseResponse&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Status&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;Error&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Data&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>BaseResponseê°€ ë°˜í™˜ë˜ë©´, ë©”ì†Œë“œë¡œ ì‘ë‹µê°’ì„ ë°˜í™˜í•˜ë„ë¡ êµ¬í˜„í–ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Failed response failed formatted response.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// It converts NetError to ErrorResponse to extract necessary things.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="nx">BaseResponse&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Failed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">gin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">GetErrorData&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">status&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">parseStatusCode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Code&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">AbortWithStatusJSON&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">status&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// OKSuccess uses when status code is 200&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="nx">BaseResponse&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">OKSuccess&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">gin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Header&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Content-Type&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;application/json&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">AbortWithStatusJSON&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">200&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="í…ŒìŠ¤íŠ¸">í…ŒìŠ¤íŠ¸
&lt;/h2>&lt;p>gin í…ŒìŠ¤íŠ¸ ì‚¬ë¡€&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>ë¥¼ ì°¸ê³ í•´ì„œ ì„±ê³µí–ˆì„ ê²½ìš°ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ì•˜ë‹¤.
í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” í…Œì´ë¸” ì¤‘ì‹¬ í…ŒìŠ¤íŠ¸(Table-Driven Test) ë°©ì‹&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>ì„ ì±„íƒí–ˆë‹¤. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ê°€ ë¹„ìŠ·í•œ êµ¬ì¡°ë¡œ ì´ë¤„ì ¸ ìˆëŠ” ê²½ìš°, í…Œì´ë¸” ì¤‘ì‹¬ í…ŒìŠ¤íŠ¸ë¡œ ìˆ˜í–‰í•˜ë©´ ì½”ë“œ ì¤‘ë³µì„ í”¼í•  ìˆ˜ ìˆì–´ ë¡œì§ì„ ë³€ê²½í•˜ê±°ë‚˜ ìƒˆë¡œìš´ ì¼€ì´ìŠ¤ë¥¼ ì¶”ê°€í•˜ê¸° ì‰½ë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤.
ì‘ì„±í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ëŠ” í…ŒìŠ¤íŠ¸ êµ¬ì¡°ê°€ ë¹„ìŠ·í•˜ê³ , ë¼ìš°íŒ… ì„¤ì • ë“± ê³µí†µëœ ë¶€ë¶„ì´ ë§ì•„ì„œ í…Œì´ë¸” ì¤‘ì‹¬ í…ŒìŠ¤íŠ¸ë¥¼ ì„ íƒí•˜ê²Œ ë˜ì—ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">setupRouter&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">gin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Engine&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">r&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">gin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Default&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">errorutils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ErrorMiddleware&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">r&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">TestSuccessResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">T&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">r&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">setupRouter&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">errorutils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewSuccessBaseResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">nil&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Set table&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tests&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">description&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fn&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">gin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expectedCode&lt;/span> &lt;span class="kt">int&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Ok Success&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">description&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;OKSuccess&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fn&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">c&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">gin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">OKSuccess&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">c&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expectedCode&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;/test/ok&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Created Success&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">description&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;CreatedSuccess&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fn&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">c&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">gin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">CreatedSuccess&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">c&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expectedCode&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">201&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;/test/created&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tc&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">tests&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">description&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">T&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">w&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">httptest&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewRecorder&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">_&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewRequest&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;GET&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">path&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Specific handler function and serve&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">GET&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">path&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ServeHTTP&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">w&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Code&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="nx">tc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">expectedCode&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Errorf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Expected %d, got %d&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">expectedCode&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">w&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Code&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/image1.png"
loading="lazy"
>&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°
&lt;/h2>&lt;p>í•˜ë‚˜ì˜ ê°„ë‹¨í•œ CRUDê°€ ìˆëŠ” ì„œë¹„ìŠ¤ 2ê°œë¥¼ ê°€ì§€ê³  ì½”ë“œë¥¼ ì—¬ëŸ¬ë²ˆ ìˆ˜ì •í–ˆë‹¤. ê·¸ ê³¼ì •ì—ì„œ ë‹¤ì–‘í•œ ì˜¤ë¥˜ë¥¼ ë§Œë‚¬ê³ , í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ì¤‘ìš”ì„±ë„ í™•ì‹¤íˆ ì•Œì•˜ë‹¤.
íŠ¹íˆ ì´ë²ˆì— í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ì„œ ì˜¤ë¥˜ë¥¼ ë§ì´ ë§ˆì£¼ í–ˆëŠ”ë°, ì´ë¥¼ ì¬ë¹ ë¥´ê²Œ ìˆ˜ì •í•˜ë©´ì„œ í…ŒìŠ¤íŠ¸ì˜ ì¤‘ìš”ì„±ì„ ëŠë¼ê²Œ ë˜ì—ˆë‹¤.&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://pjh3749.tistory.com/273" target="_blank" rel="noopener"
>https://pjh3749.tistory.com/273&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://gin-gonic.com/docs/testing/" target="_blank" rel="noopener"
>https://gin-gonic.com/docs/testing/&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>&lt;a class="link" href="https://bugoverdose.github.io/development/go-table-driven-tests/" target="_blank" rel="noopener"
>https://bugoverdose.github.io/development/go-table-driven-tests/&lt;/a>&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>AWS - EKSë€ ë¬´ì—‡ì¸ê°€</title><link>https://s0okju.github.io/p/what-is-eks/</link><pubDate>Wed, 01 May 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/what-is-eks/</guid><description>&lt;h2 id="eks">EKS
&lt;/h2>&lt;p>Amazon Web Services(AWS)ì—Â KubernetesÂ ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì„ ì„¤ì¹˜, ìš´ì˜ ë° ìœ ì§€ ê´€ë¦¬í•  í•„ìš”ê°€ ì—†ëŠ” ê´€ë¦¬í˜• ì„œë¹„ìŠ¤ì´ë‹¤&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>.&lt;/p>
&lt;h2 id="ecs-vs-eks">ECS vs EKS
&lt;/h2>&lt;ul>
&lt;li>ë‘˜ ë‹¤ ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ì´ë¼ëŠ” ì ì—ì„œ ê³µí†µì ì„ ê°€ì§&lt;/li>
&lt;li>ECSëŠ” AWSê°€ ë§Œë“  ìì²´ì ì¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ êµ¬ì¡°ë¡œ K8S êµ¬ì¡°ì™€ ì™„ì „ ë‹¤ë¦„&lt;/li>
&lt;li>K8SëŠ” ì˜¤í”ˆì†ŒìŠ¤ê°€ í¬ê²Œ í™œì„±í™”ë˜ì–´ ìˆê³ , ë‹¤ì–‘í•œ í”ŒëŸ¬ê·¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ&lt;/li>
&lt;li>ECSëŠ” ì˜¤í”ˆì†ŒìŠ¤ê°€ í¬ê²Œ í™œì„±í™”ë˜ì–´ ìˆì§€ ì•ŠìŒ.&lt;/li>
&lt;li>Auto-scaling ì¸¡ë©´ì—ì„œ EKSëŠ” ìˆ˜ë™ ë° ìë™ ë°°í¬ê°€ ê°€ëŠ¥í•˜ì§€ë§Œ ECSëŠ” ìˆ˜ë™ìœ¼ë¡œë§Œ ê°€ëŠ¥í•˜ë‹¤.&lt;/li>
&lt;li>ì˜¤ë¥˜ ìˆ˜ì •í•˜ëŠ”ë° ECSëŠ” ì „ë¬¸ê°€ê°€ í•„ìš”í•¨&lt;/li>
&lt;/ul>
&lt;p>ğŸ“Œ ìì„¸í•œ ì‚¬í•­ì€ &lt;a class="link" href="https://timewizhan.tistory.com/entry/AWS-ECS-vs-Kubernetes" target="_blank" rel="noopener"
>ë¬¼í†µê¿€ê¿€ì´ë‹˜ì˜ ë¸”ë¡œê·¸, [AWS] ECS vs Kubernetes&lt;/a>ë¥¼ ì°¸ê³ í•˜ê¸¸ ë°”ëŒ.&lt;/p>
&lt;p>ğŸ¤” EKSê°€ ë¬´ì¡°ê±´ ì •ë‹µì€ ì•„ë‹ˆë‹¤. í”„ë¡œì íŠ¸ì— ë”°ë¼ì„œëŠ” ECSê°€ ë” ì í•©í•œ ì„ íƒì§€ì¼ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://velog.io/@tanggu01/%EB%B0%8D%EA%B8%80-ECS-vs-EKS-EC2-vs-Fargate-%EB%B0%B0%ED%8F%AC-%EC%84%9C%EB%B9%84%EC%8A%A4-%EB%B9%84%EA%B5%90%ED%95%B4%EB%B3%B4%EA%B8%B0" target="_blank" rel="noopener"
>ECS ì ìš© ì‚¬ë¡€ - ë°ê¸€&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="ì™œ-eks-ì„¤ì¹˜ëŠ”-ì–´ë ¤ìš´ê°€">ì™œ EKS ì„¤ì¹˜ëŠ” ì–´ë ¤ìš´ê°€?
&lt;/h3>&lt;p>ìš°ë¦¬ê°€ ì•Œê³  ìˆëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ êµ¬ì¡°ì™€ ë‹¬ë¦¬ ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì¼ë¶€ ë„êµ¬ë§Œ ì œê³µí•˜ê³ , ë‚˜ë¨¸ì§€ëŠ” ë³„ë„ì˜ ì„¤ì¹˜ê°€ í•„ìš”í•˜ë‹¤. ì´ëŸ° ì´ìœ ë¡œ ë²„ì „ ê´€ë¦¬ê°€ ì–´ë ¤ì›Œì§€ê¸°ë„ í•œë‹¤.&lt;/p>
&lt;ul>
&lt;li>ì¿ ë²„ë„¤í‹°ìŠ¤ ì œê³µ : kube-proxy, kubelet&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://www.cncf.io/projects/" target="_blank" rel="noopener"
>CNCF Graduated Project&lt;/a>ë¥¼ ë³´ë©´ etcd, coreDNS ë“±ì„ ë³¼ ìˆ˜ ìˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;h2 id="eks-êµ¬ì¡°">EKS êµ¬ì¡°
&lt;/h2>&lt;p>ì•ì„œ ë§í–ˆë“¯ì´ ì§ì ‘ êµ¬ì¶•í•˜ê²Œ ë˜ë©´, ê´€ë¦¬í•´ì•¼ í•˜ëŠ” ìš”ì†Œë“¤ì´ ë§ë‹¤. ì´ëŸ¬í•œ ì–´ë ¤ì›€ì„ ëœì–´ë‚´ê³ ì EKSë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. EKSëŠ” ê´€ë¦¬í˜• ì„œë¹„ìŠ¤ë¡œì„œ Control Planeë¥¼ ì§ì ‘ êµ¬ì„±í•˜ì§€ ì•Šê³  K8Së¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
&lt;img src="https://s0okju.github.io/p/what-is-eks/image1.png"
width="1402"
height="882"
srcset="https://s0okju.github.io/p/what-is-eks/image1_hu_192188864fc4e2da.png 480w, https://s0okju.github.io/p/what-is-eks/image1_hu_f3c2449e1f271682.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://kubernetes.io/docs/concepts/architecture/"
class="gallery-image"
data-flex-grow="158"
data-flex-basis="381px"
>&lt;/p>
&lt;h2 id="eks-íŠ¹ì§•">EKS íŠ¹ì§•
&lt;/h2>&lt;ul>
&lt;li>EKS CNIë¥¼ í™œìš©í•˜ì—¬ VPC ë„¤íŠ¸ì›Œí¬ ìƒì—ì„œ íŒŒë“œê°„ í†µì‹  ê°€ëŠ¥&lt;/li>
&lt;li>IAMì„ í™œìš©í•˜ì—¬ ê¶Œí•œ ì„¤ì • ê°€ëŠ¥&lt;/li>
&lt;li>AWSê°€ ê°€ìš© ì˜ì—­ë³„ API Server ,etcd ë°°í¬í•˜ì—¬ ê³ ê°€ìš©ì„± ë³´ì¥&lt;/li>
&lt;li>eksctlë¥¼ í™œìš©í•˜ì—¬ ì›Œì»¤ë…¸ë“œë¥¼ customí•  ìˆ˜ ìˆìŒ.&lt;/li>
&lt;/ul>
&lt;p>ğŸ“Œ ìì„¸í•œ ì‚¬í•­ì€ &lt;a class="link" href="https://nearhome.tistory.com/128" target="_blank" rel="noopener"
>Jaden Parkë‹˜ì˜ ë¸”ë¡œê·¸, Amazon EKS ë€?&lt;/a>ë¥¼ ì°¸ê³ í•˜ê¸¸ ë°”ë€ë‹¤.&lt;/p>
&lt;h2 id="aws-side-workflow">AWS Side Workflow
&lt;/h2>&lt;p>&lt;img src="https://s0okju.github.io/p/what-is-eks/image2.png"
width="684"
height="235"
srcset="https://s0okju.github.io/p/what-is-eks/image2_hu_adfb476cc471dd6a.png 480w, https://s0okju.github.io/p/what-is-eks/image2_hu_1e1db08b4ac86f7e.png 1024w"
loading="lazy"
alt="ì¶œì²˜- https://nearhome.tistory.com/128"
class="gallery-image"
data-flex-grow="291"
data-flex-basis="698px"
>&lt;/p>
&lt;ul>
&lt;li>ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ api ì„œë²„ë¥¼ ê° ê°€ìš©ì˜ì—­ì— ë°°í¬&lt;/li>
&lt;li>api ë°ì´í„°, ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ìƒíƒœ ë°ì´í„°ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ etcdë¥¼ ê°™ì´ ë°°í¬&lt;/li>
&lt;li>ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ì˜¤ëŠ” call ì— ëŒ€í•œ IAM êµ¬ì„±&lt;/li>
&lt;li>ì¿ ë²„ë„¤í‹°ìŠ¤ ë§ˆìŠ¤í„° ë…¸ë“œì˜ ì˜¤í† ìŠ¤ì¼€ì¼ë§ ì„¤ì •&lt;/li>
&lt;li>í´ëŸ¬ìŠ¤í„°ê°€ ì•ˆì •ì ìœ¼ë¡œ êµ¬í˜„í•˜ë„ë¡ ì—¬ê¸°ì— ì—°ê²°í•  ìˆ˜ ìˆëŠ” ë¡œë“œë°¸ëŸ°ì„œë¥¼ êµ¬ì„±&lt;/li>
&lt;/ul>
&lt;h2 id="reference">Reference
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://devocean.sk.com/blog/techBoardDetail.do?ID=163578" target="_blank" rel="noopener"
>ì´ˆë³´ìë¥¼ ìœ„í•œ EKS ë§› ë³´ê¸°&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://timewizhan.tistory.com/entry/AWS-ECS-vs-Kubernetes" target="_blank" rel="noopener"
>ECS vs Kubernetes&lt;/a>&lt;/li>
&lt;/ul>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://docs.aws.amazon.com/ko_kr/eks/latest/userguide/what-is-eks.html" target="_blank" rel="noopener"
>https://docs.aws.amazon.com/ko_kr/eks/latest/userguide/what-is-eks.html&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>AWS - IAM ê·¸ë¦¬ê³  Profile</title><link>https://s0okju.github.io/p/iam-and-profile/</link><pubDate>Tue, 16 Apr 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/iam-and-profile/</guid><description>&lt;h2 id="introduction">Introduction
&lt;/h2>&lt;p>Terraform ì½”ë“œë¥¼ ë¶„ì„í•˜ê³  ìˆì—ˆë‹¤. ì–´ë””ì—ì„œëŠ” IAMì„ ì“°ê³ , ì–´ë””ì—ì„œëŠ” Profileì„ ì“´ë‹¤. ê³¼ì—° ê·¸ ë‘˜ì˜ ì°¨ì´ì ì€ ë¬´ì—‡ì¼ê¹Œ? ì•Œì•„ë³´ë„ë¡ í•˜ì!&lt;/p>
&lt;h2 id="profile">Profile
&lt;/h2>&lt;p>Amazon Ec2ëŠ” IAM roleì„ ê°€ì§„ profileì„ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.&lt;/p>
&lt;h3 id="ì§ˆë¬¸-1-awsclië¥¼-í†µí•´-profileì„-ì§€ì •í• -ìˆ˜-ìˆëŠ”ë°-ì´ê²ƒë„-instance-profileì¸ê°€">ì§ˆë¬¸ 1. awsclië¥¼ í†µí•´ profileì„ ì§€ì •í•  ìˆ˜ ìˆëŠ”ë°, ì´ê²ƒë„ Instance Profileì¸ê°€?
&lt;/h3>&lt;blockquote>
&lt;p>If you use the AWS CLI, API, or an AWS SDK to create a role, you create the role and instance profile as separate actions, with potentially different names. If you then use the AWS CLI, API, or an AWS SDK to launch an instance with an IAM role or to attach an IAM role to an instance, specify the instance profile name.
ì¶œì²˜ - &lt;a class="link" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html" target="_blank" rel="noopener"
>ê³µì‹ ë¬¸ì„œ&lt;/a>&lt;/p>&lt;/blockquote>
&lt;ul>
&lt;li>ì§ˆë¬¸ì´ ì˜ëª»ë˜ì—ˆë‹¤. EC2ëŠ” í•´ë‹¹ IAM Roleì„ ê°€ì§„ Profileì„ ì‚¬ìš©í•œë‹¤. ê·¸ë˜ì„œ awscliì˜ ê²½ìš° &amp;ndash;profileì„ í†µí•´ ì§ì ‘ profile ì´ë¦„ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.&lt;/li>
&lt;/ul>
&lt;h2 id="ì™œ-í•„ìš”í• ê¹Œ">ì™œ í•„ìš”í• ê¹Œ?
&lt;/h2>&lt;blockquote>
&lt;p>aws clië¥¼ ì‚¬ìš©í•  ë•Œ profile ê¸°ëŠ¥ì„ ì´ìš©í•˜ë©´ ì—¬ëŸ¬ê°œì˜ ìê²© ì¦ëª…ì„ ë“±ë¡í•˜ê³  ìŠ¤ìœ„ì¹­í•´ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì¶œì²˜ - &lt;a class="link" href="https://cloudest.oopy.io/posting/101" target="_blank" rel="noopener"
>https://cloudest.oopy.io/posting/101&lt;/a>&lt;/p>&lt;/blockquote>
&lt;h3 id="ì§ˆë¬¸-2-iam-roleê³¼ì˜-ì°¨ì´ì ì€">ì§ˆë¬¸ 2. IAM Roleê³¼ì˜ ì°¨ì´ì ì€?
&lt;/h3>&lt;p>Profileì´ í•„ìš”í•œ ì´ìœ ëŠ” ì—¬ëŸ¬ê°œì˜ ìê²© ì¦ëª…ì„ ë“±ë¡í•˜ê³  ìŠ¤ìœ„ì¹­í•´ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•¨ì´ë¼ê³  í–ˆë‹¤. íŠ¹ì§•ì„ ë´¤ì„ë•Œ IAMì˜ Roleê³¼ ë¹„ìŠ·í•´ ë³´ì˜€ë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Roles are designed to be â€œassumedâ€ by other principals&lt;/strong> which do define â€œwho am I?â€, such as users, Amazon services, and EC2 instances
&lt;strong>An instance profile, on the other hand, defines â€œwho am I?â€&lt;/strong> Just like an IAM user represents a person, an instance profile represents EC2 instances. The only permissions an EC2 instance profile has is the power to assume a role.&lt;/p>
&lt;p>ì¶œì²˜ - &lt;a class="link" href="https://www.quora.com/In-AWS-what-is-the-difference-between-a-role-and-an-instance-profile" target="_blank" rel="noopener"
>https://www.quora.com/In-AWS-what-is-the-difference-between-a-role-and-an-instance-profile&lt;/a>&lt;/p>&lt;/blockquote>
&lt;p>IAM Roleì€ ë¬´ì—‡ì„ í•  ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•œ í–‰ìœ„ë¥¼ ì •ì˜í•˜ëŠ” ê²ƒì´ë¼ë©´ &lt;mark class="hltr-dark-green">Profile InstanceëŠ” &amp;ldquo;ëˆ„ê°€ ë§Œë“¤ì—ˆëŠ”ì§€ë¥¼ ì •ì˜í•˜ê¸°&amp;rdquo; ìœ„í•¨&lt;/mark>ì´ë¼ë©´ ë³´ë©´ ëœë‹¤.&lt;/p>
&lt;h2 id="conclusion">Conclusion
&lt;/h2>&lt;ul>
&lt;li>ë‚´ê°€ ì´ëŸ¬í•œ ê¶ê¸ˆì¦ì„ ê°€ì§€ê²Œ ëœ ê²ƒì€ IAMì„ í•œì‚¬ëŒì—ê²Œë§Œ ë¶€ì—¬ëœë‹¤ê³  ìƒê°í–ˆê¸° ë•Œë¬¸ì´ì—ˆë‹¤. ê·¸ëŸ° ë§¥ë½ì—ì„œëŠ” profileì´ í•„ìš” ì—†ê¸° ë•Œë¬¸ì´ë‹¤.&lt;/li>
&lt;/ul>
&lt;h2 id="reference">Reference
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_switch-role-ec2_instance-profiles.html" target="_blank" rel="noopener"
>https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_switch-role-ec2_instance-profiles.html&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html" target="_blank" rel="noopener"
>https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Gin ì˜ˆì™¸ì²˜ë¦¬ - 2. ì»¤ìŠ¤í…€ ì˜ˆì™¸ì²˜ë¦¬</title><link>https://s0okju.github.io/p/gin-error-handling-2/</link><pubDate>Wed, 10 Apr 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/gin-error-handling-2/</guid><description>&lt;p>ì´ì „ì—ëŠ” Ginì´ ì–´ë–»ê²Œ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ í•˜ëŠ”ì§€ ì–¸ê¸‰í–ˆë‹¤. ì´ì œë¶€í„° ì§ì ‘ êµ¬í˜„í•˜ê³ ì í•œë‹¤.&lt;/p>
&lt;h2 id="error-wrapping">Error Wrapping
&lt;/h2>&lt;p>ì§ì ‘ ì œì‘í•œ ì—ëŸ¬ ì½”ë“œì¸ WebCodeì™€ ì—ëŸ¬ë¥¼ ê°ì‹¼ &lt;code>NetError&lt;/code>ë¥¼ ë§Œë“¤ì—ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">NetError&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Code&lt;/span> &lt;span class="nx">codes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">WebCode&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Err&lt;/span> &lt;span class="kt">error&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>í”„ë¡œì íŠ¸ êµ¬í˜„í• ë•Œ ì£¼ë¡œ gin í˜¹ì€ ent ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì“´ë‹¤. ë³„ë„ì˜ Error êµ¬ì¡°ì²´(NetError)ë¥¼ ì •ì˜í•¨ìœ¼ë¡œì¨ &lt;code>Err&lt;/code>ì— gin í˜¹ì€ ent ì—ëŸ¬ë¥¼ ë‹´ê² ë‹¤ëŠ” ì˜ë¯¸ì¸ ê²ƒì´ë‹¤.&lt;/p>
&lt;h2 id="ginì—ì„œì˜-ì˜ˆì™¸-ì²˜ë¦¬">Ginì—ì„œì˜ ì˜ˆì™¸ ì²˜ë¦¬
&lt;/h2>&lt;p>&lt;a class="link" href="https://pkg.go.dev/github.com/gin-gonic/gin#Context.Error" target="_blank" rel="noopener"
>Gin Error() í•¨ìˆ˜&lt;/a>ì— ì˜í•˜ë©´ Ginì˜ Contextì— Errorë¥¼ ë‹´ì€ í›„ì— Middlewareì—ì„œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•˜ê³  ìˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>Error attaches an error to the current context. The error is pushed to a list of errors. &lt;strong>It&amp;rsquo;s a good idea to call Error for each error that occurred during the resolution of a request.&lt;/strong> A middleware can be used to collect all the errors and push them to a database together, print a log, or append it in the HTTP response. Error will panic if err is nil.&lt;/p>&lt;/blockquote>
&lt;p>ë¼ì´ë¸ŒëŸ¬ë¦¬ ì½”ë“œë¥¼ ë³´ë©´ &lt;code>Errors&lt;/code> í•„ë“œê°€ ì •ì˜ë˜ì–´ ìˆëŠ”ë°, errorMsgëŠ” &lt;code>[]*Error&lt;/code> ì—ëŸ¬ ë¦¬ìŠ¤íŠ¸ë¡œ íƒ€ì…ì„ ê°€ì§€ê³  ìˆë‹¤. ìœ„ì˜ ì„¤ëª…ëŒ€ë¡œ errorì˜ ë¦¬ìŠ¤íŠ¸ê°€ Context ë‚´ë¶€ì— êµ¬í˜„ë˜ì–´ ìˆëŠ” ê²ƒì´ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// gin/context.go&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">Context&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Errors&lt;/span> &lt;span class="nx">errorMsgs&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ..&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// gin/errors.go&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">errorMsgs&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">Error&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì¦‰, ctx.Errorë¥¼ í™œìš©í•˜ì—¬ ì…ë ¥ë°›ì€ ì—ëŸ¬ë¥¼ Ginì˜ ì—ëŸ¬ë¡œ ê°ì‹¼ í›„ì— Contextì˜ Errors ë¦¬ìŠ¤íŠ¸ì— ë„£ê²Œ ëœë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// gin/context.go&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Error attaches an error to the current context. The error is pushed to a list of errors.// It&amp;#39;s a good idea to call Error for each error that occurred during the resolution of a request.// A middleware can be used to collect all the errors and push them to a database together,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// print a log, or append it in the HTTP response.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Error will panic if err is nil.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">c&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">Error&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">panic&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;err is nil&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">parsedError&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">Error&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">As&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">parsedError&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">!&lt;/span>&lt;span class="nx">ok&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">parsedError&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">Error&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Err&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Type&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">ErrorTypePrivate&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Errors&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Errors&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">parsedError&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">parsedError&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Context ë‚´ë¶€ì— ìˆëŠ” Error ë¦¬ìŠ¤íŠ¸ëŠ” Middlewareì—ì„œ ì²˜ë¦¬í•˜ê²Œ ëœë‹¤.&lt;/p>
&lt;p>Ginì—ì„œëŠ” &lt;a class="link" href="https://pkg.go.dev/github.com/gin-gonic/gin#HandlerFunc" target="_blank" rel="noopener"
>HandlerFunc&lt;/a>ë¥¼ sliceë¡œ êµ¬í˜„ëœ &lt;a class="link" href="https://pkg.go.dev/github.com/gin-gonic/gin#HandlersChain" target="_blank" rel="noopener"
>HandlerChain&lt;/a>ì´ ìˆëŠ”ë°, ì´ëŠ” Ginì´ ê°ê°€ì§€ì˜ Handlerë¥¼ Chainë‚´ì— ë„£ê³  ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">HandlersChain&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="nx">HandlerFunc&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ê·¸ëŸ¼ ì˜¤ë¥˜ë¥¼ ì–´ë–»ê²Œ ë°œìƒì‹œí‚¤ë©´ ë ê¹Œ? HandlerChain ë‚´ì— ìˆëŠ” ëŒ€ê¸° ì¤‘ì¸(Pending) Handlerë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šë„ë¡ í•˜ë©´ëœë‹¤. ì¦‰, Contextë¥¼ &lt;a class="link" href="https://pkg.go.dev/github.com/gin-gonic/gin#Context.Abort" target="_blank" rel="noopener"
>Abort&lt;/a>í•˜ë©´ ë˜ëŠ” ê²ƒì´ë‹¤. ê·¸ ì´í›„ì— ì²˜ë¦¬í•  Handlerê°€ ì—†ì–´ì§€ë©´ì„œ ì¢…ë£Œê°€ ëœë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>Abort prevents pending handlers from being called. Note that this will not stop the current handler. Let&amp;rsquo;s say you have an authorization middleware that validates that the current request is authorized. If the authorization fails (ex: the password does not match), &lt;strong>call Abort to ensure the remaining handlers for this request are not called.&lt;/strong>&lt;/p>&lt;/blockquote>
&lt;h2 id="í”„ë¡œì íŠ¸ì—-ì ìš©í•˜ê¸°">í”„ë¡œì íŠ¸ì— ì ìš©í•˜ê¸°
&lt;/h2>&lt;h3 id="ì ˆì°¨">ì ˆì°¨
&lt;/h3>&lt;p>ìœ„ì˜ ë‚´ìš©ì„ ê°€ì§€ê³  ì‹¤ì œë¡œ ì ìš©í•´ë³´ì.
í”„ë¡œì íŠ¸ êµ¬ì„±ì€ 3ê³„ì¸µìœ¼ë¡œ ì»¤ìŠ¤í…€ ì—ëŸ¬ ê°ì‹¸ê¸°ëŠ” ì„œë¹„ìŠ¤ ë¡œì§ì— ìˆ˜í–‰í•˜ë„ë¡ í–ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>Service ê³„ì¸µì— Error Wrappingì„ í•œë‹¤.&lt;/li>
&lt;li>Controllerì— context ë‚´ì— ìˆëŠ” ì—ëŸ¬ ë¦¬ìŠ¤íŠ¸ì— ì˜ˆì™¸ë¥¼ ë„£ëŠ”ë‹¤.&lt;/li>
&lt;li>Middlewareì— Error Wrappingí•œ ê²ƒì„ Unwrapping í•˜ë©´ì„œ ì˜ˆì™¸ íƒ€ì…ì„ í•™ì¸í•œë‹¤.&lt;/li>
&lt;li>ì»¤ìŠ¤í…€ ì—ëŸ¬ë¼ë©´ WebCodeì— ë”°ë¥¸ ì‘ë‹µê°’ì„ ë°˜í™˜í•œë‹¤.&lt;/li>
&lt;/ol>
&lt;p>ê·¸ë¦¼ìœ¼ë¡œ í‘œí˜„í•˜ìë©´ ì•„ë˜ì™€ ê°™ë‹¤.
&lt;img src="https://s0okju.github.io/p/gin-error-handling-2/image.png"
width="1365"
height="538"
srcset="https://s0okju.github.io/p/gin-error-handling-2/image_hu_d38230577bf54f3d.png 480w, https://s0okju.github.io/p/gin-error-handling-2/image_hu_f1ef8c9de690b079.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="253"
data-flex-basis="608px"
>&lt;/p>
&lt;h3 id="ì½”ë“œ">ì½”ë“œ
&lt;/h3>&lt;p>ì½”ë“œëŠ” ì•„ë˜ì˜ ë‘ ì‚¬ì´íŠ¸ë¥¼ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://d2.naver.com/helloworld/2690202" target="_blank" rel="noopener"
>Naver D2, Golang, ê·¸ëŒ€ë“¤ì€ ì–´ë–»ê²Œ í•  ê²ƒì¸ê°€ - 3. error ë˜í•‘&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://d2.naver.com/helloworld/6507662" target="_blank" rel="noopener"
>Naver D2, Golang, ê·¸ëŒ€ë“¤ì€ ì–´ë–»ê²Œ í•  ê²ƒì¸ê°€ - 4. error í•¸ë“¤ë§&lt;/a>&lt;/li>
&lt;/ul>
&lt;h4 id="service-layer">Service Layer
&lt;/h4>&lt;p>Persistence Layerì—ì„œ ì–»ì€ ì—ëŸ¬ ê°’ì„ ì§ì ‘ ë°›ì€ í›„ì— Service ê³„ì¸µì—ì„œ ì ì ˆí•˜ê²Œ NetErrorë¡œ ê°ì‹¼ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// service&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">s&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">MemberService&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">CreateMember&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">gin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">RegisterReq&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Member&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">errorutils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NetError&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Check member Exist&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">existedMem&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Store&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">GetMemberByEmail&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Email&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">errorutils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NetError&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">Code&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">codes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">MemberInternalServerError&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Err&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">IsNotFound&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mem&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err2&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Store&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err2&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">errorutils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NetError&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">Code&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">codes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">MemberCreationError&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Err&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">err2&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">mem&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">existedMem&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="controller-layer">Controller Layer
&lt;/h4>&lt;p>ControllerëŠ” Service ê³„ì¸µì—ì„œ ê°ì‹¼ ì»¤ìŠ¤í…€ ì—ëŸ¬ë¥¼ ë°›ì€ í›„ì— Contextì˜ ì—ëŸ¬ ë¦¬ìŠ¤íŠ¸ì— ë„£ëŠ”ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">controller&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">MemberController&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">RegisterMember&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">gin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">req&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">RegisterReq&lt;/span>&lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ShouldBindJSON&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">errorutils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewNetError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">codes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">MemberInvalidJson&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Create member&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mem&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err2&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">controller&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">service&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">CreateMember&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err2&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Service ê³„ì¸µì—ì„œ ë°›ì€ ì—ëŸ¬ë¥¼ Context ë‚´ ì—ëŸ¬ ë¦¬ìŠ¤íŠ¸ì— ë„£ëŠ”ë‹¤.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mid&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">MemberId&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">MemberId&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">mem&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ID&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">SuccessWith&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">codes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">MemberCreationSuccess&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">mid&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="middleware">Middleware
&lt;/h4>&lt;p>ì—ëŸ¬ ì‘ë‹µê°’ì„ ë°˜í™˜í•  HandlerFuncë¥¼ êµ¬í˜„í•œë‹¤.&lt;/p>
&lt;ol>
&lt;li>&lt;a class="link" href="https://pkg.go.dev/github.com/gin-gonic/gin#Context.Next" target="_blank" rel="noopener"
>Next&lt;/a>ë¥¼ í™œìš©í•˜ì—¬ ëŒ€ê¸° ì¤‘ì¸ í•¸ë“¤ëŸ¬ë¥¼ ì‹¤í–‰ì‹œí‚¨ë‹¤.&lt;/li>
&lt;li>&lt;a class="link" href="https://pkg.go.dev/errors#example-As" target="_blank" rel="noopener"
>errors.As&lt;/a>ë¥¼ í™œìš©í•˜ì—¬ Context ì—ëŸ¬ ë¦¬ìŠ¤íŠ¸ì— ìˆëŠ” ì—ëŸ¬ê°€ ì»¤ìŠ¤í…€ ì—ëŸ¬ì¸ì§€ í™•ì¸í•œë‹¤. ì •í™•íˆ ë§í•˜ìë©´ ì—ëŸ¬ë¥¼ unwrappingí•˜ë©´ì„œ ì»¤ìŠ¤í…€ ì—ëŸ¬ì¸ì§€ í™•ì¸í•œ í›„ì— ìˆë‹¤ë©´ &lt;code>netError&lt;/code>ì— ë„£ê²Œ ëœë‹¤.&lt;/li>
&lt;li>WebCodeë¥¼ í™œìš©í•˜ì—¬ ì‘ë‹µê°’ì„ ì–»ì€ í›„ &lt;a class="link" href="https://pkg.go.dev/github.com/gin-gonic/gin#Context.AbortWithStatusJSON" target="_blank" rel="noopener"
>AbortWithStatusJson&lt;/a> ë¥¼ í™œìš©í•˜ì—¬ Response jsonì„ ì „ì†¡í•œë‹¤.&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">ErrorHandler&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="nx">gin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">HandlerFunc&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">gin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Pending ì¤‘ì¸ í•¸ë“¤ëŸ¬ ì‹¤í–‰&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Next&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// JSONì´ ë‘ë²ˆ ì“°ì´ëŠ” ê²ƒì„ ëŒ€ë¹„í•´ì„œ Body í™•ì¸&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">isBodyWritten&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Writer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Written&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Last&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ì»¤ìŠ¤í…€ ì—ëŸ¬ì¸ì§€ í™•ì¸&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">netErr&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">errorutils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NetError&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">As&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">netErr&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">code&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">netErr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">GetCode&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">codes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">GetStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">code&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewErrorResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">code&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">!&lt;/span>&lt;span class="nx">isBodyWritten&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">AbortWithStatusJSON&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">statusCode&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewErrorResponse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">codes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">GlobalInternalServerError&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">!&lt;/span>&lt;span class="nx">isBodyWritten&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">AbortWithStatusJSON&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">StatusInternalServerError&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ë§ˆë¬´ë¦¬">ë§ˆë¬´ë¦¬
&lt;/h2>&lt;p>Goì˜ ì˜ˆì™¸ ë§¤ì»¤ë‹ˆì¦˜ì€ ë‹¤ë¥¸ ì–¸ì–´ì™€ ë‹¬ë¼ì„œ í‹€ì„ ì¡ëŠ”ë° ë§ì€ ì‹œê°„ì„ ì‚¬ìš©í–ˆë‹¤. ê³µì‹ ë¬¸ì„œë‚˜ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì˜ ì˜ˆì œ ì½”ë“œë¥¼ ë¶„ì„í•˜ë©´ì„œ, Go ìŠ¤ëŸ¬ì›€ì´ ë¬´ì—‡ì¸ì§€ ìì¸° ë°°ì›Œê°„ë‹¤ëŠ” ëŠë‚Œì´ë‹¤. ê·¸ëŸ¬ë‚˜ ì½”ë“œì–‘ì´ ë§ì•„ì§€ë©´ì„œ ì˜¤íˆë ¤ ì½”ë“œê°€ ë³µì¡í•´ì§€ëŠ” ê²ƒ ê°™ê¸°ë„ í•˜ë‹¤.&lt;/p></description></item><item><title>Gin ì˜ˆì™¸ì²˜ë¦¬ - 1. Go Error</title><link>https://s0okju.github.io/p/gin-error-handling-1/</link><pubDate>Wed, 03 Apr 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/gin-error-handling-1/</guid><description>&lt;h2 id="goì™€-ì˜ˆì™¸ì²˜ë¦¬">Goì™€ ì˜ˆì™¸ì²˜ë¦¬
&lt;/h2>&lt;h3 id="goì—ì„œì˜-ì˜ˆì™¸ì²˜ë¦¬">Goì—ì„œì˜ ì˜ˆì™¸ì²˜ë¦¬
&lt;/h3>&lt;p>Goì—ì„œëŠ” í•¨ìˆ˜ì—ì„œ ë°˜í™˜ëœ &lt;a class="link" href="https://go.dev/blog/error-handling-and-go" target="_blank" rel="noopener"
>ì—ëŸ¬ ê°ì²´(error)&lt;/a>ë¡œ ì²˜ë¦¬í•œë‹¤. ë‹¤í–‰íˆë„ multi-returnì´ ê°€ëŠ¥í•˜ê¸°ì— ì—ëŸ¬ ë°˜í™˜ì„ ë”ìš± ìˆ˜ì›”í•˜ê²Œ í•´ì¤„ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">f&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">Sqrt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="try--catchê°€-ì—†ëŠ”-ì´ìœ ">try ~ catchê°€ ì—†ëŠ” ì´ìœ 
&lt;/h3>&lt;p>&lt;a class="link" href="https://go.dev/doc/faq#exceptions" target="_blank" rel="noopener"
>ê³µì‹ ë¬¸ì„œ&lt;/a>ì— ì˜í•˜ë©´ try ~ catchëŠ” ë‚œí•´í•œ ì½”ë“œë¥¼ ìƒì„±í•˜ë©°, ê°œë°œìì—ê²Œ ë„ˆë¬´ë§ì€ ì¼ë°˜ì ì¸ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ë„ë¡ ì¥ë ¤í•œë‹¤ê³  í•œë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>We believe that coupling exceptions to a control structure, as in theÂ &lt;code>try-catch-finally&lt;/code>Â idiom, results in convoluted code. It also tends to encourage programmers to label too many ordinary errors, such as failing to open a file, as exceptional.&lt;/p>&lt;/blockquote>
&lt;p>ë‹¤ë¥¸ ì–¸ì–´ì²˜ëŸ¼ try ~ catch ë¥¼ ì–´ë ´í’‹ì´ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. ì¤‘ê°„ì— ì‹¤í–‰ì˜ íë¦„ì„ ëŠëŠ” &lt;code>panic&lt;/code> í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤. í•˜ì§€ë§Œ ë°˜ëŒ€ë¡œ ìƒê°í•˜ìë©´ &lt;strong>ëª¨ë“  ì—ëŸ¬ë“¤ì„ panicìœ¼ë¡œ ì²˜ë¦¬í•´ì•¼ í• ê¹Œ?&lt;/strong> Goì—ì„œëŠ” ê·¸ê²ƒì´ ì•„ë‹ˆë¼ëŠ” ê²ƒì´ë‹¤.
ì´ëŸ° ì´ìœ ë¡œ GoëŠ” ì‹œì˜ì ì ˆí•˜ê¸° ì˜ˆì™¸ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ errorë¥¼ ë°˜í™˜í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ê²Œ ëœë‹¤.&lt;/p>
&lt;h3 id="error---wrapping">Error - Wrapping
&lt;/h3>&lt;p>Goì—ì„œëŠ” ì—ëŸ¬ì²˜ë¦¬í•  ë•Œ Error ê°ì²´ë¥¼ ë„˜ê²¨ì¤€ë‹¤ê³  í•œë‹¤. ë¬¼ë¡  ì¼ë°˜ ì—ëŸ¬ ê°ì²´ë¥¼ ë„˜ê²¨ì¤„ ìˆ˜ ìˆì§€ë§Œ ê°œë°œìê°€ ì§ì ‘ ë§Œë“  ì—ëŸ¬ë¥¼ ë§Œë“¤ì–´ì„œ ë„˜ê²¨ì¤„ ìˆ˜ ìˆë‹¤. Error Wrappingì´ë€ ì‰½ê²Œ ë§í•˜ìë©´ error ê°ì²´ë¥¼ ê°ì‹¸ëŠ” ë˜ë‹¤ë¥¸ êµ¬ì¡°ì²´ë¥¼ ë§Œë“œëŠ” ê²ƒì´ë¼ê³  ë³´ë©´ ëœë‹¤.&lt;/p>
&lt;p>ginì—ì„œì˜ Errorë¥¼ ë´ë³´ì. ginì˜ Error ë‚´ì— í•„ë“œë¡œ errorê°€ ì¡´ì¬í•œë‹¤. ì´ëŸ¬í•œ ê³¼ì •ì„ Error Wrappingì´ë¼ê³  ë³´ë©´ ëœë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Error represents a error&amp;#39;s specification.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">Error&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Err&lt;/span> &lt;span class="kt">error&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Type&lt;/span> &lt;span class="nx">ErrorType&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Meta&lt;/span> &lt;span class="kt">any&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ê·¸ëŸ¼ ì˜ˆë¥¼ ë“¤ì–´ë³´ì. ctx.Errorë¥¼ ì‹¤í–‰í–ˆëŠ”ë° ì˜ë„ì¹˜ ì•Šê²Œ errors.Asê°€ ì ì ˆí•˜ê²Œ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤ê³  ê°€ì •í•´ë³´ì. error.AsëŠ” Error Typeì„ í™•ì¸í•˜ëŠ” í•¨ìˆ˜ì¸ë°, ë§Œì•½ì— íƒ€ì…ì´ ì ì ˆí•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, ì…ë ¥í•œ errorì„ ê°ì‹¼ Errorë¥¼ ë°˜í™˜í•˜ê²Œ ëœë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">c&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">Error&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">panic&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;err is nil&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">parsedError&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">Error&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">As&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">parsedError&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">!&lt;/span>&lt;span class="nx">ok&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">parsedError&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">Error&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Err&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Type&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">ErrorTypePrivate&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Errors&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Errors&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">parsedError&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">parsedError&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ê·¸ëŸ¼ ì›ë³¸ ì—ëŸ¬(error)ì— ì ‘ê·¼í•  ìˆ˜ ìˆì„ê¹Œ? ë°”ë¡œ Unwrapë¥¼ í†µí•´ ì–»ì„ ìˆ˜ ìˆì€ ê²ƒì´ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Unwrap returns the wrapped error, to allow interoperability with errors.Is(), errors.As() and errors.Unwrap()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">msg&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">Error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Unwrap&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="kt">error&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">msg&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ê·¸ë¦¼ìœ¼ë¡œ í‘œí˜„í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/gin-error-handling-1/img1.png"
width="551"
height="317"
srcset="https://s0okju.github.io/p/gin-error-handling-1/img1_hu_282843bb4178b24c.png 480w, https://s0okju.github.io/p/gin-error-handling-1/img1_hu_92e0e154caed4f84.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="173"
data-flex-basis="417px"
>&lt;/p>
&lt;h2 id="ê¸°ì¡´ì˜-ë¬¸ì œì ">ê¸°ì¡´ì˜ ë¬¸ì œì 
&lt;/h2>&lt;h3 id="gin-contextì˜-ì˜ëª»ëœ-í™œìš©ë²•">Gin Contextì˜ ì˜ëª»ëœ í™œìš©ë²•
&lt;/h3>&lt;p>&lt;a class="link" href="https://pkg.go.dev/context#pkg-overview" target="_blank" rel="noopener"
>ê³µì‹ ë¬¸ì„œ&lt;/a>ì—ì„œ ë§í•˜ëŠ” ContextëŠ” ë°ë“œë¼ì¸, ì·¨ì†Œ ì‹œê·¸ë„, APIì— ëŒ€í•œ ê²½ê³„ê°’ì„ ê°€ì§€ëŠ” ê°’ìœ¼ë¡œ ì •ì˜ëœë‹¤. ê·¸ë˜ì„œ ì¡°ê±´ì— ë”°ë¼ ì‹¤í–‰ì´ ì¤‘ë‹¨ë  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒìœ¼ë¡œ ì´í•´í–ˆë‹¤.
ginì€ ìì²´ì ì¸ Contextë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©°, contextë¥¼ ì¤‘ë‹¨ì‹œí‚¬ ìˆ˜ ìˆëŠ” ì—¬ëŸ¬ í•¨ìˆ˜ë“¤ì´ ì¡´ì¬í•œë‹¤.&lt;/p>
&lt;p>Service Layerì—ì„œ ì»¤ìŠ¤í…€ ì—ëŸ¬ íƒ€ì…ìœ¼ë¡œ ë°˜í™˜í•˜ë„ë¡ êµ¬í˜„í–ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">controller&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">MemberController&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">RegisterMember&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">gin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span> &lt;span class="nx">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">RegisterReq&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">req&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">RegisterReq&lt;/span>&lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ShouldBindJSON&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Create member&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">err2&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">controller&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">service&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">CreateMember&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err2&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">errorutils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ErrorFunc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">webutils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Success&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì»¤ìŠ¤í…€ ì—ëŸ¬ íƒ€ì…ì„ ìì„¸íˆ ë³´ë©´, ìì²´ì ìœ¼ë¡œ ì œì‘í•œ ì—ëŸ¬ ì½”ë“œì™€ errorì„ ë‹´ì„ Err í•„ë“œê°€ ì¡´ì¬í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">Error&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Code is a custom error codes&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ErrorType&lt;/span> &lt;span class="nx">ErrorType&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Err is a error string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Err&lt;/span> &lt;span class="kt">error&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Description is a human-friendly message.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Description&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì˜¤ë¥˜ ë°œìƒì‹œ í˜„ì¬ ì‹¤í–‰ì„ ë©ˆì¶”ê³ , ì‘ë‹µê°’ì„ ë³´ë‚´ëŠ” ErrorFuncë„ ë§Œë“¤ì—ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">ErrorFunc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">gin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">Error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">getCode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ErrorType&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">AbortWithStatusJSON&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Code&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;a class="link" href="https://pkg.go.dev/github.com/gin-gonic/gin#Context.Abort" target="_blank" rel="noopener"
>ê³µì‹ ë¬¸ì„œ&lt;/a> ì— ì˜í•˜ë©´&lt;code>AbortWithStatusJSON&lt;/code>ì—ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ Contextë¥¼ ì¤‘ë‹¨ì‹œí‚¬ ìˆ˜ ìˆëŠ”&lt;code>Abort&lt;/code> í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤. êµ¬ì²´ì ìœ¼ë¡œ &lt;a class="link" href="https://pkg.go.dev/github.com/gin-gonic/gin#Context.Abort" target="_blank" rel="noopener"
>Abort í•¨ìˆ˜&lt;/a>ëŠ” í˜„ì¬ì˜ handlerëŠ” ê·¸ëŒ€ë¡œ ë‚¨ì§€ë§Œ, ê·¸ ì´í›„ì˜ handlerë¥¼ ì²˜ë¦¬í•˜ì§€ ì•Šê² ë‹¤ëŠ” ê²ƒì´ë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>Abort prevents pending handlers from being called. Note that this will not stop the current handler. Let&amp;rsquo;s say you have an authorization middleware that validates that the current request is authorized. If the authorization fails (ex: the password does not match), call Abort to ensure the remaining handlers for this request are not called.&lt;/p>&lt;/blockquote>
&lt;p>ë¬¸ì¥ì„ ë³´ë©´ì„œ ë‚´ê°€ Gin í”„ë ˆì„ì›Œí¬ì˜ ì—ëŸ¬ì²˜ë¦¬ë¥¼ ì™„ì „íˆ ì˜ëª»í–ˆìŒì„ ê¹¨ë‹«ê²Œ ë˜ì—ˆë‹¤.&lt;/p>
&lt;h3 id="gin-error-ë¯¸ì‚¬ìš©">Gin Error ë¯¸ì‚¬ìš©
&lt;/h3>&lt;p>&lt;a class="link" href="https://pkg.go.dev/github.com/gin-gonic/gin#Context.Error" target="_blank" rel="noopener"
>ê³µì‹ ë¬¸ì„œ&lt;/a>ì— ì˜í•˜ë©´ Ginì€ ìì‹ ë“¤ì˜ Errorë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•˜ë©°, middlewareê°€ ì´ë¥¼ ì²˜ë¦¬í•˜ì—¬ ì˜¤ë¥˜ responseë¥¼ ì²˜ë¦¬í•˜ë¼ê³  ëª…ì‹œë˜ì–´ ìˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>Error attaches an error to the current context. The error is pushed to a list of errors. It&amp;rsquo;s a good idea to call Error for each error that occurred during the resolution of a request. A middleware can be used to collect all the errors and push them to a database together, print a log, or append it in the HTTP response. Error will panic if err is nil.&lt;/p>&lt;/blockquote>
&lt;p>ì¦‰, ì˜¤ë¥˜ê°€ ë°œìƒí• ë•Œë§ˆë‹¤ ginì˜ Contextì—ì„œ ì œê³µí•´ì£¼ëŠ” Errorë¡œ ê°ì‹¸ë©°, Middlewareì— ìˆëŠ” Handlerê°€ ì´ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤.&lt;/p>
&lt;h2 id="2ë¶€ì—ì„œëŠ”">2ë¶€ì—ì„œëŠ”
&lt;/h2>&lt;p>ì§€ê¸ˆê¹Œì§€ëŠ” ë‚´ê°€ ë§Œë“¤ì—ˆë˜ ì˜ˆì™¸ì²˜ë¦¬ì—ëŠ” ì–´ë– í•œ ë¬¸ì œì ì´ ìˆëŠ”ì§€ í™•ì¸í•´ë´¤ë‹¤. 2ë¶€ì—ì„œëŠ” ìœ„ì—ì„œ ì„¤ëª…í•œ ì˜ëª»ëœ ì—ëŸ¬ì²˜ë¦¬ë¥¼ ê³µì‹ë¬¸ì„œì—ì„œ ì œì‹œí•œ ì˜¬ë°”ë¥¸ ì—ëŸ¬ì²˜ë¦¬ë¥¼ êµ¬í˜„í•˜ê³ ì í•œë‹¤.&lt;/p>
&lt;ul>
&lt;li>Middlewareì— Handler êµ¬í˜„&lt;/li>
&lt;li>gin.Errorë¥¼ í™œìš©í•˜ì—¬ Errorë¥¼ wrappingí•˜ê³ , Middlewareì—ì„œ ì²˜ë¦¬í•˜ê¸°&lt;/li>
&lt;/ul></description></item><item><title>TodoPoint - ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½ì—ì„œ DBëŠ” ì–´ë–»ê²Œ êµ¬ì„±í•˜ì§€?</title><link>https://s0okju.github.io/p/todopoint-db-design/</link><pubDate>Wed, 13 Mar 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/todopoint-db-design/</guid><description>&lt;h1 id="ë„ì»¤ì™€-ë°ì´í„°ë² ì´ìŠ¤">ë„ì»¤ì™€ ë°ì´í„°ë² ì´ìŠ¤
&lt;/h1>&lt;p>í•œì°¸ ì»¨í…Œì´ë„ˆë¥¼ ê³µë¶€ë¥¼ í–ˆì„ ë‹¹ì‹œ ë„ì»¤ì˜ ì£¼ ëª©ì ì´ ë¹ ë¥¸ ë°°í¬/ê°œë°œ í™˜ê²½ì„ êµ¬ì„±í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— ì˜ì†ì„±ì„ ê°€ì§„ ë°ì´í„°ë² ì´ìŠ¤ì—ëŠ” ì í•©í•˜ì§€ ì•Šì•˜ë‹¤ê³  ì•Œê³  ìˆë‹¤.
ì´ì— ëŒ€í•œ ë¬¸ì œì ìœ¼ë¡œ DB ë°ì´í„° ì†ì‹¤ì„ ì–¸ê¸‰í•œë‹¤. ê·¸ëŸ°ë° ë„ì»¤ë¥¼ ìƒê°í•´ë³´ë©´ volume ê¸°ëŠ¥ì´ ì¡´ì¬í•œë‹¤. ì¦‰, ë°ì´í„°ë¥¼ ì˜ì†ì ìœ¼ë¡œ ë³´ê´€í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.
&lt;a class="link" href="https://hyeon9mak.github.io/why-does-not-run-database-on-docker/" target="_blank" rel="noopener"
>í˜„êµ¬ë§‰ ê¸°ìˆ  ë¸”ë¡œê·¸&lt;/a>ì—ì„œ ë³´ë©´ ì´ë¡ ì ìœ¼ë¡œëŠ” ë„ì»¤ë¥¼ ì‚¬ìš©í•´ë„ ë˜ì—ˆìœ¼ë‚˜, ì„œë¹„ìŠ¤ ìš´ì˜ ì¸¡ë©´ì—ì„œëŠ” ë„ì»¤ë¼ëŠ” ê¸°ìˆ ì´ ë¶ˆì•ˆì •í•´ ì“°ì´ì§€ ì•ŠëŠ”ë‹¤ê³  ì–¸ê¸‰ë˜ì–´ ìˆë‹¤.&lt;/p>
&lt;h1 id="ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œëŠ”ìš”">ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œëŠ”ìš”?
&lt;/h1>&lt;p>ê·¸ëŸ°ë° ì €ê±´ ë„ì»¤ì— í•œì •ëœ ì´ì•¼ê¸°ì¸ ê²ƒ ê°™ë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ íŠ¹ì§•ì„ ì˜ ì‚´í´ë³´ë©´ ìƒíƒœë¥¼ ì‚¬ì „ì— ì •ì˜í•˜ê³ , ì •ì˜ëœ ìƒíƒœë¡œ ìš´ì˜ëœë‹¤. ìš´ì˜ ì¸¡ë©´ì—ì„œ í¸ë¦¬í•´ ë³´ì´ê³ , ì•ˆì „ì„±ì´ ë¬¸ì œë¼ê³  í•œë‹¤ë©´ ë‹¤ì¤‘í™”ë¥¼ í•˜ë©´ ëœë‹¤.
&lt;a class="link" href="https://jerryljh.medium.com/%EC%8B%A4%EC%82%AC%EB%A1%80%EB%A1%9C-%EB%B3%B8-db-on-kubernetes-%ED%9A%A8%EA%B3%BC-eaed8e4e5811" target="_blank" rel="noopener"
>ì´ì •í›ˆë‹˜ì˜ medium - ì‹¤ì œë¡œ ë³¸ DB on Kubernetes íš¨ê³¼&lt;/a>ì—ì„œ ì–¸ê¸‰í–ˆë‹¤ì‹¶ì´ ì¼ë¶€ ì„±ëŠ¥ í–¥ìƒë„ ë³´ì´ê¸°ë„ í–ˆë‹¤ê³  í•œë‹¤.&lt;/p>
&lt;h1 id="todopointì—ì„œëŠ”-ì–´ë–»ê²Œ-êµ¬ì„±í•˜ì§€">TodoPointì—ì„œëŠ” ì–´ë–»ê²Œ êµ¬ì„±í•˜ì§€?
&lt;/h1>&lt;p>StatefulSetì„ ì‚¬ìš©í•˜ìê°€ ê²°ë¡ ì´ë‹¤. StatefulSetì€ ìƒíƒœ ì •ë³´ë¥¼ êµ¬ì„±í• ë•Œ ì£¼ë¡œ ì‚¬ìš©ëœë‹¤.
ì•„ë˜ì˜ ë¸”ë¡œê·¸ì²˜ëŸ¼ CronJobì„ í™œìš©í•´ì„œ ë°±ì—…ì„ êµ¬ì„±í•˜ë„ë¡ ì„¤ê³„í•´ì•¼ ê² ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤.
&lt;img src="https://s0okju.github.io/p/todopoint-db-design/img1.png"
width="916"
height="884"
srcset="https://s0okju.github.io/p/todopoint-db-design/img1_hu_f6d63000fa19eed4.png 480w, https://s0okju.github.io/p/todopoint-db-design/img1_hu_f60528414905e032.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - https://nangman14.tistory.com/79"
class="gallery-image"
data-flex-grow="103"
data-flex-basis="248px"
>&lt;/p>
&lt;h1 id="reference">Reference
&lt;/h1>&lt;ul>
&lt;li>&lt;a class="link" href="https://nangman14.tistory.com/79" target="_blank" rel="noopener"
>https://nangman14.tistory.com/79&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Go-DBì— ë§ˆê·¸ì´ì…˜í•˜ê¸°</title><link>https://s0okju.github.io/p/go-db-migration/</link><pubDate>Sat, 09 Mar 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/go-db-migration/</guid><description>&lt;p>Java ì§„ì˜ì—ì„œ ìì£¼ ì‚¬ìš©ë˜ëŠ” ORMì€ JPAì´ë‹¤. í•˜ì§€ë§Œ Goì—ì„œëŠ” ëŒ€í‘œì ì¸ ORMì€ ì—†ëŠ”ë“¯í•˜ë‹¤. ê·¸ëŸ°íƒ“ì— ì´ëŸ°ì €ëŸ° ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë§ì€ë°, ìƒí™©ì— ë§ê²Œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì“°ì„¸ìš” ì‹ì˜ GoìŠ¤ëŸ¬ì›€ì„ ë§ì´ ë³¼ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;h1 id="ì–´ë–¤-ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼-ì‚¬ìš©í• -ê²ƒì¸ê°€">ì–´ë–¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ê²ƒì¸ê°€?
&lt;/h1>&lt;h2 id="gorm">gorm
&lt;/h2>&lt;p>ê³¼ê±°ì—ëŠ” gormì´ ë§ì´ ì“°ì¸ë‹¤ê³  í•˜ë˜ë°, ì—¬ëŸ¬ ë¬¸ì œì ì´ ì¡´ì¬í•œë‹¤ê³  í•œë‹¤.&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>ê°œì¸ì ìœ¼ë¡œ ìµœì•…ì˜ ê¸°ëŠ¥ì€ ì„¤ì •ë“¤ì„ struct tagë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ë¼ê³  ìƒê°í•œë‹¤.&lt;/p>
&lt;h2 id="ent">ent
&lt;/h2>&lt;p>ìš”ì¦˜ ëœ¨ê³  ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” FaceBookì—ì„œ ìì²´ì ìœ¼ë¡œ ê°œë°œí•œ &lt;a class="link" href="https://entgo.io/docs/getting-started/" target="_blank" rel="noopener"
>ent&lt;/a>ì´ë‹¤. GO ì½”ë“œë¡œ ìŠ¤í‚¤ë§ˆë¥¼ ì‘ì„±í•˜ë©´ DBì— ëª¨ë¸ë§ì„ í•´ì£¼ë©°, íŠ¹íˆ Graph íƒìƒ‰ì— íŠ¹í™”ë˜ì–´ ìˆë‹¤.&lt;/p>
&lt;h2 id="ë‚˜ì˜-ì„ íƒì€">ë‚˜ì˜ ì„ íƒì€
&lt;/h2>&lt;p>ë‚˜ì˜ ì„ íƒì€ entì´ë‹¤. ì¼ë‹¨ ëŒ€ê¸°ì—…ì´ ê°œë°œí–ˆë‹¤ëŠ” ì ì—ì„œ 1ì°¨ì ìœ¼ë¡œ ì‹ ë¢°ê°€ ê°„ë‹¤. &lt;a class="link" href="https://github.com/volatiletech/sqlboiler" target="_blank" rel="noopener"
>sqlboiler&lt;/a>ê°€ í™”ë ¤í•œ ë²¤ì¹˜ë§ˆí¬ ê²°ê³¼ë¥¼ ë³´ì—¬ì¤˜ì„œ ê¶ê¸ˆí•˜ê¸´ í•˜ì§€ë§Œ ë¬¸ì„œí™”ê°€ ì˜ëœ entë¥¼ ìš°ì„ ì ìœ¼ë¡œ í•´ë³´ê³ ì í•œë‹¤.&lt;/p>
&lt;h3 id="orm-ê¼­-í•„ìš”í•œ-ê²ƒì¸ê°€">ORM ê¼­ í•„ìš”í•œ ê²ƒì¸ê°€?
&lt;/h3>&lt;p>ì›¹ê°œë°œ ìì²´ë¥¼ ì–•ê²Œ í•´ì˜¤ë©´ì„œ ORMì— ìµìˆ™í•´ì¡Œë‹¤. ê·¸ëŸ¬ë©´ì„œ ORMì€ ì„ íƒì´ ì•„ë‹Œ í•„ìˆ˜ë¼ê³  ì—¬ê¸°ë©´ì„œ ì‚¬ìš©í–ˆë˜ ê²ƒ ê°™ë‹¤. í•˜ì§€ë§Œ ORM ì¶”ì²œê¸€ì„ ì½ìœ¼ë©´ì„œ ê¼­ í•„ìš”í•œê°€ì— ëŒ€í•´ ìƒê°í•˜ê²Œ ëœ ê³„ê¸°ê°€ ë˜ì—ˆë˜ ê²ƒ ê°™ë‹¤.&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>
ê°œë°œì ì…ì¥ì—ì„œëŠ” CRUDë¥¼ ì¶”ìƒí™”ëœ ë°©ë²•ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©° êµ¬í˜„ì´ ìš©ì´í•˜ê³ , ê°€ë…ì„±ì´ ìˆëŠ” ì½”ë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ORMì— ëŒ€í•œ ë¶€ì •ì ì¸ ì…ì¥ì˜ ëŒ€ë¶€ë¶„ì˜ ê³¼ë‹¤í•˜ê²Œ ì‚¬ìš©í–ˆì„ ë•Œë¥¼ ê°€ì •í•œë‹¤.
ê°œì¸ì ìœ¼ë¡œëŠ” ì–´ë– í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“  ê³¼ë‹¤í•˜ê²Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì˜¤ë²„í—¤ë“œê°€ ë”°ë¥¸ë‹¤ê³  ìƒê°í•œë‹¤. ë˜í•œ DB ì„¤ê³„ ìì²´ê°€ ì˜ëª»ë˜ì–´ì„œ ì¼ ìˆ˜ ìˆë‹¤.
ë‚˜ì™€ ê°™ì€ ì†Œê·œëª¨ í”„ë¡œì íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ë¼ë©´ ê¸°ì¡´ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ìˆëŠ” ëª¨ë“  ê¸°ëŠ¥ì„ ì“¸ ì¼ì´ ì—†ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ORMì„ ì“°ë ¤ê³  í•œë‹¤. ê·¸ë¦¬ê³  ê°œë°œìê°€ ì“°ê¸° í¸í•´ì•¼ ìœ ì§€ë³´ìˆ˜í•˜ê¸° í¸í•  ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë” ë§ì´ ë“ ë‹¤.&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/" target="_blank" rel="noopener"
>https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://www.reddit.com/r/golang/comments/t3bp79/a_good_orm_for_golang/" target="_blank" rel="noopener"
>https://www.reddit.com/r/golang/comments/t3bp79/a_good_orm_for_golang/&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Spring - Spring Boot ê°„ëµí•˜ê²Œ ì•Œì•„ë³´ê¸°</title><link>https://s0okju.github.io/p/basic-spring-1/</link><pubDate>Sat, 03 Feb 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/basic-spring-1/</guid><description>&lt;h2 id="ìŠ¤í”„ë§-ë¶€íŠ¸">ìŠ¤í”„ë§ ë¶€íŠ¸
&lt;/h2>&lt;p>ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ íŠ¹ì§•ì€ ì•„ë˜ì˜ ë¬¸ì¥ìœ¼ë¡œ ì •ë¦¬ ê°€ëŠ¥í•˜ë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ëŠ” IoC/DIë¥¼ í†µí•´ ê°ì²´ ê°„ì˜ ì˜ì¡´ ê´€ê³„ë¥¼ ì„¤ì •í•˜ê³ , AOPë¥¼ í†µí•´ í•µì‹¬ ê´€ì ê³¼ ë¶€ê°€ ê´€ì ì„ ë¶„ë¦¬í•´ ê°œë°œí•˜ë©°, PSAë¥¼ í†µí•´ ì¶”ìƒí™”ëœ ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ë“¤ì„ ì¼ê´€ëœ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•˜ë„ë¡ í•œë‹¤.&lt;/p>&lt;/blockquote>
&lt;ul>
&lt;li>IoC : ê°ì²´ì˜ ìƒì„±ê³¼ ê´€ë¦¬ë¥¼ ê°œë°œìê°€ í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ í”„ë ˆì„ì›Œí¬ê°€ ëŒ€ì‹ í•˜ëŠ” ê²ƒ&lt;/li>
&lt;li>DI : ì™¸ë¶€ì—ì„œ ê°ì²´ë¥¼ ì£¼ì…ë°›ì•„ ì‚¬ìš©í•˜ëŠ” ê²ƒ&lt;/li>
&lt;li>AOP : í”„ë¡œê·¸ë˜ë°ì„ í•  ë•Œ í•µì‹¬ ê´€ì ê³¼ ë¶€ê°€ ê´€ì ì„ ë‚˜ëˆ„ì–´ì„œ ê°œë°œí•˜ëŠ” ê²ƒ&lt;/li>
&lt;li>PSA : ì–´ëŠ ê¸°ìˆ ì„ ì‚¬ìš©í•˜ë˜ ì¼ê´€ëœ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒ&lt;/li>
&lt;/ul>
&lt;p>IoC/DIë¥¼ í†µí•´ ê°ì²´ ê°„ì˜ ì˜ì¡´ ê´€ê³„ë¥¼ ì„¤ì •í•˜ê³ , AOPë¥¼ í†µí•´ í•µì‹¬ ê´€ì (service)ê³¼ ë¶€ê°€ ê´€ì (Repository)ë¥¼ ë¶„ë¦¬í•´ ê°œë°œí•˜ë©°, PSA(JpaRepository)ë¥¼ í†µí•´ ì¶”ìƒí™”ëœ ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ë“¤ì„ ì¼ê´€ëœ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•˜ë„ë¡ í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">UserService&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">createUser&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">UserRegisterCommand&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">command&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getUserById&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userId&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">UserLoginResponse&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">loginUserByEmail&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">email&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Boolean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">logoutById&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userId&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">UserServiceImp&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserService&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Autowired&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// IoC/DI&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserRepository&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userRepository&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Autowired&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userMapper&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">createUser&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">UserRegisterCommand&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">command&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">userRepository&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">save&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserEntity&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getEmail&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">command&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getPassword&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">command&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getUsername&lt;/span>&lt;span class="p">()));&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">DataAccessException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">DefaultException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ResponseMessage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">DATA_ACCESS_ERROR&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#34;user&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Exception&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">DefaultException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ResponseMessage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">DB_UNEXPECTED_ERROR&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s">&amp;#34;user&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">// UserRepository&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">// Crudì—ì„œ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì²´ê°€ ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ë‹¤.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">// PSA&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">UserRepository&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">extends&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JpaRepository&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">UserEntity&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">UserCustomRepository&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ì˜ì¡´ì„±-ì£¼ì…">ì˜ì¡´ì„± ì£¼ì…
&lt;/h3>&lt;p>ì˜ì¡´ì„± ì£¼ì…ì€ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ìƒì„±í•œ ê°ì²´(ë¹ˆ)ì„ ì£¼ì…ë°›ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ì´ë•Œ ë¹ˆì€ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ìƒì„±í•˜ê³  ê´€ë¦¬í•˜ëŠ” ê°ì²´ë¥¼ ì˜ë¯¸í•œë‹¤.&lt;/p>
&lt;p>ì£¼ì…ì„ ë°›ì„ë•ŒëŠ” @Autowiredë¥¼ ì‚¬ìš©í•˜ê³ , ë¹ˆì„ ë“±ë¡í•˜ê³  ì‹¶ìœ¼ë©´ @Componentë¥¼ ì„ ì–¸í•˜ë©´ ëœë‹¤. í”„ë ˆì„ì›Œí¬ì— ì‚¬ìš©ë˜ëŠ” ëŒ€ë¶€ë¶„ì˜ í•µì‹¬ ì–´ë…¸í…Œì´ì…˜ì€(@Repository, @Service ë“±) @Componentê°€ í¬í•¨ë˜ì–´ ìˆë‹¤.&lt;/p>
&lt;p>ì˜ì¡´ì„± ì£¼ì…ì— ëŒ€í•´ì„œëŠ” &lt;a class="link" href="https://velog.io/@ung6860/Spring%EC%8A%A4%ED%94%84%EB%A7%81-%EA%B8%B0%EC%B4%88-DIDependency-Injection" target="_blank" rel="noopener"
>inung_92ë‹˜ì˜ velog, [Spring]ìŠ¤í”„ë§ ê¸°ì´ˆ - DI&lt;/a>ì„ ì°¸ê³ í•˜ê¸¸ ë°”ë€ë‹¤.&lt;/p>
&lt;h2 id="ìŠ¤í”„ë§-ì›¹-ê³„ì¸µ">ìŠ¤í”„ë§ ì›¹ ê³„ì¸µ
&lt;/h2>&lt;p>&lt;img src="https://s0okju.github.io/p/basic-spring-1/spring_layered_arch.png"
width="1280"
height="854"
srcset="https://s0okju.github.io/p/basic-spring-1/spring_layered_arch_hu_9919e5ca10691c1d.png 480w, https://s0okju.github.io/p/basic-spring-1/spring_layered_arch_hu_ec27588164d36eb0.png 1024w"
loading="lazy"
alt="ì¶œì²˜-https://devlog-wjdrbs96.tistory.com/209"
class="gallery-image"
data-flex-grow="149"
data-flex-basis="359px"
>&lt;/p>
&lt;ul>
&lt;li>presentation ê³„ì¸µ
&lt;ul>
&lt;li>HTTP ìš”ì²­ ë° ì‘ë‹µ ì²˜ë¦¬&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì¸µ
&lt;ul>
&lt;li>ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>í¼ì‹œìŠ¤í„´íŠ¸ ê³„ì¸µ
&lt;ul>
&lt;li>ìŠ¤í† ë¦¬ì§€ ê´€ë ¨ ë¡œì§ ì¶”ê°€&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>ìœ„ì™€ ê°™ì€ êµ¬ì¡°ëŠ” Layered Architectureë¼ê³  í•œë‹¤. ì´ë•Œ ë ˆì´ì–´ ê°„ ì‘ì§‘ì„±ì„ ë†’ì´ê³  ì˜ì¡´ë„ë¥¼ ë‚®ì¶”ê¸° ìœ„í•´ì„œëŠ” ê³„ì¸µ ê°„ í˜¸ì¶œ ì‹œ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ í˜¸ì¶œí•´ì•¼ í•œë‹¤. ì¦‰, ìƒìœ„ ê³„ì¸µì€ ì§ì ‘ì ìœ¼ë¡œ í•˜ìœ„ ê³„ì¸µì„ í˜¸ì¶œí•˜ì§€ ì•Šê³  ì¶”ìƒì ì¸ ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•œë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>Q. ì‘ì§‘ë„ë€?&lt;/p>
&lt;p>ì‘ì§‘ë„ë€ í•œ ëª¨ë“ˆ ë‚´ë¶€ì˜ ì²˜ë¦¬ ìš”ì†Œë“¤ì´ ì„œë¡œ ê´€ë ¨ë˜ì–´ ìˆëŠ” ì •ë„ë¥¼ ë§í•œë‹¤. ì¦‰, ëª¨ë“ˆì´ ë…ë¦½ì ì¸ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ì§€ ë˜ëŠ” í•˜ë‚˜ì˜ ê¸°ëŠ¥ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì±…ì„ì´ ì˜ ë­‰ì³ìˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ë©° ëª¨ë“ˆì´ ë†’ì€ ì‘ì§‘ë„ë¥¼ ê°€ì§ˆìˆ˜ë¡ ì¢‹ë‹¤.&lt;/p>
&lt;p>ì¶œì²˜ - &lt;a class="link" href="https://madplay.github.io/post/coupling-and-cohesion-in-software-engineering" target="_blank" rel="noopener"
>https://madplay.github.io/post/coupling-and-cohesion-in-software-engineering&lt;/a>&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>Q. ì˜ì¡´ì„±ì„ ì™œ ë‚®ì¶°ì•¼ í•˜ëŠ” ê±¸ê¹Œ?&lt;/p>
&lt;p>A. ì˜ì¡´ì„±ì´ë€ ë‹¤ë¥¸ ê°ì²´ì˜ ì˜í–¥ì„ ë°›ê³ , ë‹¤ë¥¸ ê°ì²´ì— ë”°ë¼ ê²°ê³¼ê°€ ì¢Œìš°ë˜ëŠ” ê²ƒì´ë‹¤. ì˜ì¡´ì„±ì„ ë‚®ì¶° ê°ì²´ë“¤ ê°„ ì „íŒŒë˜ëŠ” ë³€ê²½ì— ëŒ€í•œ ì˜í–¥ì„ ìµœì†Œí™” ì‹œì¼œ, ìœ ì§€ë³´ìˆ˜ ì‹œ ì›í™œí•˜ê²Œ í•˜ê¸° ìœ„í•´ì„œì´ë‹¤.&lt;/p>
&lt;p>ì¶œì²˜ - &lt;a class="link" href="https://velog.io/@ung6860/Spring%EC%8A%A4%ED%94%84%EB%A7%81-%EA%B8%B0%EC%B4%88-DIDependency-Injection" target="_blank" rel="noopener"
>&lt;/a>&lt;a class="link" href="https://velog.io/@ung6860/Spring%EC%8A%A4%ED%94%84%EB%A7%81-%EA%B8%B0%EC%B4%88-DIDependency-Injection" target="_blank" rel="noopener"
>https://velog.io/@ung6860/SpringìŠ¤í”„ë§-ê¸°ì´ˆ-DIDependency-Injection&lt;/a>&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>Q. ì˜ì¡´ì„±ì„ ë‚®ì¶”ëŠ” ë°©ë²•?&lt;/p>
&lt;p>A. ê¸°ë³¸ì ìœ¼ë¡œ ì˜ì¡´ì„±ì„ í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œ new ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ì™¸ë¶€ë¡œë¶€í„° ê°ì²´ì˜ ì˜ì¡´ì„±ì„ ì£¼ì…ë°›ì•„ì•¼í•œë‹¤. ì™¸ë¶€ë¡œë¶€í„° ì˜ì¡´ì„±ì„ ì£¼ì…ë°›ëŠ” ê²ƒì˜ ì˜ë¯¸ëŠ” &amp;lsquo;ì˜ì¡´ì„± ì£¼ì…&amp;rsquo;ì— ì´ˆì ì„ ë§ì¶”ëŠ”ê²Œ ì•„ë‹ˆë¼ &amp;lsquo;ì˜ì¡´ì„± íƒˆí”¼ë¥¼ ìœ„í•˜ì—¬ ì™¸ë¶€ë¡œë¶€í„° ì£¼ì…&amp;rsquo;ì´ë¼ëŠ” ë¶€ê°€ì ì¸ ì„¤ëª…ì— ì´ˆì ì„ ë§ì¶”ì–´ì•¼í•œë‹¤.&lt;/p>&lt;/blockquote>
&lt;h3 id="presentation">Presentation
&lt;/h3>&lt;p>ì›¹ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ ë° ì‘ë‹µ ì²˜ë¦¬í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@RestController&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@RequestMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;/membership/&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">public&lt;/span> &lt;span class="k">class&lt;/span> &lt;span class="nc">RegisterMembershipController&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@Autowired&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">private&lt;/span> &lt;span class="n">MembershipService&lt;/span> &lt;span class="n">membershipService&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@PostMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;register&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">public&lt;/span> &lt;span class="n">Membership&lt;/span> &lt;span class="n">createmembership&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nd">@RequestBody&lt;/span> &lt;span class="n">MembershipRequest&lt;/span> &lt;span class="n">request&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">MembershipCommand&lt;/span> &lt;span class="n">command&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">MembershipCommand&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">builder&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;hello&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">builder&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">membershipService&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">createMembership&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ë³´í†µì€ @Controllerë¥¼ í†µí•´ controllerë¥¼ ì§€ì •í•´ì¤„ ìˆ˜ ìˆë‹¤. rest apië¥¼ êµ¬í˜„í–ˆëŠ”ë°, ì´ì— ì í•©í•œ @RestControllerê°€ ìˆë‹¤. &lt;code>@RestController&lt;/code>ëŠ” @Controller + @ResponseBodyë¼ê³  ë³´ë©´ ëœë‹¤. ìì„¸í•œ ì‚¬í•­ì€ &lt;a class="link" href="https://mangkyu.tistory.com/49" target="_blank" rel="noopener"
>ë§ë‚˜ë‹ˆ ê°œë°œìë‹˜ì˜ ë¸”ë¡œê·¸&lt;/a>ë¥¼ ì°¸ê³ í•˜ê¸¸ ë°”ë€ë‹¤.&lt;/p>
&lt;h3 id="service">Service
&lt;/h3>&lt;p>ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” ê³„ì¸µì´ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">MembershipService&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Membership&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">createMembership&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MembershipCommand&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">command&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">MembershipServiceImp&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">MembershipService&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Autowired&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">MembershipRepository&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">membershipRepository&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Membership&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">createMembership&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MembershipCommand&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">command&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">membershipRepository&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">save&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ ì—°ì‚°ìœ¼ë¡œ êµ¬ì„±ëœ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•˜ê³  ê·¸ì— ëŒ€í•œ êµ¬í˜„ì„ ë”°ë¡œ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ê·¸ë˜ì„œ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•˜ê²Œ ë˜ëŠ”ë°, ë‚˜ì¤‘ì—ì„œ ì„œë¹„ìŠ¤ êµ¬í˜„ì´ ë³€ê²½ë˜ë”ë¼ë„ ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´ë¼ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë³€ê²½í•  í•„ìš”ê°€ ì—†ë‹¤ëŠ” ê²ƒì´ë‹¤.&lt;/p>
&lt;h3 id="repository">Repository
&lt;/h3>&lt;p>ì €ì¥ì†Œì— ì ‘ê·¼í•˜ëŠ” ì˜ì—­ìœ¼ë¡œ DAO(Data Access Object) ì˜ì—­ì´ë¼ê³  ë¶€ë¥¸ë‹¤. @Repositoryë¥¼ ì‚¬ìš©í•˜ì—¬ Spring repositoryë¥¼ ì§€ì •í•´ì¤€ë‹¤. ì£¼ëª©í•  ì ì€ ì¸í„°í˜ì´ìŠ¤ ë‚´ìš©ì´ ë¹„ì–´ ìˆë”ë¼ë„ ìŠ¤í”„ë§ ë°ì´í„°ê°€ JPA ëŸ°íƒ€ì„ì— ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì²´ë¥¼ ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Repository&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">MembershipRepository&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">extends&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">CrudRepository&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Membership&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="dto">DTO
&lt;/h3>&lt;p>ê³„ì¸µ ê°„ì— ë°ì´í„° êµí™˜ì„ ìœ„í•œ ê°ì²´ë¥¼ ì˜ë¯¸í•œë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/basic-spring-1/dto.png"
width="1280"
height="299"
srcset="https://s0okju.github.io/p/basic-spring-1/dto_hu_9bdd09df8d75677e.png 480w, https://s0okju.github.io/p/basic-spring-1/dto_hu_464793c2f7413ee6.png 1024w"
loading="lazy"
alt="ì¶œì²˜-https://loosie.tistory.com/296"
class="gallery-image"
data-flex-grow="428"
data-flex-basis="1027px"
>&lt;/p>
&lt;p>ì²˜ìŒ ê³µë¶€ í–ˆì„ ë•Œ â€œDto ë‹¤ ë˜‘ê°™ì€ ê°ì²´ê² êµ°â€¦ ì˜¤ë¥˜ ë°œìƒí•˜ë©´ ë‚œë¦¬ë‚˜ê² ë„¤â€ë¼ê³  ìƒê°í–ˆë‹¤. &lt;strong>ê° ê³„ì¸µë§ˆë‹¤ Dtoê°€ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤.&lt;/strong>
ì•„ë˜ì˜ ì˜ˆì‹œë¥¼ ë³´ë©´ Controller â†’ Serviceì—ì„œëŠ” Dtoê°€ Membership ê°ì²´ë¥¼ ì‚¬ìš©í–ˆë‹¤. í•˜ì§€ë§Œ Membership ë„ë©”ì¸ê³¼ ì‹¤ì œ ì—”í‹°í‹°ì™€ ë‹¤ë¥¼ ê²½ìš°ë¼ë©´ ì–´ë–¨ê¹Œ? Service â†’ Repositoryì—ì„œëŠ” Dtoê°€ MembershipEntityê°€ ë˜ëŠ” ê²ƒì´ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Controller&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">membershipService&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">createMembership&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">member&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">// MembershipService&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">MembershipService&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Membership&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">createMembership&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Membership&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">member&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Component&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">MembershipMapper&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">MembershipEntity&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">MapToEntity&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Membership&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">member&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">MembershipEntity&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// ... ìƒëµ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">MembershipServiceImp&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">MembershipService&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Autowired&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">MembershipRepository&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">MembershipRepository&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Membership&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">createMembership&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Membership&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">membership&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">MembershipRepository&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">save&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MembershipMapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">MapToEntity&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">membership&lt;/span>&lt;span class="p">));&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="í…ŒìŠ¤íŠ¸">í…ŒìŠ¤íŠ¸
&lt;/h2>&lt;p>ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ì‹œ í…ŒìŠ¤íŠ¸ ë‹¨ê³„ëŠ” í•„ìˆ˜ë‹¤. ì´ ë‹¨ê³„ì—ì„œëŠ” ì‘ì„±í•œ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê²€ì¦í•œë‹¤. í…ŒìŠ¤íŠ¸ëŠ” í¬ê²Œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì™€ í†µí•© í…ŒìŠ¤íŠ¸ê°€ ì¡´ì¬í•œë°, ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì§‘ì¤‘ì ìœ¼ë¡œ ì„¤ëª…í•˜ê³ ì í•œë‹¤.&lt;/p>
&lt;p>ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë€ í•˜ë‚˜ì˜ ëª¨ë“ˆì„ ê¸°ì¤€ìœ¼ë¡œ ë…ë¦½ì ìœ¼ë¡œ ì§„í–‰ë˜ëŠ” ê°€ì¥ ì‘ì€ ë‹¨ìœ„ì˜ í…ŒìŠ¤íŠ¸ì´ë‹¤. íŠ¹ì • ë¶€ë¶„ë§Œ ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ê¸° ë•Œë¬¸ì— ë¹ ë¥´ê²Œ ë¬¸ì œ ì—¬ë¶€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆê²Œ ëœë‹¤.&lt;/p>
&lt;p>ìì„¸í•œ ì‚¬í•­ì€ &lt;a class="link" href="https://mangkyu.tistory.com/143" target="_blank" rel="noopener"
>ë§ë‚˜ë‹ˆ ê°œë°œìë‹˜ì˜ ë¸”ë¡œê·¸&lt;/a>ë¥¼ ì°¸ê³ í•˜ê¸¸ ë°”ë€ë‹¤.&lt;/p>
&lt;h2 id="ë°ì´í„°ë² ì´ìŠ¤">ë°ì´í„°ë² ì´ìŠ¤
&lt;/h2>&lt;p>&lt;img src="https://s0okju.github.io/p/basic-spring-1/spring_database.png"
width="1992"
height="1312"
srcset="https://s0okju.github.io/p/basic-spring-1/spring_database_hu_f73f6818d466242d.png 480w, https://s0okju.github.io/p/basic-spring-1/spring_database_hu_a931ad1adb03e26c.png 1024w"
loading="lazy"
alt="ì¶œì²˜-https://velog.io/@murphytklee/Spring-ORM-JPA-Hibernate-JDBC-%EC%B4%9D%EC%A0%95%EB%A6%AC/"
class="gallery-image"
data-flex-grow="151"
data-flex-basis="364px"
>&lt;/p>
&lt;h3 id="jpajava-persistent-api">JPA(Java Persistent API)
&lt;/h3>&lt;p>ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì„ ì •ì˜í•œ ì¸í„°í˜ì´ìŠ¤ì´ë‹¤. ì´ë¥¼ êµ¬í˜„í•œ ORM í”„ë ˆì„ì›Œí¬ë¡œëŠ” hibernateê°€ ìˆë‹¤.&lt;/p>
&lt;p>JPAëŠ” ë‹¤ì–‘í•œ ì¿¼ë¦¬ ë°©ë²•ì„ ì§€ì›í•œë‹¤.&lt;/p>
&lt;ul>
&lt;li>JPQL&lt;/li>
&lt;li>QueryDSL&lt;/li>
&lt;li>Native SQL&lt;/li>
&lt;li>JDBC API ì§ì ‘ ì‚¬ìš©&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>ìš”ì¦˜ì€ QueryDSLë¥¼ ì‚¬ìš©í•˜ëŠ” ì¶”ì„¸ë¼ê³  í•œë‹¤.&lt;/p>&lt;/blockquote>
&lt;h3 id="ì•¤í‹°í‹°">ì•¤í‹°í‹°
&lt;/h3>&lt;p>DBì˜ í…Œì´ë¸”ê³¼ ë§¤í•‘ë˜ëŠ” ê°ì²´ë¡œ DB í…Œì´ë¸”ê³¼ ì§ì ‘ ì—°ê²°ëœë‹¤.&lt;/p>
&lt;h4 id="ì˜ì†ì„±-ì»¨í…ìŠ¤íŠ¸">ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸
&lt;/h4>&lt;p>ì—”í‹°í‹°ë¥¼ ê´€ë¦¬í•˜ëŠ” ê°€ìƒ ê³µê°„ì´ë‹¤.&lt;/p>
&lt;ul>
&lt;li>1ì°¨ ìºì‹œ
&lt;ul>
&lt;li>ìºì‹œí‚¤ëŠ” ì—”í‹°í‹°ì˜ í‚¤ë¡œ ë‘¬ì„œ, ì¡°íšŒì‹œ 1ì°¨ì ìœ¼ë¡œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ë‚´ì— ìˆëŠ” ê°’ì„ ë°˜í™˜í•œë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ì“°ê¸° ì§€ì—°
&lt;ul>
&lt;li>ë¹ˆë²ˆí•œ context swtichingì— ëŒ€í•œ overheadë¥¼ ì¤„ì—¬ì£¼ê¸° ìœ„í•´ í•œêº¼ë²ˆì— ëª¨ì•˜ë‹¤ê°€ ì²˜ë¦¬í•œë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ë³€ê²½ ê°ì§€
&lt;ul>
&lt;li>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ë‚´ì— ìˆëŠ” ìºì‹œì™€ ë³€ê²½ëœ entityê°’ì„ ë¹„êµí•´ì„œ ì—”í‹°í‹° ë³€ê²½ ê°ì§€ í›„ DBì— ìë™ ë°˜ì˜&lt;/li>
&lt;li>ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, DB ìƒì— ìˆëŠ” ë¡œì§ì˜ ê¼¬ì´ëŠ” ê²ƒì„ ë°©ì§€&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Q. ì™œ ì˜ì†ì„± í…ŒìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì¸ê°€?&lt;/p>
&lt;p>A. íŠ¸ëœì­ì…˜ì˜ íšŸìˆ˜ë‚˜ ë°©ì‹ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•´ ì„œë²„ì˜ ì†ë„ë¥¼ ëŠ˜ë¦¬ê³ , ì¤‘ë³µë˜ëŠ” ì¿¼ë¦¬ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>WASê°€ ì‹œì‘ë˜ë©´ EntityMangerFactoryê°€ ìƒì„±ë˜ê³ , íŠ¸ëœì­ì…˜ë§ˆë‹¤ ìƒì„±ë˜ëŠ” EntityManagerë¥¼ ê´€ë¦¬í•œë‹¤. ì´ë•Œ EntityManagerëŠ” Entityì˜ ìƒëª… ì£¼ê¸°ë¥¼ ê´€ë¦¬í•œë‹¤.(ê´€ë¦¬ ìƒíƒœ, ë¹„ì˜ì† ìƒíƒœ, ì‚­ì œëœ ìƒíƒœ)&lt;/p>
&lt;blockquote>
&lt;p>ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” EntityManagerFactoryë¥¼ í•˜ë‚˜ë§Œ ìƒì„±í•´ì„œ ê´€ë¦¬í•˜ê³ , ì˜ì¡´ì„± ì£¼ì…í•´ì„œ ì‚¬ìš©í•¨. ë¹ˆì„ í•˜ë‚˜ë§Œ ìƒì„±í•´ì„œ ë™ì‹œì„± ë¬¸ì œë¥¼ í•´ì†Œí–ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;p>&lt;img src="https://s0okju.github.io/p/basic-spring-1/persistenceContext.png"
width="705"
height="441"
srcset="https://s0okju.github.io/p/basic-spring-1/persistenceContext_hu_63628c5a23c51f8d.png 480w, https://s0okju.github.io/p/basic-spring-1/persistenceContext_hu_70f34aeb41a49d73.png 1024w"
loading="lazy"
alt="ì¶œì²˜-https://iyoungman.github.io/jpa/EntityManagerFactory-EntityManager-PersistenceContext/"
class="gallery-image"
data-flex-grow="159"
data-flex-basis="383px"
>&lt;/p>
&lt;h3 id="spring-data-api">Spring data api
&lt;/h3>&lt;p>ì¸í„°í˜ì´ìŠ¤ ë° ì£¼ì„ ì„¸íŠ¸ë¥¼ ì œê³µí•´ì„œ ë°ì´í„° ì•¡ì„¸ìŠ¤ ê³„ì¸µì„ ì‰½ê²Œ êµ¬ì¶•í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤. JPAë¥¼ í•œ ë‹¨ê³„ ì¶”ìƒí™”ì‹œí‚¨ Repositoryë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•¨ìœ¼ë¡œì¨ ì´ë¤„ì§„ë‹¤.&lt;/p>
&lt;p>ìŠ¤í”„ë§ ë°ì´í„°ì˜ ê³µí†µì ì¸ ê¸°ëŠ¥ì—ì„œ JPAì˜ ìœ ìš©í•œ ê¸°ìˆ ì´ ì¶”ê°€ (ìŠ¤í”„ë§ ë°ì´í„° ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì†ë°›ì•„ì„œ ê°„ë‹¨í•œ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ ê°€ëŠ¥)&lt;/p>
&lt;h2 id="reference">Reference
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://velog.io/@murphytklee/Spring-ORM-JPA-Hibernate-JDBC-%EC%B4%9D%EC%A0%95%EB%A6%AC" target="_blank" rel="noopener"
>Spring - ORM, JPA, Hibernate, JDBC ì´ì •ë¦¬&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://ict-nroo.tistory.com/116" target="_blank" rel="noopener"
>[JPA] ê°ì²´ì§€í–¥ ì¿¼ë¦¬, JPQL&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://mangkyu.tistory.com/143" target="_blank" rel="noopener"
>[TDD] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸(Unit Test) ì‘ì„±ì˜ í•„ìš”ì„± (1/3)&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://velog.io/@ung6860/Spring%EC%8A%A4%ED%94%84%EB%A7%81-%EA%B8%B0%EC%B4%88-DIDependency-Injection" target="_blank" rel="noopener"
>[Spring]ìŠ¤í”„ë§ ê¸°ì´ˆ - DI(Dependency Injection)&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Terraform - Backend</title><link>https://s0okju.github.io/p/terraform-backend/</link><pubDate>Mon, 29 Jan 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/terraform-backend/</guid><description>&lt;h2 id="backend">backend
&lt;/h2>&lt;p>Terraform BackendëŠ” Terraformì˜ state(.tfstate)íŒŒì¼ì˜ ì €ì¥ ê³µê°„ì„ ì§€ì •í•˜ëŠ” ì„¤ì •ì´ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œëŠ” ë¡œì»¬ì— ì €ì¥ë˜ì§€ë§Œ, ì„¤ì •ì— ë”°ë¼ì„œëŠ” ì›ê²© ì €ì¥ì†Œ(S3, Terraform Cloud ë“±)ì— ì €ì¥í•  ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>Terraformì—ì„œ ìƒíƒœ íŒŒì¼ì€ í…ŒëŸ¬í¼ ì½”ë“œì™€ ì¸í”„ë¼ ê°ì²´ë¥¼ ë§¤í•‘í•˜ê¸° ìœ„í•´ ì¡´ì¬í•œë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>The primary purpose of Terraform state is to store bindings between objects in a remote system and resource instances declared in your configuration.&lt;/p>
&lt;p>ì¶œì²˜ - &lt;a class="link" href="https://developer.hashicorp.com/terraform/language/state" target="_blank" rel="noopener"
>Terraform ê³µì‹ í™ˆí˜ì´ì§€&lt;/a>&lt;/p>&lt;/blockquote>
&lt;p>í…Œë¼í¼ì´ ì‘ë™ë˜ê¸° ì „ì— &lt;a class="link" href="https://developer.hashicorp.com/terraform/cli/commands/refresh" target="_blank" rel="noopener"
>refresh&lt;/a>ë¼ëŠ” ì‘ì—…ì„ í†µí•´ í…Œë¼í¼ ìƒíƒœ íŒŒì¼ì„ ì—…ë°ì´íŠ¸í•œë‹¤. í…Œë¼í¼ ì½”ë“œì˜ ì¼ë¶€ ë¦¬ì†ŒìŠ¤ ë¸”ë¡ì„ ì‚­ì œí•˜ê²Œ ëœë‹¤ë©´, ì‹¤ì œ ì¸í”„ë¼ ê°ì²´ì— ì ìš©(apply)í•˜ê¸° ì „ì— refreshë¼ëŠ” ì‘ì—…ì„ í†µí•´ í…Œë¼í¼ ìƒíƒœ íŒŒì¼ì´ ì—…ë°ì´íŠ¸ ë˜ëŠ” ê²ƒì´ë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>This(refresh) won&amp;rsquo;t modify your real remote objects, but it will modify theÂ &lt;a class="link" href="https://developer.hashicorp.com/terraform/language/state" target="_blank" rel="noopener"
>Terraform state&lt;/a>.&lt;/p>
&lt;p>ì¶œì²˜ - &lt;a class="link" href="https://developer.hashicorp.com/terraform/cli/commands/refresh" target="_blank" rel="noopener"
>Terraform ê³µì‹ í™ˆí˜ì´ì§€&lt;/a>&lt;/p>&lt;/blockquote>
&lt;p>ìƒíƒœ íŒŒì¼ ë‚´ ê°ì²´ì™€ ì¸í”„ë¼ ê°ì²´ì™€ 1:1ë¡œ ë§¤í•‘í•˜ëŠ” ê°œë…ì´ê¸° ë•Œë¬¸ì—, ìƒíƒœ íŒŒì¼ì´ ìœ ì‹¤ë˜ê±°ë‚˜ ì¼ë¶€ë§Œ ì˜ëª» ì„¤ì •ë˜ì–´ë„ í° ë¬¸ì œë¥¼ ì•¼ê¸°í•  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ìƒí™©ì„ ëŒ€ë¹„í•´ Backupê³¼ Lockingì€ í•„ìˆ˜ì ìœ¼ë¡œ ì ìš©í•˜ê²Œ ëœë‹¤.&lt;/p>
&lt;h3 id="locking">Locking
&lt;/h3>&lt;p>ë™ì‹œì— ìƒíƒœ íŒŒì¼ì„ ì ‘ê·¼í•˜ê²Œ ë˜ë©´ ì¶©ëŒì´ ë°œìƒí•˜ê±°ë‚˜ ì¸í”„ë¼ ì„¤ì •ì´ ê¼¬ì´ê²Œ ë˜ì–´ ì „ë°˜ì ìœ¼ë¡œ í° ë¬¸ì œê°€ ë  ìˆ˜ ìˆë‹¤. Lockingì„ í†µí•´ ë™ì‹œì— ì ‘ê·¼ ìƒíƒœë¥¼ ë§‰ì•„ ì˜ë„ì¹˜ ì•ŠëŠ” ë³€ê²½ì„ ì˜ˆë°©í•´ì•¼ í•œë‹¤.&lt;/p>
&lt;h3 id="backup">Backup
&lt;/h3>&lt;p>ìƒíƒœ íŒŒì¼ì´ ìœ ì‹¤ë˜ëŠ” ê²½ìš°ë¥¼ ëŒ€ë¹„í•´ì„œ Backupì„ í•´ì•¼ í•œë‹¤. S3ì„ ì‚¬ìš©í• ë•ŒëŠ” versioningì„ ì‚¬ìš©í•˜ì—¬ íˆìŠ¤í† ë¦¬ë¥¼ ê¸°ì–µí•œë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>stack overflowì— &lt;a class="link" href="https://stackoverflow.com/questions/54122890/terraform-fails-because-tfstate-s3-backend-is-lost" target="_blank" rel="noopener"
>Terraform fails because tfstate (S3 backend) is lost&lt;/a>ì„ ì½ì–´ë³´ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;h2 id="ì‹¤ìŠµ-1-s3-backend-ë§Œë“¤ê¸°">ì‹¤ìŠµ 1. S3 Backend ë§Œë“¤ê¸°
&lt;/h2>&lt;p>í•´ë‹¹ ì‹¤ìŠµí•´ì„œëŠ” Lockingí•˜ëŠ” ê²ƒì„ ì œì™¸í–ˆë‹¤.&lt;/p>
&lt;h3 id="s3-bucket-ìƒì„±">S3 Bucket ìƒì„±
&lt;/h3>&lt;p>Terraform backend ì •ë³´ëŠ” applyë˜ë©´ ì½”ë“œê°€ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©´ì„œ S3ì— ìƒíƒœ íŒŒì¼ ì—…ë¡œë“œë¥¼ ì‹œë„í•˜ê²Œ ëœë‹¤. ë§Œì•½ì— ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´ ì•„ë˜ì™€ ê°™ì€ ì˜¤ë¥˜ë¥¼ ë°›ê²Œ ëœë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="err">Error:&lt;/span> &lt;span class="err">creating&lt;/span> &lt;span class="err">S&lt;/span>&lt;span class="mi">3&lt;/span> &lt;span class="err">Bucket&lt;/span> &lt;span class="err">(tf-backend-d&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="err">mekz)&lt;/span> &lt;span class="err">ACL:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">operation&lt;/span> &lt;span class="err">error&lt;/span> &lt;span class="err">S&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="err">:&lt;/span> &lt;span class="err">PutBucketAcl,&lt;/span> &lt;span class="err">https&lt;/span> &lt;span class="err">response&lt;/span> &lt;span class="err">error&lt;/span> &lt;span class="err">StatusCode:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="err">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">~&lt;/span> &lt;span class="err">api&lt;/span> &lt;span class="err">error&lt;/span> &lt;span class="err">AccessControlListNotSupported:&lt;/span> &lt;span class="err">The&lt;/span> &lt;span class="err">bucket&lt;/span> &lt;span class="err">does&lt;/span> &lt;span class="err">not&lt;/span> &lt;span class="err">allow&lt;/span> &lt;span class="err">ACLs&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;a class="link" href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket" target="_blank" rel="noopener"
>aws_s3_bucket&lt;/a>, &lt;a class="link" href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket_acl" target="_blank" rel="noopener"
>aws_s3_bucket_acl&lt;/a>ì„ í™œìš©í•´ private S3 bucketì„ ìƒì„±í•œë‹¤. ë˜í•œ íˆìŠ¤í† ë¦¬ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ S3ì˜ Versioningë„ ì¶”ê°€í–ˆë‹¤.&lt;/p>
&lt;p>ê³µì‹ í™ˆí˜ì´ì§€ì—ì„œë„ Versioning ì„¤ì •ì„ ì ê·¹ ê¶Œì¥í•˜ê³  ìˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Warning!&lt;/strong>Â It is highly recommended that you enableÂ &lt;a class="link" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/manage-versioning-examples.html" target="_blank" rel="noopener"
>Bucket Versioning&lt;/a>Â on the S3 bucket to allow for state recovery in the case of accidental deletions and human error.&lt;/p>
&lt;p>ì¶œì²˜ -&lt;a class="link" href="https://developer.hashicorp.com/terraform/language/settings/backends/s3" target="_blank" rel="noopener"
>Backend Type: s3 | Terraform | HashiCorp Developer&lt;/a>&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="err">resource&lt;/span> &lt;span class="s2">&amp;#34;aws_s3_bucket&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;tf_backend&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">bucket&lt;/span> &lt;span class="err">=&lt;/span> &lt;span class="nt">&amp;#34;d7_tf_backend&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">tags&lt;/span> &lt;span class="err">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">Name&lt;/span> &lt;span class="err">=&lt;/span> &lt;span class="nt">&amp;#34;tf_backend&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">resource&lt;/span> &lt;span class="s2">&amp;#34;aws_s3_bucket_acl&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;example&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">bucket&lt;/span> &lt;span class="err">=&lt;/span> &lt;span class="err">aws_s3_bucket.tf_backend.id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">acl&lt;/span> &lt;span class="err">=&lt;/span> &lt;span class="nt">&amp;#34;private&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">#&lt;/span> &lt;span class="err">Versioning&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">resource&lt;/span> &lt;span class="s2">&amp;#34;aws_s3_bucket_versioning&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;versioning_example&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">bucket&lt;/span> &lt;span class="err">=&lt;/span> &lt;span class="err">aws_s3_bucket.tf_backend.id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">versioning_configuration&lt;/span> &lt;span class="err">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">status&lt;/span> &lt;span class="err">=&lt;/span> &lt;span class="nt">&amp;#34;Enabled&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://s0okju.github.io/p/terraform-backend/image.png"
width="377"
height="230"
srcset="https://s0okju.github.io/p/terraform-backend/image_hu_380b4c847ec460f.png 480w, https://s0okju.github.io/p/terraform-backend/image_hu_639a0b0419ca8b9b.png 1024w"
loading="lazy"
alt="S3 List"
class="gallery-image"
data-flex-grow="163"
data-flex-basis="393px"
>&lt;/p>
&lt;h3 id="backend-ì„¤ì •">Backend ì„¤ì •
&lt;/h3>&lt;p>S3 ìƒì„± ì´í›„ &lt;a class="link" href="https://developer.hashicorp.com/terraform/language/settings/backends/s3" target="_blank" rel="noopener"
>Hashicorpì˜ ê³µì‹ í™ˆí˜ì´ì§€&lt;/a>ë¥¼ ì°¸ê³ í•˜ì—¬ backendì„ ì„¤ì •í•˜ë©´ ëœë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="k">terraform&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">required_providers&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> aws&lt;/span> &lt;span class="o">=&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> source&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;hashicorp/aws&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> version&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;~&amp;gt; 5.0&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">backend&lt;/span> &lt;span class="s2">&amp;#34;s3&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> bucket&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;tf-backend-d7mekz&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> key&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;terraform.tfstate&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> region&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;ap-northeast-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>terraform ë¸”ë¡ì— ìˆ˜ì •ì´ ê°€í•˜ë©´ initë¥¼ í•´ì¤˜ì•¼ í•œë‹¤. init í›„ applyì„ ì‹¤í–‰ì‹œí‚¤ë©´ ì•„ë˜ì™€ ê°™ì´ S3ì— ìƒíƒœ íŒŒì¼ì´ ì €ì¥ë˜ì—ˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/terraform-backend/image-1.png"
width="338"
height="201"
srcset="https://s0okju.github.io/p/terraform-backend/image-1_hu_11c0d3f3d001f75a.png 480w, https://s0okju.github.io/p/terraform-backend/image-1_hu_18f326a56751352c.png 1024w"
loading="lazy"
alt="tfstate"
class="gallery-image"
data-flex-grow="168"
data-flex-basis="403px"
>&lt;/p>
&lt;p>Remote Backendì„ ì„¤ì •í•˜ê²Œ ë˜ë©´ ë¡œì»¬ì— ìˆëŠ” ìƒíƒœ íŒŒì¼ ë‚´ìš©ì€ ì‚¬ë¼ì§€ê²Œ ëœë‹¤.&lt;/p>
&lt;p>&lt;img src="https://s0okju.github.io/p/terraform-backend/image-2.png"
width="332"
height="117"
srcset="https://s0okju.github.io/p/terraform-backend/image-2_hu_ae24777a877bce68.png 480w, https://s0okju.github.io/p/terraform-backend/image-2_hu_e35be4c6874d5141.png 1024w"
loading="lazy"
alt="Local tfstate íŒŒì¼"
class="gallery-image"
data-flex-grow="283"
data-flex-basis="681px"
>&lt;/p>
&lt;h2 id="reference">Reference
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://developer.hashicorp.com/terraform/language/settings/backends/s3" target="_blank" rel="noopener"
>Backend Type: s3 | Terraform | HashiCorp Developer&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://terraform101.inflearn.devopsart.dev/advanced/backend/" target="_blank" rel="noopener"
>Backend í™œìš©í•˜ê¸°Terraform &amp;amp; AWS 101&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Terraform - ê¸°ë³¸ ë¬¸ë²• ìµíˆê¸°</title><link>https://s0okju.github.io/p/basic-terraform-1/</link><pubDate>Thu, 25 Jan 2024 00:00:00 +0900</pubDate><guid>https://s0okju.github.io/p/basic-terraform-1/</guid><description>&lt;h2 id="terraform-ì´ë€">Terraform ì´ë€
&lt;/h2>&lt;p>HashiCorpì—ì„œ ì˜¤í”ˆì†ŒìŠ¤ë¡œ ê°œë°œì¤‘ì¸, í´ë¼ìš°ë“œ ë° ì˜¨í”„ë¡œë¯¸ìŠ¤ ì¸í”„ë¼ë¥¼ ì½”ë“œë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ì½”ë“œì´ë‹¤. ì¸í”„ë¼ í™˜ê²½ êµ¬ì„± ì‹œ ì„ ì–¸ì  ì½”ë“œí˜•ì‹ì„ ì‚¬ìš©í•˜ì—¬ ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±, ìˆ˜ì •, ì‚­ì œí•˜ì—¬ ê´€ë¦¬ê°€ ê°€ëŠ¥í•œ laC(Infrastructure as Code) í”„ë¡œë¹„ì €ë‹ ë„êµ¬ì´ë‹¤.&lt;/p>
&lt;h2 id="terraform-ì‘ë™-ë°©ì‹">Terraform ì‘ë™ ë°©ì‹
&lt;/h2>&lt;p>ì£¼ë¡œ Write, Plan, Apply ì ˆì°¨ë¡œ ì´ë¤„ì§„ë‹¤.&lt;/p>
&lt;ol>
&lt;li>Write : Hashicorpì—ì„œ ìì²´ ê°œë°œí•œ HCL ì–¸ì–´ë¡œ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±&lt;/li>
&lt;li>Plan : ìƒíƒœë¥¼ ë¹„êµí•˜ë©° ë³€ê²½ì ì„ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì¤Œ&lt;/li>
&lt;li>Apply : ì‹¤í–‰í•˜ëŠ” ë‹¨ê³„, ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰
&lt;ol>
&lt;li>ì˜ì¡´ ê´€ê³„ì— ë”°ë¼ ìˆœì„œë¥¼ ëª…ì‹œí•  ìˆ˜ ìˆë‹¤.&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;p>ìƒíƒœ ë¹„êµë¥¼ í†µí•´ íœ´ë¨¼ ì—ëŸ¬ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë‚˜ ì½”ë“œì˜ ë¬´ê²Œê°€ ë¬´ê±°ì›Œì§€ë©´, ì‹¤í–‰í•˜ëŠ”ë° ì˜¤ë˜ê±¸ë¦¬ëŠ” ì›ì¸ì´ ë  ìˆ˜ ìˆë‹¤. ê·¸ ì™¸ì—ë„ ë‹¤ì–‘í•œ ë‹¨ì ì´ ì¡´ì¬í•  ê²ƒì´ë‹¤. ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  ìƒì‚°ì„± ì¸¡ë©´, ì¢…ì†ì„± ê·¸ë˜í”„ ë“± ì¥ì ë“¤ì´ ë” í¬ê¸° ë•Œë¬¸ì— ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>í´ë¼ìš°ë“œ ì»´í“¨íŒ… í™˜ê²½ì€ ì°¸ì¡°ëœ ë¦¬ì†ŒìŠ¤ê°€ ì²˜ìŒì˜ ë¦¬ì†ŒìŠ¤ë¥¼ ì°¸ì¡°í•˜ëŠ” ìˆœí™˜ë£¨í”„ ë¬¸ì œë¥¼ ì§€ë‹ˆê³  ìˆë‹¤. ë¬´í•œí•œ ë°˜ë³µìœ¼ë¡œ ì¸í•´ ì‹œìŠ¤í…œì´ ë¹ ë¥´ê²Œ ê³ ê°ˆë˜ê³ , ì„±ëŠ¥ì´ ì €í•˜ëœë‹¤. Terraformì—ì„œëŠ” ë¦¬ì†ŒìŠ¤ì˜ ì°¸ì¡° ë‚´ìš©ì„ ê·¸ë˜í”„ë¡œ ë³´ì—¬ì£¼ëŠ” Resource Graphë¥¼ ì œê³µí•´ì£¼ëŠ”ë°, ì´ë¥¼ í™œìš©í•´ ìˆœí™˜ë£¨í”„ ë¬¸ì œë¥¼ ì˜ˆë°©í•  ìˆ˜ ìˆë‹¤.&lt;/p>&lt;/blockquote>
&lt;h2 id="ì—°ìŠµ">ì—°ìŠµ
&lt;/h2>&lt;blockquote>
&lt;p>ìì„¸í•œ ë¬¸ë²•ì€ &lt;strong>&lt;a class="link" href="https://developer.hashicorp.com/terraform/language" target="_blank" rel="noopener"
>Terraform Language Documentation&lt;/a>ì„ ì°¸ê³ í•˜ê¸¸ ë°”ë€ë‹¤.&lt;/strong>&lt;/p>&lt;/blockquote>
&lt;h3 id="ì‹œë‚˜ë¦¬ì˜¤">ì‹œë‚˜ë¦¬ì˜¤
&lt;/h3>&lt;ol>
&lt;li>AWSë¥¼ í™œìš©í•œë‹¤.&lt;/li>
&lt;li>ê°œë°œ, ìš´ì˜ VPCë¥¼ êµ¬ì¶•í•œë‹¤.
&lt;ul>
&lt;li>ê° VPCì—ì„œ private, public subnetì´ ì¡´ì¬í•œë‹¤.&lt;/li>
&lt;li>ì™¸ë¶€ì™€ í†µì‹ ì„ ìœ„í•´ internet gatewayì™€ ë‚´ë¶€ ë¦¬ì†ŒìŠ¤ë¼ë¦¬ë§Œ í†µì‹ í•  ìˆ˜ ìˆëŠ” NAT gatewayë¥¼ ì„¤ì¹˜í•œë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://s0okju.github.io/p/basic-terraform-1/20240128_aws.png"
width="361"
height="331"
srcset="https://s0okju.github.io/p/basic-terraform-1/20240128_aws_hu_1644083ee8167cb1.png 480w, https://s0okju.github.io/p/basic-terraform-1/20240128_aws_hu_9458ba6fde0152aa.png 1024w"
loading="lazy"
alt="ì¶œì²˜ - ì €ì"
class="gallery-image"
data-flex-grow="109"
data-flex-basis="261px"
>&lt;/p>
&lt;h3 id="êµ¬í˜„">êµ¬í˜„
&lt;/h3>&lt;ol>
&lt;li>AWSë¥¼ í™œìš©í•œë‹¤.&lt;/li>
&lt;/ol>
&lt;p>&lt;a class="link" href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs" target="_blank" rel="noopener"
>&lt;strong>Terraform AWS Registry&lt;/strong>&lt;/a>ì—ì„œ ì œê³µí•´ì£¼ëŠ” ì½”ë“œë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•œë‹¤. ë‚˜ì˜ ê²½ìš° regionì„ &lt;code>ap-northeast-2&lt;/code> ë¡œ ì„¤ì •í–ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="k">terraform&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">required_providers&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> aws&lt;/span> &lt;span class="o">=&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> source&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;hashicorp/aws&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> version&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;~&amp;gt; 5.0&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Configure the AWS Provider
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">provider&lt;/span> &lt;span class="s2">&amp;#34;aws&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> region&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;ap-northeast-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol>
&lt;li>ê°œë°œ ìš´ì˜ vpcë¥¼ êµ¬ì¶•í•œë‹¤.&lt;/li>
&lt;/ol>
&lt;p>vpc ëª¨ë“ˆì„ ë³„ë„ë¡œ ë§Œë“¤ì–´ ì½”ë“œë¥¼ ì¬ì‚¬ìš©í–ˆê³ , envë¥¼ ë³€ìˆ˜ë¡œ ì‚¼ì•„ ë¦¬ì†ŒìŠ¤ì˜ ì´ë¦„ì— ê°œë°œ í™˜ê²½ì„ ëª…ì‹œí•˜ë„ë¡ í–ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="err">//&lt;/span> &lt;span class="k">For&lt;/span> &lt;span class="k">Dev&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="s2">&amp;#34;dev_vpc&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> source&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;./vpc.d&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> env&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;dev&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">//&lt;/span> &lt;span class="k">For&lt;/span> &lt;span class="k">Production&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">module&lt;/span> &lt;span class="s2">&amp;#34;prd_vpc&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> source&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;./vpc.d&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> env&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;prd&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ëª¨ë“ˆì˜ main.tfì—ëŠ” public, private Subnet ê·¸ë¦¬ê³  NAT gateway, Internet gatewayë¥¼ ìƒì„±í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í–ˆë‹¤.&lt;/p>
&lt;p>Private Subnetì„ êµ¬ì„±í•˜ê¸° ìœ„í•´ì„œëŠ” ë¼ìš°íŒ… í…Œì´ë¸”ì´ í•„ìš”í•˜ì§€ë§Œ, ì„ì‹œì´ë¯€ë¡œ Private NAT Gatewayë§Œ ì‘ì„±í–ˆë‹¤. ì—¬ê¸°ì„œ &lt;strong>ì£¼ëª©í•´ì•¼ í•  ì ì€ NAT, Internet Gatewayì˜ ê²½ìš° Subnetì´ ìš°ì„ ì ìœ¼ë¡œ ë§Œë“¤ì–´ì ¸ì•¼ ì‹¤í–‰ëœë‹¤&lt;/strong>.(ë§Œì•½ì— ê·¸ëŸ¬ì§€ ì•ŠëŠ”ë‹¤ë©´ ì˜¤ë¥˜ê°€ ëœ¬ë‹¤.) ê·¸ëŸ¬ë¯€ë¡œ ì½”ë“œë¥¼ ì‘ì„±í• ë•Œ ê° ë¦¬ì†ŒìŠ¤ì˜ ì˜ì¡´ì„±ì„ ê³ ë ¤í•´ì„œ ì‘ì„±í•´ì•¼ í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="k">terraform&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">required_providers&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> aws&lt;/span> &lt;span class="o">=&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> source&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;hashicorp/aws&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> version&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;~&amp;gt; 5.0&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">//&lt;/span> &lt;span class="k">Configure&lt;/span> &lt;span class="k">the&lt;/span> &lt;span class="k">AWS&lt;/span> &lt;span class="k">Provider&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">provider&lt;/span> &lt;span class="s2">&amp;#34;aws&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> region&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;ap-northeast-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">//&lt;/span> &lt;span class="k">Create&lt;/span> &lt;span class="k">a&lt;/span> &lt;span class="k">VPC&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;aws_vpc&amp;#34; &amp;#34;default&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> cidr_block&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;10.0.0.0/16&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> tags&lt;/span> &lt;span class="o">=&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> Name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;terraform_default_vpc_${var.env}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">//&lt;/span> &lt;span class="k">public&lt;/span> &lt;span class="k">subnet&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;aws_subnet&amp;#34; &amp;#34;public_subnet_1&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> vpc_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">aws_vpc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">default&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> cidr_block&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;10.0.0.0/24&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> tags&lt;/span> &lt;span class="o">=&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> Name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;terraform_public_subnet_1_${var.env}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">//&lt;/span> &lt;span class="k">private&lt;/span> &lt;span class="k">subnet&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;aws_subnet&amp;#34; &amp;#34;private_subnet_1&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> vpc_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">aws_vpc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">default&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> cidr_block&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;10.0.10.0/24&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> tags&lt;/span> &lt;span class="o">=&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> Name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;terraform_private_subnet_1_${var.env}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">//&lt;/span> &lt;span class="k">private&lt;/span> &lt;span class="k">NAT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;aws_nat_gateway&amp;#34; &amp;#34;private_nat&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> connectivity_type&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;private&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> subnet_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">aws_subnet&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">private_subnet_1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> tags&lt;/span> &lt;span class="o">=&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> Name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;terraform_nat_${var.env}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">//&lt;/span> &lt;span class="k">Internet&lt;/span> &lt;span class="k">gateway&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;aws_internet_gateway&amp;#34; &amp;#34;igw&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> vpc_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">aws_vpc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">default&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> tags&lt;/span> &lt;span class="o">=&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> Name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;terraform_igw_${var.env}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="terraform-ë„ì…ê³¼-ê´€ë ¨ëœ-ê¸°ìˆ -ë¸”ë¡œê·¸">Terraform ë„ì…ê³¼ ê´€ë ¨ëœ ê¸°ìˆ  ë¸”ë¡œê·¸
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://techblog.woowahan.com/2646/" target="_blank" rel="noopener"
>ì¢Œì¶©ìš°ëŒ Terraform ì…ë¬¸ê¸°, ìš°ì•„í•œí˜•ì œë“¤ ê¸°ìˆ ë¸”ë¡œê·¸&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://helloworld.kurly.com/blog/terraform-adventure/" target="_blank" rel="noopener"
>DevOpsíŒ€ì˜ Terraform ëª¨í—˜&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://saramin.github.io/2022-10-21-terraform/" target="_blank" rel="noopener"
>Terraform IaC ë„êµ¬ë¥¼ í™œìš©í•œ AWS ì›¹ì½˜ì†” í´ë¦­ ë…¸ê°€ë‹¤ í•´ë°©ê¸°&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>â†’ ë‹¤ë“¤ ì›¹ì½˜ì†”ì—ì„œì˜ í•´ë°©ì„ ì™¸ì¹˜ê³  ìˆì—ˆë‹¤..&lt;/p></description></item></channel></rss>